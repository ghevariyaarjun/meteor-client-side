//////////////////////////////////////////////////////////////////////////
//                                                                      //
// This is a generated file. You can view the original                  //
// source in your browser if your browser supports source maps.         //
// Source maps are supported by all recent versions of Chrome, Safari,  //
// and Firefox, and by Internet Explorer 11.                            //
//                                                                      //
//////////////////////////////////////////////////////////////////////////
(function(){var e,t;(function(){e={}}).call(this),function(){(function(){var t=this,n=t._,r={},i=Array.prototype,s=Object.prototype,o=Function.prototype,u=i.push,a=i.slice,f=i.concat,l=s.toString,c=s.hasOwnProperty,h=i.forEach,p=i.map,d=i.reduce,v=i.reduceRight,m=i.filter,g=i.every,y=i.some,b=i.indexOf,w=i.lastIndexOf,E=Array.isArray,S=Object.keys,x=o.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof e!="undefined"?(typeof module!="undefined"&&module.exports&&(e=module.exports=T),e._=T):t._=T,T.VERSION="1.5.2";var N=function(e){return l.call(e)==="[object Arguments]"};N(arguments)||(N=function(e){return!!e&&!!c.call(e,"callee")&&typeof e.callee=="function"});var C=function(e){return e.length===+e.length&&(N(e)||e.constructor!==Object)},k=T.each=T.forEach=function(e,t,n){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,n);else if(C(e)){for(var i=0,s=e.length;i<s;i++)if(t.call(n,e[i],i,e)===r)return}else{var o=T.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(n,e[o[i]],o[i],e)===r)return}};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(k(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var L="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);k(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(L);return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(!C(e)){var o=T.keys(e);s=o.length}k(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(L);return n},T.find=T.detect=function(e,t,n){var r;return A(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(k(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,n):(k(e,function(e,s,o){if(!(i=i&&t.call(n,e,s,o)))return r}),!!i)};var A=T.some=T.any=function(e,t,n){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,n):(k(e,function(e,s,o){if(i||(i=t.call(n,e,s,o)))return r}),!!i)};T.contains=T.include=function(e,t){return e==null?!1:b&&e.indexOf===b?e.indexOf(t)!=-1:A(e,function(e){return e===t})},T.invoke=function(e,t){var n=a.call(arguments,2),r=T.isFunction(t);return T.map(e,function(e){return(r?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var O=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=O(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,r){var i={},s=n==null?T.identity:O(n);return k(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};T.groupBy=M(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=M(function(e,t,n){e[t]=n}),T.countBy=M(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:O(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?T.isArray(e)?a.call(e):C(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return e==null?0:C(e)?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:a.call(e,0,t)},T.initial=function(e,t,n){return a.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return a.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var _=function(e,t,n){return t&&T.every(e,T.isArray)?f.apply(n,e):(k(e,function(e){T.isArray(e)||T.isArguments(e)?t?u.apply(n,e):_(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return _(e,t,[])},T.without=function(e){return T.difference(e,a.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var i=n?T.map(e,n,r):e,s=[],o=[];return k(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=a.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=f.apply(i,a.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var D=function(){};T.bind=function(e,t){var n,r;if(x&&e.bind===x)return x.apply(e,a.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=a.call(arguments,2),r=function(){if(this instanceof r){D.prototype=e.prototype;var i=new D;D.prototype=null;var s=e.apply(i,n.concat(a.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(a.call(arguments)))}},T.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},T.bindAll=function(e){var t=a.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(a.call(arguments,1)))},T.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},T.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return u.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){var t=T.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},T.pairs=function(e){var t=T.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},T.invert=function(e){var t={},n=T.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=f.apply(i,a.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=f.apply(i,a.call(arguments,1));for(var r in e)T.contains(n,r)||(t[r]=e[r]);return t},T.defaults=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var P=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=P(e[a],t[a],n,r)))break}else{for(var c in e)if(T.has(e,c)){a++;if(!(f=T.has(t,c)&&P(e[c],t[c],n,r)))break}if(f){for(c in t)if(T.has(t,c)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f};T.isEqual=function(e,t){return P(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return t._=n,this},T.identity=function(e){return e},T.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},T.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=T.invert(H.escape);var B={escape:new RegExp("["+T.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(H.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(B[e],function(t){return H[e][t]})}}),T.result=function(e,t){if(e==null)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){k(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),R.call(this,n.apply(T,e))}})};var j=0;T.uniqueId=function(e){var t=++j+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var r;n=T.defaults({},n,T.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(q,function(e){return"\\"+I[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,T);var a=function(e){return r.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},T.chain=function(e){return T(e).chain()};var R=function(e){return this._chain?T(e).chain():e};T.mixin(T),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(e){var t=i[e];T.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=e._}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.underscore={},{_:t})})(),function(){var e=Package.underscore._,t=this.__meteor_runtime_config__||{};__meteor_runtime_config__=e.defaults({},t,{meteorEnv:{},DDP_DEFAULT_CONNECTION_URL:"http://localhost:3030"})}.call(this),function(){var e=Package.underscore._,t,n,r;(function(){t=this}).call(this),function(){n=__meteor_runtime_config__.meteorEnv,r={isProduction:n.NODE_ENV==="production",isDevelopment:n.NODE_ENV!=="production",isClient:!0,isServer:!1,isCordova:!1},typeof __meteor_runtime_config__=="object"&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(r.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}.call(this),function(){function i(e){if(e)return r._debug("Exception in callback of async function",e.stack?e.stack:e)}if(r.isServer)var t=Npm.require("fibers/future");typeof __meteor_runtime_config__=="object"&&__meteor_runtime_config__.meteorRelease&&(r.release=__meteor_runtime_config__.meteorRelease),e.extend(r,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return undefined;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){var t=[e],n=!0;for(var r=1;r<arguments.length-1;r++){var i=arguments[r];if(!(i in e)){n=!1;break}e=e[i];if(typeof e!="object")break;t.push(e)}for(var r=t.length-1;r>=0;r--){var i=arguments[r+1];if(n)n=!1;else for(var s in t[r][i])return;delete t[r][i]}},wrapAsync:function(n,s){return function(){var o=s||this,u=e.toArray(arguments),a;for(var f=u.length-1;f>=0;--f){var l=u[f],c=typeof l;if(c!=="undefined"){c==="function"&&(a=l);break}}if(!a){if(r.isClient)a=i;else{var h=new t;a=h.resolver()}++f}u[f]=r.bindEnvironment(a);var p=n.apply(o,u);return h?h.wait():p}},_inherits:function(t,n){for(var r in n)e.has(n,r)&&(t[r]=n[r]);var i=function(){this.constructor=t};return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t}});var n=!1;r._wrapAsync=function(e,t){return n||(r._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),n=!0),r.wrapAsync.apply(r,arguments)}}.call(this),function(){"use strict";function t(){if(!e.setImmediate)return null;var t=function(t){e.setImmediate(t)};return t.implementation="setImmediate",t}function n(){function o(e,t){return typeof e=="string"&&e.substring(0,t.length)===t}function u(t){if(t.source===e&&o(t.data,s)){var n=t.data.substring(s.length);try{i[n]&&i[n]()}finally{delete i[n]}}}if(!e.postMessage||e.importScripts)return null;var t=!0,n=e.onmessage;e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n;if(!t)return null;var r=0,i={},s="Meteor._setImmediate."+Math.random()+".";e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u);var a=function(t){++r,i[r]=t,e.postMessage(s+r,"*")};return a.implementation="postMessage",a}function i(){var t=function(t){e.setTimeout(t,0)};return t.implementation="setTimeout",t}var e=this;r._setImmediate=t()||n()||i()}.call(this),function(){var t=function(e){if(Package.ddp){var t=Package.ddp.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},n=function(e,n){return r.bindEnvironment(t(n),e)};e.extend(r,{setTimeout:function(e,t){return setTimeout(n("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(n("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(e){r._setImmediate(n("defer callback",e))}})}.call(this),function(){r.makeErrorType=function(e,t){var n=function(){Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack,t.apply(this,arguments),this.errorType=e};return r._inherits(n,Error),n},r.Error=r.makeErrorType("Meteor.Error",function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),r.Error.prototype.clone=function(){var e=this;return new r.Error(e.error,e.reason,e.details)}}.call(this),function(){r._noYieldsAllowed=function(e){return e()},r._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1,e._runTimeout=null},e.extend(r._SynchronousQueue.prototype,{runTask:function(t){var n=this;if(!n.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");n._tasks.push(t);var i=n._tasks;n._tasks=[],n._running=!0,n._runTimeout&&(clearTimeout(n._runTimeout),n._runTimeout=null);try{while(!e.isEmpty(i)){var s=i.shift();try{s()}catch(o){if(e.isEmpty(i))throw o;r._debug("Exception in queued task: "+(o.stack||o))}}}finally{n._running=!1}},queueTask:function(t){var n=this;n._tasks.push(t),n._runTimeout||(n._runTimeout=setTimeout(e.bind(n.flush,n),0))},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var t=this;if(!t.safeToRunTask())return;while(!e.isEmpty(t._tasks))t.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var e=[],t=!1,n=!1,i=0,s=function(){i++},o=function(){i--,u()},u=function(){if(n||!t||i>0)return;n=!0;while(e.length)e.shift()();r.isCordova&&WebAppLocalServer.startupDidComplete()},a=function(){t||(t=!0,u())};r.isCordova&&(s(),document.addEventListener("deviceready",o,!1)),document.readyState==="complete"||document.readyState==="loaded"?window.setTimeout(a):document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&a()}),window.attachEvent("load",a)),r.startup=function(t){var i=!document.addEventListener&&document.documentElement.doScroll;if(!i||window!==top)n?t():e.push(t);else{try{i("left")}catch(s){setTimeout(function(){r.startup(t)},50);return}t()}}}.call(this),function(){var e=0;r._debug=function(){if(e){e--;return}if(typeof console!="undefined"&&typeof console.log!="undefined")if(arguments.length==0)console.log("");else if(typeof console.log.apply=="function"){var t=!0;for(var n=0;n<arguments.length;n++)typeof arguments[n]!="string"&&(t=!1);t?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if(typeof Function.prototype.bind=="function"){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},r._suppress_log=function(t){e+=t},r._suppressed_log_expected=function(){return e!==0}}.call(this),function(){r._escapeRegExp=function(e){return String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var e;r.isClient?e=n.TEST_METADATA:e=process.env.TEST_METADATA;var t=JSON.parse(e||"{}"),i=t.driverPackage;r.isTest=!!t.isTest,r.isAppTest=!!t.isAppTest,r.isPackageTest=!!i&&!r.isTest&&!r.isAppTest,typeof i=="string"&&r.startup(function(){var e=Package[i];if(!e)throw new Error("Can't find test driver package: "+i);if(r.isClient){if(typeof e.runTests!="function")throw new Error("Test driver package "+i+" missing `runTests` export");e.runTests()}else typeof e.start=="function"&&e.start()})}.call(this),function(){var t=0,n=[];r.EnvironmentVariable=function(){this.slot=t++},e.extend(r.EnvironmentVariable.prototype,{get:function(){return n[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(e,t){var r=n[this.slot];try{n[this.slot]=e;var i=t()}finally{n[this.slot]=r}return i}}),r.bindEnvironment=function(t,i,s){var o=e.clone(n);if(!i||typeof i=="string"){var u=i||"callback of async function";i=function(e){r._debug("Exception in "+u+":",e&&e.stack||e)}}return function(){var r=n;try{n=o;var u=t.apply(s,e.toArray(arguments))}catch(a){i(a)}finally{n=r}return u}},r._nodeCodeMustBeInFiber=function(){}}.call(this),function(){r.absoluteUrl=function(t,n){!n&&typeof t=="object"&&(n=t,t=undefined),n=e.extend({},r.absoluteUrl.defaultOptions,n||{});var i=n.rootUrl;if(!i)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(i)||(i="http://"+i),/\/$/.test(i)||(i+="/"),t&&(i+=t),n.secure&&/^http:/.test(i)&&!/http:\/\/localhost[:\/]/.test(i)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(i)&&(i=i.replace(/^http:/,"https:")),n.replaceLocalhost&&(i=i.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),i},r.absoluteUrl.defaultOptions={},typeof __meteor_runtime_config__=="object"&&__meteor_runtime_config__.ROOT_URL&&(r.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),r._relativeToSiteRootUrl=function(e){return typeof __meteor_runtime_config__=="object"&&e.substr(0,1)==="/"&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.meteor={},{Meteor:r,global:t,meteorEnv:n})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r,i;r=function(e){function a(e,t){return c(e)&&(y(o,e,t),h(n)&&n(u)),u}function f(e){this.id=e,this.children=[]}function l(e,t){return s.call(e,t)&&e[t]}function c(e){return e&&typeof e=="object"}function h(e){return typeof e=="function"}function p(e){return typeof e=="string"}function d(e){function t(t){var n=S(e,t);if(n)return m(n,e.m);var r=new Error("Cannot find module '"+t+"'");if(h(i))return i(t,e.m.id,r);throw r}return t.resolve=function(t){var n=S(e,t);if(n)return n.m.id;var r=new Error("Cannot find module '"+t+"'");if(i&&h(i.resolve))return i.resolve(t,e.m.id,r);throw r},t}function v(e,t){var n=this;n.p=t=t||null,n.m=new f(e)}function m(e,t){var n=e&&e.c,r=e.m;if(!s.call(r,"exports")){if(t){r.parent=t;var i=t.children;Array.isArray(i)&&i.push(r)}(!h(r.useNode)||!r.useNode())&&n(r.require=r.require||d(e),r.exports={},r,e.m.id,e.p.m.id),r.loaded=!0}return h(r.runModuleSetters)&&r.runModuleSetters(),r.exports}function g(e){return e&&c(e.c)}function y(e,t,n){if(Array.isArray(t)){var r=[];t.forEach(function(e){p(e)?r.push(e):h(e)&&(t=e)}),h(t)?t.d=r:t=null}else h(t)?t.d=t.d||[]:!p(t)&&!c(t)&&(t=null);t&&(e.c=e.c||(c(t)?{}:t),c(t)&&g(e)&&Object.keys(t).forEach(function(r){if(r==="..")i=e.p;else{var i=l(e.c,r);i||(i=e.c[r]=new v(e.m.id.replace(/\/*$/,"/")+r,e),i.o=n)}y(i,t[r],n)}))}function b(e){return e.o&&e.o.extensions||t}function w(e,t,n){while(e&&!g(e))e=e.p;if(!e||!t||t===".")return e;if(t==="..")return e.p;var r=l(e.c,t);if(n&&(!r||g(r)))for(var i=0;i<n.length;++i){var s=l(e.c,t+n[i]);if(s)return s}return r}function E(e,t,n){var r=t.split("/");return r.every(function(t,i){return e=i<r.length-1?w(e,t):w(e,t,n)}),e}function S(e,t,n){var r=b(e);e=t.charAt(0)==="/"?E(o,t,r):t.charAt(0)==="."?E(e,t,r):x(e,t,r);while(g(e)){n=n||[];if(n.indexOf(e)<0){n.push(e);var i=w(e,"package.json"),s=i&&m(i).main;if(p(s)){e=E(e,s,r)||S(e,s,n);if(e)continue}}e=w(e,"index.js")}return e&&p(e.c)&&(e=S(e,e.c,n)),e}function x(e,t,n){h(r)&&(t=r(t,e.m.id));if(p(t)){for(var i;e&&!i;e=e.p)i=g(e)&&E(e,"node_modules/"+t,n);return i}}e=e||{};var t=e.extensions||[".js",".json"],n=e.onInstall,r=e.override,i=e.fallback,s={}.hasOwnProperty,o=new v("/",new v("/..")),u=d(o);return f.prototype.resolve=function(e){return this.require.resolve(e)},a.Module=f,a},typeof exports=="object"&&(exports.makeInstaller=r),function(){var t={},n=t.hasOwnProperty,s=/^[^./]/;t.fallback=function(e,t,n){if(s.test(e)&&typeof Npm=="object"&&typeof Npm.require=="function")return Npm.require(e);throw n},t.fallback.resolve=function(t,n,r){if(e.isServer&&s.test(t))return t;throw r},i=r(t);var o=i.Module.prototype;e.isServer&&(o.useNode=function(){if(typeof npmRequire!="function")return!1;var e=this.id.split("/"),t=0;e[t]===""&&++t,e[t]==="node_modules"&&e[t+1]==="meteor"&&(t+=2);if(e.indexOf("node_modules",t)<0)return!1;try{npmRequire.resolve(this.id)}catch(n){return!1}return this.exports=npmRequire(this.id),!0})}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["modules-runtime"]={},{meteorInstall:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package["modules-runtime"].meteorInstall,s,o,u=i({node_modules:{meteor:{modules:{"client.js":["./install-packages.js","./stubs.js","./buffer.js","./process.js","reify/lib/runtime","./css",function(e,t,n){e("./install-packages.js"),e("./stubs.js"),e("./buffer.js"),e("./process.js"),e("reify/lib/runtime").enable(n.constructor),t.addStyles=e("./css").addStyles}],"buffer.js":["buffer",function(e){try{s=t.Buffer||e("buffer").Buffer}catch(n){}}],"css.js":function(e,t){var n=document,r=n.getElementsByTagName("head").item(0);t.addStyles=function(e){var t=n.createElement("style");t.setAttribute("type","text/css");var i=t.sheet||t.styleSheet;return i?i.cssText=e:t.appendChild(n.createTextNode(e)),r.appendChild(t)}},"install-packages.js":function(e,t,n){function r(e,t){var n={};t?n[e+".js"]=[t,function(e,n,r){r.exports=e(t)}]:n[e+".js"]=function(t,n,r){r.exports=Package[e]},i({node_modules:{meteor:n}})}r("underscore"),r("meteor"),r("modules-runtime"),r("modules","meteor/modules/client.js"),r("base64"),r("ejson"),r("check","meteor/check/match.js"),r("promise","meteor/promise/client.js"),r("ecmascript-runtime","meteor/ecmascript-runtime/runtime.js"),r("babel-compiler"),r("ecmascript"),r("babel-runtime"),r("random"),r("tracker"),r("retry"),r("id-map"),r("ddp-common"),r("diff-sequence"),r("mongo-id"),r("ddp-client"),r("ddp"),r("ordered-dict"),r("geojson-utils","meteor/geojson-utils/main.js"),r("minimongo"),r("ddp-server"),r("allow-deny"),r("mongo"),r("ddp-rate-limiter"),r("localstorage"),r("callback-hook"),r("accounts-base","meteor/accounts-base/client_main.js"),r("sha"),r("srp"),r("accounts-password"),r("deps"),r("cfs:base-package"),r("livedata"),r("mongo-livedata"),r("raix:eventemitter"),r("cfs:storage-adapter"),r("cfs:filesystem"),r("cfs:standard-packages"),r("cfs:gridfs"),r("url"),r("http"),r("cfs:data-man"),r("cfs:file"),r("cfs:tempstore"),r("cfs:http-methods"),r("cfs:http-publish"),r("cfs:access-point"),r("cfs:reactive-property"),r("cfs:reactive-list"),r("cfs:power-queue"),r("cfs:upload-http"),r("cfs:collection"),r("cfs:collection-filters"),r("cfs:worker"),r("service-configuration")},"process.js":["process",function(s,u,a){try{o=t.process||s("process")}catch(f){o={}}e.isServer?i({node_modules:{"process.js":function(e,t,n){n.exports=o}}}):(o.platform="browser",o.nextTick=o.nextTick||e._setImmediate),typeof o.env!="object"&&(o.env={}),r.extend(o.env,n)}],"stubs.js":["meteor-node-stubs",function(e){try{e("meteor-node-stubs")}catch(t){}}],node_modules:{reify:{lib:{"runtime.js":["./entry.js","./utils.js",function(e,t,n){var r=e("./entry.js").Entry,i=e("./utils.js");t.enable=function(t){function s(e){var t=e.exports;t&&typeof t=="object"&&(t.__esModule=!0)}var n=t.prototype;return typeof n.import=="function"&&typeof n.export=="function"?t:(n.resolve=n.resolve||function(t){throw new Error("Module.prototype.resolve not implemented")},n.runModuleSetters=function(t){var n=r.get(this.id);return n&&n.runModuleSetters(this),t},n.import=function(t,i){var o=this;s(o);var u=o.resolve(t);if(i&&typeof i=="object"){var a=r.getOrCreate(u);a.addSetters(o,i)}var f=a&&a.runCount,l=typeof o.require=="function"?o.require(u):e(u);a&&a.runCount===f&&a.runModuleSetters({id:u,exports:l,getExportByName:n.getExportByName})},n.export=function(e){var t=this;s(t),i.isPlainObject(e)&&r.getOrCreate(t.id).addGetters(e),t.loaded&&t.runModuleSetters()},n.getExportByName=function(e){var t=this.exports;return e==="*"?t:e==="default"&&!(t&&typeof t=="object"&&t.__esModule&&"default"in t)?t:t&&t[e]},t)}}],"entry.js":["./utils.js",function(e,t,n){function o(e){this.id=e,this.runCount=0,this.setters=Object.create(null),this.getters=Object.create(null)}function a(e){var t=i[e.id];t&&t.runModuleSetters(e)}function f(e){var t=i[e.id];return t?t.runModuleGetters(e):0}var r=Object.prototype.hasOwnProperty,i=Object.create(null),s=e("./utils.js"),u=o.prototype;o.get=function(e){return i[e]||null},o.getOrCreate=function(e){return i[e]=i[e]||new o(e)},u.addSetters=function(e,t){var n=this;Object.keys(t).forEach(function(r){var i=t[r];typeof i=="function"&&r!=="__esModule"&&(i.parent=e,(n.setters[r]=n.setters[r]||[]).push(i))})},u.addGetters=function(e){var t=this;Object.keys(e).forEach(function(n){var r=e[n];typeof r=="function"&&n!=="__esModule"&&(t.getters[n]=r)})},u.runModuleGetters=function(e){var t=this,n=0;return Object.keys(t.getters).forEach(function(r){t.runGetter(e,r)&&++n}),n},u.runGetter=function(e,t){if(!r.call(this.getters,t))return!1;var n=this.getters[t];try{var i=n.call(e)}catch(s){}var o=e.exports;return!r.call(o,t)||o[t]!==i?(o[t]=i,!0):!1},u.runModuleSetters=function(e){function i(i,s){function o(e,t,n){if(n==="__esModule")return;e.last=e.last||Object.create(null);if(!r.call(e.last,n)||e.last[n]!==t)return i.apply(s,arguments)}n.forEach(function(n){t.setters[n].forEach(function(t){var r=e.getExportByName(n);n==="*"?Object.keys(r).forEach(function(e){o(t,r[e],e)}):o(t,r,n)})})}var t=this,n=Object.keys(t.setters);t.runModuleGetters(e);var o=[],u,l;i(function(e,t,n){var i=e.parent;l=l||Object.create(null),r.call(l,i.id)||(u=u||Object.create(null),u[i.id]=i,s.isPlainObject(i.exports)?l[i.id]=s.assign({},i.exports):l[i.id]=i.exports),o.push(e,t,n)});for(var c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],d=o[c+2];h.call(e,h.last[d]=p,d)}++t.runCount;if(!u)return;Object.keys(u).forEach(function(e){var t=u[e];if(f(t)>0)return a(t);var n=t.exports,r=l[t.id];if(s.shallowObjEqual(n,r))return;a(t)})},t.Entry=o}],"utils.js":function(e
,t){function s(e){return r.call(e)===i}var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=r.call({});t.isPlainObject=s,t.assign=Object.assign||function(e){var t=arguments.length;for(var n=1;n<t;++n){var r=arguments[n];if(r&&typeof r=="object"){var i=Object.keys(r);for(var s=0;s<i.length;++s){var o=i[s];e[o]=r[o]}}}return e},t.shallowObjEqual=function(e,t){if(e===t)return!0;if(!s(e)||!s(t))return!1;var r=Object.keys(e),i=Object.keys(t);return r.length!==i.length?!1:r.every(function(r){return n.call(t,r)&&e[r]===t[r]})}}}}}}}}},{extensions:[".js",".json"]}),a=u("./node_modules/meteor/modules/client.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.modules=a,{meteorInstall:i,Buffer:s,process:o})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,s=Package.modules.process,o,u=r({node_modules:{meteor:{promise:{"client.js":["meteor-promise","./common.js",function(e,t){e("meteor-promise").makeCompatible(t.Promise=e("./common.js").Promise)}],"common.js":["promise/lib/es6-extensions",function(t,n){var r=this;typeof r.Promise=="function"?n.Promise=r.Promise:n.Promise=t("promise/lib/es6-extensions"),n.Promise.prototype.done=function(t,n){var r=this;arguments.length>0&&(r=this.then.apply(this,arguments)),r.then(null,function(t){e._setImmediate(function(){throw t})})}}],node_modules:{"meteor-promise":{"package.json":function(e,t){t.name="meteor-promise",t.version="0.7.2",t.main="promise_client.js"},"promise_client.js":function(t,n){function r(e){throw e}n.makeCompatible=function(t){var n=t.prototype.then;t.prototype.then=function(t,i){return typeof e=="object"&&typeof e.bindEnvironment=="function"?n.call(this,t&&e.bindEnvironment(t,r),i&&e.bindEnvironment(i,r)):n.call(this,t,i)}}}},promise:{lib:{"es6-extensions.js":["./core.js",function(e,t,n){"use strict";function l(e){var t=new r(r._61);return t._81=1,t._65=e,t}var r=e("./core.js");n.exports=r;var i=l(!0),s=l(!1),o=l(null),u=l(undefined),a=l(0),f=l("");r.resolve=function(e){if(e instanceof r)return e;if(e===null)return o;if(e===undefined)return u;if(e===!0)return i;if(e===!1)return s;if(e===0)return a;if(e==="")return f;if(typeof e=="object"||typeof e=="function")try{var t=e.then;if(typeof t=="function")return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return l(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function s(o,u){if(u&&(typeof u=="object"||typeof u=="function")){if(u instanceof r&&u.then===r.prototype.then){while(u._81===3)u=u._65;if(u._81===1)return s(o,u._65);u._81===2&&n(u._65),u.then(function(e){s(o,e)},n);return}var a=u.then;if(typeof a=="function"){var f=new r(a.bind(u));f.then(function(e){s(o,e)},n);return}}t[o]=u,--i===0&&e(t)}if(t.length===0)return e([]);var i=t.length;for(var o=0;o<t.length;o++)s(o,t[o])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype["catch"]=function(e){return this.then(null,e)}}],"core.js":["asap/raw",function(e,t,n){"use strict";function i(){}function u(e){try{return e.then}catch(t){return s=t,o}}function a(e,t){try{return e(t)}catch(n){return s=n,o}}function f(e,t,n){try{e(t,n)}catch(r){return s=r,o}}function l(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null;if(e===i)return;y(e,this)}function c(e,t,n){return new e.constructor(function(r,s){var o=new l(i);o.then(r,s),h(e,new g(t,n,o))})}function h(e,t){while(e._81===3)e=e._65;l._10&&l._10(e);if(e._81===0){if(e._45===0){e._45=1,e._54=t;return}if(e._45===1){e._45=2,e._54=[e._54,t];return}e._54.push(t);return}p(e,t)}function p(e,t){r(function(){var n=e._81===1?t.onFulfilled:t.onRejected;if(n===null){e._81===1?d(t.promise,e._65):v(t.promise,e._65);return}var r=a(n,e._65);r===o?v(t.promise,s):d(t.promise,r)})}function d(e,t){if(t===e)return v(e,new TypeError("A promise cannot be resolved with itself."));if(t&&(typeof t=="object"||typeof t=="function")){var n=u(t);if(n===o)return v(e,s);if(n===e.then&&t instanceof l){e._81=3,e._65=t,m(e);return}if(typeof n=="function"){y(n.bind(t),e);return}}e._81=1,e._65=t,m(e)}function v(e,t){e._81=2,e._65=t,l._97&&l._97(e,t),m(e)}function m(e){e._45===1&&(h(e,e._54),e._54=null);if(e._45===2){for(var t=0;t<e._54.length;t++)h(e,e._54[t]);e._54=null}}function g(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function y(e,t){var n=!1,r=f(e,function(e){if(n)return;n=!0,d(t,e)},function(e){if(n)return;n=!0,v(t,e)});!n&&r===o&&(n=!0,v(t,s))}var r=e("asap/raw"),s=null,o={};n.exports=l,l._10=null,l._97=null,l._61=i,l.prototype.then=function(e,t){if(this.constructor!==l)return c(this,e,t);var n=new l(i);return h(this,new g(e,t,n)),n}}]},node_modules:{asap:{"raw.js":["domain",function(e,t,n){"use strict";function o(e){u.length||(h(),a=!0),u[u.length]=e}function c(){while(f<u.length){var e=f;f+=1,u[e].call();if(f>l){for(var t=0,n=u.length-f;t<n;t++)u[t]=u[t+f];u.length-=f,f=0}}u.length=0,f=0,a=!1}function h(){var t=s.domain;t&&(r||(r=e("domain")),r.active=s.domain=null),a&&i?setImmediate(c):s.nextTick(c),t&&(r.active=s.domain=t)}var r,i=typeof setImmediate=="function";n.exports=o;var u=[],a=!1,f=0,l=1024;o.requestFlush=h}]}}}}}}}},{extensions:[".js",".json"]}),a=u("./node_modules/meteor/promise/client.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.promise=a,{Promise:o})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,s=Package.modules.process,o=Package.promise.Promise,u,a=r({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":["meteor-babel-helpers","regenerator-runtime",function(e,t,n){var i=Object.prototype.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator";u=e("meteor-babel-helpers");var f={taggedTemplateLiteralLoose:function(e,t){return e.raw=t,e},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},inherits:function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);if(t){if(Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){this.constructor=e};n.prototype=t.prototype,e.prototype=new n}Object.getOwnPropertyNames(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);if(r&&typeof r=="object"){if(Object.getOwnPropertyDescriptor(e,n))return;Object.defineProperty(e,n,r)}})}},createClass:function(){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=!1;try{Object.defineProperty({},"x",{}),e=!0}catch(t){}return function(t,r,i){if(!e)throw new Error("Your browser does not support this type of class property.  For example, Internet Explorer 8 does not support getters and setters.");return r&&n(t.prototype,r),i&&n(t,i),t}}(),"typeof":function(e){return e&&e.constructor===Symbol?"symbol":typeof e},possibleConstructorReturn:function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");var n=typeof t;return t&&n==="function"||n==="object"?t:e},interopRequireDefault:function(e){return e&&e.__esModule?e:{"default":e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},interopExportWildcard:function(e,t){var n=t({},e);return delete n["default"],n},defaults:function(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r&&r.configurable&&typeof e[n]=="undefined"&&Object.defineProperty(e,n,r)}),e},"extends":Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e},objectWithoutProperties:function(e,t){var n={};e:for(var r in e){if(!i.call(e,r))continue;for(var s=0;s<t.length;s++)if(t[s]===r)continue e;n[r]=e[r]}return n},objectDestructuringEmpty:function(e){if(e==null)throw new TypeError("Cannot destructure undefined")},bind:Function.prototype.bind||function(){var e=function(e){return typeof e=="function"},t=Object,n=Object.prototype.toString,r=Array.prototype.slice,i=Array.prototype.concat,s=Array.prototype.push,o=Math.max,u=function(){};return function(a){var f=this;if(!e(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);var l=r.call(arguments,1),c,h=function(){if(this instanceof c){var e=f.apply(this,i.call(l,r.call(arguments)));return t(e)===e?e:this}return f.apply(a,i.call(l,r.call(arguments)))},p=o(0,f.length-l.length),d=[];for(var v=0;v<p;v++)s.call(d,"$"+v);return c=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this, arguments); }")(h),f.prototype&&(u.prototype=f.prototype,c.prototype=new u,u.prototype=null),c}}(),toConsumableArray:function(e){if(Array.isArray(e)){for(var t=e.length-1,n=Array(t+1);t>=0;--t)n[t]=e[t];return n}return Array.from(e)},toArray:function(e){return Array.isArray(e)?e:Array.from(e)},slicedToArray:function(e,t){if(Array.isArray(e))return e;if(e){var n=e[a](),r=[],i;typeof t!="number"&&(t=Infinity);while(r.length<t&&!(i=n.next()).done)r.push(i.value);return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},slice:Array.prototype.slice};Object.keys(f).forEach(function(e){var t={};t[e+".js"]=function(t,n,r){r.exports=f[e]},r({node_modules:{"babel-runtime":{helpers:t}}})}),r({node_modules:{"babel-runtime":{"regenerator.js":function(t,n,r){var i=e("regenerator-runtime");if(typeof o=="function"&&typeof o.asyncApply=="function"){var s=i.async;i.async=function(){return o.asyncApply(s,i,arguments)}}r.exports=i}}}})}],node_modules:{"meteor-babel-helpers":{"package.json":function(e,t){t.name="meteor-babel-helpers",t.version="0.0.3",t.main="index.js"},"index.js":function(e,t,n){function r(){var e={},t="t";try{Object.defineProperty(e,t,{enumerable:!1,value:e});for(var n in e)if(n===t)return!1}catch(r){return!1}return e[t]===e}function i(e){return e}function s(e){if(Array.isArray(e)){var t={},n=Object.keys(e),r=n.length;for(var i=0;i<r;++i){var s=n[i];t[s]=e[s]}return t}return e}u=n.exports={sanitizeForInObject:r()?i:s,_sanitizeForInObjectHard:s}}},"regenerator-runtime":{"package.json":function(e,t,n){t.name="regenerator-runtime",t.version="0.9.5",t.main="runtime-module.js"},"runtime-module.js":["./runtime",function(e,n,r){var i=typeof t=="object"?t:typeof window=="object"?window:typeof self=="object"?self:this,s=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=s&&i.regeneratorRuntime;i.regeneratorRuntime=undefined,r.exports=e("./runtime");if(s)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(u){i.regeneratorRuntime=undefined}}],"runtime.js":function(e,n,r){!function(e){"use strict";function c(e,t,n,r){var i=Object.create((t||y).prototype),s=new L(r||[]);return i._invoke=N(e,n,s),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function y(){}function b(){}function w(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){this.arg=e}function T(e){function t(n,r,i,s){var u=h(e[n],e,r);if(u.type!=="throw"){var a=u.arg,f=a.value;return f instanceof x?o.resolve(f.arg).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):o.resolve(f).then(function(e){a.value=e,i(a)},s)}s(u.arg)}function r(e,r){function i(){return new o(function(n,i){t(e,r,n,i)})}return n=n?n.then(i,i):i()}typeof s=="object"&&s.domain&&(t=s.domain.bind(t));var n;this._invoke=r}function N(e,t,r){var i=p;return function(o,u){if(i===v)throw new Error("Generator is already running");if(i===m){if(o==="throw")throw u;return O()}for(;;){var a=r.delegate;if(a){if(o==="return"||o==="throw"&&a.iterator[o]===n){r.delegate=null;var f=a.iterator["return"];if(f){var l=h(f,a.iterator,u);if(l.type==="throw"){o="throw",u=l.arg;continue}}if(o==="return")continue}var l=h(a.iterator[o],a.iterator,u);if(l.type==="throw"){r.delegate=null,o="throw",u=l.arg;continue}o="next",u=n;var c=l.arg;if(!c.done)return i=d,c;r[a.resultName]=c.value,r.next=a.nextLoc,r.delegate=null}if(o==="next")r.sent=r._sent=u;else if(o==="throw"){if(i===p)throw i=m,u;r.dispatchException(u)&&(o="next",u=n)}else o==="return"&&r.abrupt("return",u);i=v;var l=h(e,t,r);if(l.type==="normal"){i=r.done?m:d;var c={value:l.arg,done:r.done};if(l.arg!==g)return c;r.delegate&&o==="next"&&(u=n)}else l.type==="throw"&&(i=m,o="throw",u=l.arg)}}}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var r=e[u];if(r)return r.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var i=-1,s=function o(){while(++i<e.length)if(t.call(e,i))return o.value=e[i],o.done=!1,o;return o.value=n,o.done=!0,o};return s.next=s}}return{next:O}}function O(){return{value:n,done:!0}}var t=Object.prototype.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},u=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag",f=typeof r=="object",l=e.regeneratorRuntime;if(l){f&&(r.exports=l);return}l=e.regeneratorRuntime=f?r.exports:{},l.wrap=c;var p="suspendedStart",d="suspendedYield",v="executing",m="completed",g={},E=w.prototype=y.prototype;b.prototype=E.constructor=w,w.constructor=b,w[a]=b.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return t?t===b||(t.displayName||t.name)==="GeneratorFunction":!1},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(E),e},l.awrap=function(e){return new x(e)},S(T.prototype),l.async=function(e,t,n,r){var i=new T(c(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(E),E[u]=function(){return this},E[a]="Generator",E.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=A,L.prototype={constructor:L,reset:function(e){this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.tryEntries.forEach(k);if(!e)for(var r in this)r.charAt(0)==="t"&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(e){function r(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;var n=this;for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if(s.tryLoc==="root")return r("end");if(s.tryLoc<=this.prev){var u=t.call(s,"catchLoc"),a=t.call(s,"finallyLoc");if(u&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&t.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&(e==="break"||e==="continue")&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=n,s?this.next=s.finallyLoc:this.complete(o),g},complete:function(e,t){if(e.type==="throw")throw e.arg;e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=e.arg,this.next="end"):e.type==="normal"&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(r.type==="throw"){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},g}}}(typeof t=="object"?t:typeof window=="object"?window:typeof self=="object"?self:this)}}}}}}},{extensions:[".js",".json"]});a("./node_modules/meteor/babel-runtime/babel-runtime.js"),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["babel-runtime"]={},{meteorBabelHelpers:u})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,s=Package.modules.process,o=Package.promise.Promise,u,a,f,l,c,h=r({node_modules:{meteor:{"ecmascript-runtime":{"runtime.js":["meteor-ecmascript-runtime",function(e,t,n){n.exports=e("meteor-ecmascript-runtime")}],node_modules:{"meteor-ecmascript-runtime":{"package.json":function(e,t){t.name="meteor-ecmascript-runtime",t.version="0.2.9",t.main="index.js"},"index.js":["core-js/es6/object","core-js/es6/array","core-js/es6/string","core-js/es6/function","core-js/fn/array/includes","core-js/fn/object/values","core-js/fn/object/entries","core-js/fn/object/get-own-property-descriptors","core-js/fn/string/pad-start","core-js/fn/string/pad-end","core-js/fn/string/trim-start","core-js/fn/string/trim-end","core-js/es6/symbol","core-js/es6/map","core-js/es6/set",function(e,n){e("core-js/es6/object"),e("core-js/es6/array"),e("core-js/es6/string"),e("core-js/es6/function"),e("core-js/fn/array/includes"),e("core-js/fn/object/values"),e("core-js/fn/object/entries"),e("core-js/fn/object/get-own-property-descriptors"),e("core-js/fn/string/pad-start"),e("core-js/fn/string/pad-end"),e("core-js/fn/string/trim-start"),e("core-js/fn/string/trim-end"),u=n.Symbol=t.Symbol||e("core-js/es6/symbol"),a=n.Map=e("core-js/es6/map"),f=n.Set=e("core-js/es6/set")}]},"core-js":{es6:{"object.js":["../modules/es6.symbol","../modules/es6.object.create","../modules/es6.object.define-property","../modules/es6.object.define-properties","../modules/es6.object.get-own-property-descriptor","../modules/es6.object.get-prototype-of","../modules/es6.object.keys","../modules/es6.object.get-own-property-names","../modules/es6.object.freeze","../modules/es6.object.seal","../modules/es6.object.prevent-extensions","../modules/es6.object.is-frozen","../modules/es6.object.is-sealed","../modules/es6.object.is-extensible","../modules/es6.object.assign","../modules/es6.object.is","../modules/es6.object.set-prototype-of","../modules/es6.object.to-string","../modules/_core",function(e,t,n){e("../modules/es6.symbol"),e("../modules/es6.object.create"),e("../modules/es6.object.define-property"),e("../modules/es6.object.define-properties"),e("../modules/es6.object.get-own-property-descriptor"),e("../modules/es6.object.get-prototype-of"),e("../modules/es6.object.keys"),e("../modules/es6.object.get-own-property-names"),e("../modules/es6.object.freeze"),e("../modules/es6.object.seal"),e("../modules/es6.object.prevent-extensions"),e("../modules/es6.object.is-frozen"),e("../modules/es6.object.is-sealed"),e("../modules/es6.object.is-extensible"),e("../modules/es6.object.assign"),e("../modules/es6.object.is"),e("../modules/es6.object.set-prototype-of"),e("../modules/es6.object.to-string"),n.exports=e("../modules/_core").Object}],"array.js":["../modules/es6.string.iterator","../modules/es6.array.is-array","../modules/es6.array.from","../modules/es6.array.of","../modules/es6.array.join","../modules/es6.array.slice","../modules/es6.array.sort","../modules/es6.array.for-each","../modules/es6.array.map","../modules/es6.array.filter","../modules/es6.array.some","../modules/es6.array.every","../modules/es6.array.reduce","../modules/es6.array.reduce-right","../modules/es6.array.index-of","../modules/es6.array.last-index-of","../modules/es6.array.copy-within","../modules/es6.array.fill","../modules/es6.array.find","../modules/es6.array.find-index","../modules/es6.array.species","../modules/es6.array.iterator","../modules/_core",function(e,t,n){e("../modules/es6.string.iterator"),e("../modules/es6.array.is-array"),e("../modules/es6.array.from"),e("../modules/es6.array.of"),e("../modules/es6.array.join"),e("../modules/es6.array.slice"),e("../modules/es6.array.sort"),e("../modules/es6.array.for-each"),e("../modules/es6.array.map"),e("../modules/es6.array.filter"),e("../modules/es6.array.some"),e("../modules/es6.array.every"),e("../modules/es6.array.reduce"),e("../modules/es6.array.reduce-right"),e("../modules/es6.array.index-of"),e("../modules/es6.array.last-index-of"),e("../modules/es6.array.copy-within"),e("../modules/es6.array.fill"),e("../modules/es6.array.find"),e("../modules/es6.array.find-index"),e("../modules/es6.array.species"),e("../modules/es6.array.iterator"),n.exports=e("../modules/_core").Array}],"string.js":["../modules/es6.string.from-code-point","../modules/es6.string.raw","../modules/es6.string.trim","../modules/es6.string.iterator","../modules/es6.string.code-point-at","../modules/es6.string.ends-with","../modules/es6.string.includes","../modules/es6.string.repeat","../modules/es6.string.starts-with","../modules/es6.string.anchor","../modules/es6.string.big","../modules/es6.string.blink","../modules/es6.string.bold","../modules/es6.string.fixed","../modules/es6.string.fontcolor","../modules/es6.string.fontsize","../modules/es6.string.italics","../modules/es6.string.link","../modules/es6.string.small","../modules/es6.string.strike","../modules/es6.string.sub","../modules/es6.string.sup","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/_core",function(e,t,n){e("../modules/es6.string.from-code-point"),e("../modules/es6.string.raw"),e("../modules/es6.string.trim"),e("../modules/es6.string.iterator"),e("../modules/es6.string.code-point-at"),e("../modules/es6.string.ends-with"),e("../modules/es6.string.includes"),e("../modules/es6.string.repeat"),e("../modules/es6.string.starts-with"),e("../modules/es6.string.anchor"),e("../modules/es6.string.big"),e("../modules/es6.string.blink"),e("../modules/es6.string.bold"),e("../modules/es6.string.fixed"),e("../modules/es6.string.fontcolor"),e("../modules/es6.string.fontsize"),e("../modules/es6.string.italics"),e("../modules/es6.string.link"),e("../modules/es6.string.small"),e("../modules/es6.string.strike"),e("../modules/es6.string.sub"),e("../modules/es6.string.sup"),e("../modules/es6.regexp.match"),e("../modules/es6.regexp.replace"),e("../modules/es6.regexp.search"),e("../modules/es6.regexp.split"),n.exports=e("../modules/_core").String}],"function.js":["../modules/es6.function.bind","../modules/es6.function.name","../modules/es6.function.has-instance","../modules/_core",function(e,t,n){e("../modules/es6.function.bind"),e("../modules/es6.function.name"),e("../modules/es6.function.has-instance"),n.exports=e("../modules/_core").Function}],"symbol.js":["../modules/es6.symbol","../modules/es6.object.to-string","../modules/_core",function(e,t,n){e("../modules/es6.symbol"),e("../modules/es6.object.to-string"),n.exports=e("../modules/_core").Symbol}],"map.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.map","../modules/_core",function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),n.exports=e("../modules/_core").Map}],"set.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.set","../modules/_core",function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),n.exports=e("../modules/_core").Set}]},modules:{"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(e){"use strict";var t=e("./_global"),n=e("./_has"),r=e("./_descriptors"),i=e("./_export"),s=e("./_redefine"),o=e("./_meta").KEY,u=e("./_fails"),a=e("./_shared"),f=e("./_set-to-string-tag"),l=e("./_uid"),c=e("./_wks"),h=e("./_wks-ext"),p=e("./_wks-define"),d=e("./_keyof"),v=e("./_enum-keys"),m=e("./_is-array"),g=e("./_an-object"),y=e("./_to-iobject"),b=e("./_to-primitive"),w=e("./_property-desc"),E=e("./_object-create"),S=e("./_object-gopn-ext"),x=e("./_object-gopd"),T=e("./_object-dp"),N=e("./_object-keys"),C=x.f,k=T.f,L=S.f,A=t.Symbol,O=t.JSON,M=O&&O.stringify,_="prototype",D=c("_hidden"),P=c("toPrimitive"),H={}.propertyIsEnumerable,B=a("symbol-registry"),j=a("symbols"),F=a("op-symbols"),I=Object[_],q=typeof A=="function",R=t.QObject,U=!R||!R[_]||!R[_].findChild,z=r&&u(function(){return E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a!=7})?function(e,t,n){var r=C(I,t);r&&delete I[t],k(e,t,n),r&&e!==I&&k(I,t,r)}:k,W=function(e){var t=j[e]=E(A[_]);return t._k=e,t},X=q&&typeof A.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof A},V=function(t,r,i){return t===I&&V(F,r,i),g(t),r=b(r,!0),g(i),n(j,r)?(i.enumerable?(n(t,D)&&t[D][r]&&(t[D][r]=!1),i=E(i,{enumerable:w(0,!1)})):(n(t,D)||k(t,D,w(1,{})),t[D][r]=!0),z(t,r,i)):k(t,r,i)},$=function(t,n){g(t);var r=v(n=y(n)),i=0,s=r.length,o;while(s>i)V(t,o=r[i++],n[o]);return t},J=function(t,n){return n===undefined?E(t):$(E(t),n)},K=function tt(e){var t=H.call(this,e=b(e,!0));return this===I&&n(j,e)&&!n(F,e)?!1:t||!n(this,e)||!n(j,e)||n(this,D)&&this[D][e]?t:!0},Q=function(t,r){t=y(t),r=b(r,!0);if(t===I&&n(j,r)&&!n(F,r))return;var i=C(t,r);return i&&n(j,r)&&(!n(t,D)||!t[D][r])&&(i.enumerable=!0),i},G=function(t){var r=L(y(t)),i=[],s=0,u;while(r.length>s)!n(j,u=r[s++])&&u!=D&&u!=o&&i.push(u);return i},Y=function(t){var r=t===I,i=L(r?F:y(t)),s=[],o=0,u;while(i.length>o)n(j,u=i[o++])&&(r?n(I,u):!0)&&s.push(j[u]);return s};q||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:undefined),i=function(e){this===I&&i.call(F,e),n(this,D)&&n(this[D],t)&&(this[D][t]=!1),z(this,t,w(1,e))};return r&&U&&z(I,t,{configurable:!0,set:i}),W(t)},s(A[_],"toString",function nt(){return this._k}),x.f=Q,T.f=V,e("./_object-gopn").f=S.f=G,e("./_object-pie").f=K,e("./_object-gops").f=Y,r&&!e("./_library")&&s(I,"propertyIsEnumerable",K,!0),h.f=function(e){return W(c(e))}),i(i.G+i.W+i.F*!q,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;Z.length>et;)c(Z[et++]);for(var Z=N(c.store),et=0;Z.length>et;)p(Z[et++]);i(i.S+i.F*!q,"Symbol",{"for":function(e){return n(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(t){if(X(t))return d(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),i(i.S+i.F*!q,"Object",{create:J,defineProperty:V,defineProperties:$,getOwnPropertyDescriptor:Q,getOwnPropertyNames:G,getOwnPropertySymbols:Y}),O&&i(i.S+i.F*(!q||u(function(){var e=A();return M([e])!="[null]"||M({a:e})!="{}"||M(Object(e))!="{}"})),"JSON",{stringify:function(t){if(t===undefined||X(t))return;var n=[t],r=1,i,s;while(arguments.length>r)n.push(arguments[r++]);i=n[1],typeof i=="function"&&(s=i);if(s||!m(i))i=function(e,t){s&&(t=s.call(this,e,t));if(!X(t))return t};return n[1]=i,M.apply(O,n)}}),A[_][P]||e("./_hide")(A[_],P,A[_].valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(t.JSON,"JSON",!0)}],"_global.js":function(e,t,n){var r=n.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof l=="number"&&(l=r)},"_has.js":function(e,t,n){var r={}.hasOwnProperty;n.exports=function(e,t){return r.call(e,t)}},"_descriptors.js":["./_fails",function(e,t,n){n.exports=!e("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}],"_fails.js":function(e,t,n){n.exports=function(e){try{return!!e()}catch(t){return!0}}},"_export.js":["./_global","./_core","./_hide","./_redefine","./_ctx",function(e,t,n){var r=e("./_global"),i=e("./_core"),s=e("./_hide"),o=e("./_redefine"),u=e("./_ctx"),a="prototype",f=function(e,t,n){var l=e&f.F,c=e&f.G,h=e&f.S,p=e&f.P,d=e&f.B,v=c?r:h?r[t]||(r[t]={}):(r[t]||{})[a],m=c?i:i[t]||(i[t]={}),g=m[a]||(m[a]={}),y,b,w,E;c&&(n=t);for(y in n)b=!l&&v&&v[y]!==undefined,w=(b?v:n)[y],E=d&&b?u(w,r):p&&typeof w=="function"?u(Function.call,w):w,v&&o(v,y,w,e&f.U),m[y]!=w&&s(m,y,E),p&&g[y]!=w&&(g[y]=w)};r.core=i,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,n.exports=f}],"_core.js":function(e,t,n){var r=n.exports={version:"2.4.0"};typeof c=="number"&&(c=r)},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");n.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(e,t){var n=e("./_an-object"),r=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;t.f=e("./_descriptors")?Object.defineProperty:function(t,o,u){n(t),o=i(o,!0),n(u);if(r)try{return s(t,o,u)}catch(a){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(t[o]=u.value),t}}],"_an-object.js":["./_is-object",function(e,t,n){var r=e("./_is-object");n.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}}],"_is-object.js":function(e,t,n){n.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(e,t,n){n.exports=!e("./_descriptors")&&!e("./_fails")(function(){return Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})}],"_dom-create.js":["./_is-object","./_global",function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,s=r(i)&&r(i.createElement);n.exports=function(e){return s?i.createElement(e):{}}}],"_to-primitive.js":["./_is-object",function(e,t,n){var r=e("./_is-object");n.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&typeof (n=e.toString)=="function"&&!r(i=n.call(e)))return i;if(typeof (n=e.valueOf)=="function"&&!r(i=n.call(e)))return i;if(!t&&typeof (n=e.toString)=="function"&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(e,t,n){n.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},"_redefine.js":["./_global","./_hide","./_has","./_uid","./_core",function(e,t,n){var r=e("./_global"),i=e("./_hide"),s=e("./_has"),o=e("./_uid")("src"),u="toString",a=Function[u],f=(""+a).split(u);e("./_core").inspectSource=function(e){return a.call(e)},(n.exports=function(e,t,n,u){var a=typeof n=="function";a&&(s(n,"name")||i(n,"name",t));if(e[t]===n)return;a&&(s(n,o)||i(n,o,e[t]?""+e[t]:f.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n))})(Function.prototype,u,function l(){return typeof this=="function"&&this[o]||a.call(this)})}],"_uid.js":function(e,t,n){var r=0,i=Math.random();n.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+i).toString(36))}},"_ctx.js":["./_a-function",function(e,t,n){var r=e("./_a-function");n.exports=function(e,t,n){r(e);if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}}],"_a-function.js":function(e,t,n){n.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},"_meta.js":["./_uid","./_is-object"
,"./_has","./_object-dp","./_fails",function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),s=e("./_has"),o=e("./_object-dp").f,u=0,a=Object.isExtensible||function(){return!0},f=!e("./_fails")(function(){return a(Object.preventExtensions({}))}),l=function(e){o(e,r,{value:{i:"O"+ ++u,w:{}}})},c=function(e,t){if(!i(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!s(e,r)){if(!a(e))return"F";if(!t)return"E";l(e)}return e[r].i},h=function(e,t){if(!s(e,r)){if(!a(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return f&&d.NEED&&a(e)&&!s(e,r)&&l(e),e},d=n.exports={KEY:r,NEED:!1,fastKey:c,getWeak:h,onFreeze:p}}],"_shared.js":["./_global",function(e,t,n){var r=e("./_global"),i="__core-js_shared__",s=r[i]||(r[i]={});n.exports=function(e){return s[e]||(s[e]={})}}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),s=e("./_wks")("toStringTag");n.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}}],"_wks.js":["./_shared","./_uid","./_global",function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),s=e("./_global").Symbol,o=typeof s=="function",u=n.exports=function(e){return r[e]||(r[e]=o&&s[e]||(o?s:i)("Symbol."+e))};u.store=r}],"_wks-ext.js":["./_wks",function(e,t){t.f=e("./_wks")}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(e,t,n){var r=e("./_global"),i=e("./_core"),s=e("./_library"),o=e("./_wks-ext"),u=e("./_object-dp").f;n.exports=function(e){var t=i.Symbol||(i.Symbol=s?{}:r.Symbol||{});e.charAt(0)!="_"&&!(e in t)&&u(t,e,{value:o.f(e)})}}],"_library.js":function(e,t,n){n.exports=!1},"_keyof.js":["./_object-keys","./_to-iobject",function(e,t,n){var r=e("./_object-keys"),i=e("./_to-iobject");n.exports=function(e,t){var n=i(e),s=r(n),o=s.length,u=0,a;while(o>u)if(n[a=s[u++]]===t)return a}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");n.exports=Object.keys||function(t){return r(t,i)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(e,t,n){var r=e("./_has"),i=e("./_to-iobject"),s=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");n.exports=function(e,t){var n=i(e),u=0,a=[],f;for(f in n)f!=o&&r(n,f)&&a.push(f);while(t.length>u)r(n,f=t[u++])&&(~s(a,f)||a.push(f));return a}}],"_to-iobject.js":["./_iobject","./_defined",function(e,t,n){var r=e("./_iobject"),i=e("./_defined");n.exports=function(e){return r(i(e))}}],"_iobject.js":["./_cof",function(e,t,n){var r=e("./_cof");n.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return r(e)=="String"?e.split(""):Object(e)}}],"_cof.js":function(e,t,n){var r={}.toString;n.exports=function(e){return r.call(e).slice(8,-1)}},"_defined.js":function(e,t,n){n.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(e,t,n){var r=e("./_to-iobject"),i=e("./_to-length"),s=e("./_to-index");n.exports=function(e){return function(t,n,o){var u=r(t),a=i(u.length),f=s(o,a),l;if(e&&n!=n)while(a>f){l=u[f++];if(l!=l)return!0}else for(;a>f;f++)if(e||f in u)if(u[f]===n)return e||f||0;return!e&&-1}}}],"_to-length.js":["./_to-integer",function(e,t,n){var r=e("./_to-integer"),i=Math.min;n.exports=function(e){return e>0?i(r(e),9007199254740991):0}}],"_to-integer.js":function(e,t,n){var r=Math.ceil,i=Math.floor;n.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},"_to-index.js":["./_to-integer",function(e,t,n){var r=e("./_to-integer"),i=Math.max,s=Math.min;n.exports=function(e,t){return e=r(e),e<0?i(e+t,0):s(e,t)}}],"_shared-key.js":["./_shared","./_uid",function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");n.exports=function(e){return r[e]||(r[e]=i(e))}}],"_enum-bug-keys.js":function(e,t,n){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(e,t,n){var r=e("./_object-keys"),i=e("./_object-gops"),s=e("./_object-pie");n.exports=function(e){var t=r(e),n=i.f;if(n){var o=n(e),u=s.f,a=0,f;while(o.length>a)u.call(e,f=o[a++])&&t.push(f)}return t}}],"_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(e,t,n){var r=e("./_cof");n.exports=Array.isArray||function(t){return r(t)=="Array"}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(e,t,n){var r=e("./_an-object"),i=e("./_object-dps"),s=e("./_enum-bug-keys"),o=e("./_shared-key")("IE_PROTO"),u=function(){},a="prototype",f=function(){var t=e("./_dom-create")("iframe"),n=s.length,r="<",i=">",o;t.style.display="none",e("./_html").appendChild(t),t.src="javascript:",o=t.contentWindow.document,o.open(),o.write(r+"script"+i+"document.F=Object"+r+"/script"+i),o.close(),f=o.F;while(n--)delete f[a][s[n]];return f()};n.exports=Object.create||function(t,n){var s;return t!==null?(u[a]=r(t),s=new u,u[a]=null,s[o]=t):s=f(),n===undefined?s:i(s,n)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(e,t,n){var r=e("./_object-dp"),i=e("./_an-object"),s=e("./_object-keys");n.exports=e("./_descriptors")?Object.defineProperties:function(t,n){i(t);var o=s(n),u=o.length,a=0,f;while(u>a)r.f(t,f=o[a++],n[f]);return t}}],"_html.js":["./_global",function(e,t,n){n.exports=e("./_global").document&&document.documentElement}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,s={}.toString,o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(t){return o.slice()}};n.exports.f=function(t){return o&&s.call(t)=="[object Window]"?u(t):i(r(t))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(e,t){var n=e("./_object-keys-internal"),r=e("./_enum-bug-keys").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(t){return n(t,r)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(e,t){var n=e("./_object-pie"),r=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),o=e("./_has"),u=e("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;t.f=e("./_descriptors")?a:function(t,f){t=i(t),f=s(f,!0);if(u)try{return a(t,f)}catch(l){}if(o(t,f))return r(!n.f.call(t,f),t[f])}}],"es6.object.create.js":["./_export","./_object-create",function(e){var t=e("./_export");t(t.S,"Object",{create:e("./_object-create")})}],"es6.object.define-property.js":["./_export","./_descriptors","./_object-dp",function(e){var t=e("./_export");t(t.S+t.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})}],"es6.object.define-properties.js":["./_export","./_descriptors","./_object-dps",function(e){var t=e("./_export");t(t.S+t.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})}],"es6.object.get-own-property-descriptor.js":["./_to-iobject","./_object-gopd","./_object-sap",function(e){var t=e("./_to-iobject"),n=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(r,i){return n(t(r),i)}})}],"_object-sap.js":["./_export","./_core","./_fails",function(e,t,n){var r=e("./_export"),i=e("./_core"),s=e("./_fails");n.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",o)}}],"es6.object.get-prototype-of.js":["./_to-object","./_object-gpo","./_object-sap",function(e){var t=e("./_to-object"),n=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(r){return n(t(r))}})}],"_to-object.js":["./_defined",function(e,t,n){var r=e("./_defined");n.exports=function(e){return Object(r(e))}}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(e,t,n){var r=e("./_has"),i=e("./_to-object"),s=e("./_shared-key")("IE_PROTO"),o=Object.prototype;n.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,s)?e[s]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}}],"es6.object.keys.js":["./_to-object","./_object-keys","./_object-sap",function(e){var t=e("./_to-object"),n=e("./_object-keys");e("./_object-sap")("keys",function(){return function(r){return n(t(r))}})}],"es6.object.get-own-property-names.js":["./_object-sap","./_object-gopn-ext",function(e){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})}],"es6.object.freeze.js":["./_is-object","./_meta","./_object-sap",function(e){var t=e("./_is-object"),n=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(i){return e&&t(i)?e(n(i)):i}})}],"es6.object.seal.js":["./_is-object","./_meta","./_object-sap",function(e){var t=e("./_is-object"),n=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(i){return e&&t(i)?e(n(i)):i}})}],"es6.object.prevent-extensions.js":["./_is-object","./_meta","./_object-sap",function(e){var t=e("./_is-object"),n=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(i){return e&&t(i)?e(n(i)):i}})}],"es6.object.is-frozen.js":["./_is-object","./_object-sap",function(e){var t=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(r){return t(r)?e?e(r):!1:!0}})}],"es6.object.is-sealed.js":["./_is-object","./_object-sap",function(e){var t=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(r){return t(r)?e?e(r):!1:!0}})}],"es6.object.is-extensible.js":["./_is-object","./_object-sap",function(e){var t=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(r){return t(r)?e?e(r):!0:!1}})}],"es6.object.assign.js":["./_export","./_object-assign",function(e){var t=e("./_export");t(t.S+t.F,"Object",{assign:e("./_object-assign")})}],"_object-assign.js":["./_object-keys","./_object-gops","./_object-pie","./_to-object","./_iobject","./_fails",function(e,t,n){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),s=e("./_object-pie"),o=e("./_to-object"),a=e("./_iobject"),f=Object.assign;n.exports=!f||e("./_fails")(function(){var e={},t={},n=u(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),f({},e)[n]!=7||Object.keys(f({},t)).join("")!=r})?function(t,n){var u=o(t),f=arguments.length,l=1,c=i.f,h=s.f;while(f>l){var p=a(arguments[l++]),d=c?r(p).concat(c(p)):r(p),v=d.length,m=0,g;while(v>m)h.call(p,g=d[m++])&&(u[g]=p[g])}return u}:f}],"es6.object.is.js":["./_export","./_same-value",function(e){var t=e("./_export");t(t.S,"Object",{is:e("./_same-value")})}],"_same-value.js":function(e,t,n){n.exports=Object.is||function(t,n){return t===n?t!==0||1/t===1/n:t!=t&&n!=n}},"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(e){var t=e("./_export");t(t.S,"Object",{setPrototypeOf:e("./_set-proto").set})}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(e,t,n){var r=e("./_is-object"),i=e("./_an-object"),s=function(e,t){i(e);if(!r(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(t,i){return s(t,i),n?t.__proto__=i:r(t,i),t}}({},!1):undefined),check:s}}],"es6.object.to-string.js":["./_classof","./_wks","./_redefine",function(e){"use strict";var t=e("./_classof"),n={};n[e("./_wks")("toStringTag")]="z",n+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function r(){return"[object "+t(this)+"]"},!0)}],"_classof.js":["./_cof","./_wks",function(e,t,n){var r=e("./_cof"),i=e("./_wks")("toStringTag"),s=r(function(){return arguments}())=="Arguments",o=function(e,t){try{return e[t]}catch(n){}};n.exports=function(e){var t,n,u;return e===undefined?"Undefined":e===null?"Null":typeof (n=o(t=Object(e),i))=="string"?n:s?r(t):(u=r(t))=="Object"&&typeof t.callee=="function"?"Arguments":u}}],"es6.string.iterator.js":["./_string-at","./_iter-define",function(e){"use strict";var t=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,n=this._i,r;return n>=e.length?{value:undefined,done:!0}:(r=t(e,n),this._i+=r.length,{value:r,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(e,t,n){var r=e("./_to-integer"),i=e("./_defined");n.exports=function(e){return function(t,n){var s=String(i(t)),o=r(n),u=s.length,a,f;return o<0||o>=u?e?"":undefined:(a=s.charCodeAt(o),a<55296||a>56319||o+1===u||(f=s.charCodeAt(o+1))<56320||f>57343?e?s.charAt(o):a:e?s.slice(o,o+2):(a-55296<<10)+(f-56320)+65536)}}}],"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(e,t,n){"use strict";var r=e("./_library"),i=e("./_export"),s=e("./_redefine"),o=e("./_hide"),u=e("./_has"),a=e("./_iterators"),f=e("./_iter-create"),l=e("./_set-to-string-tag"),c=e("./_object-gpo"),h=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",m="values",g=function(){return this};n.exports=function(e,t,n,y,b,w,E){f(n,t,y);var S=function(e){if(!p&&e in C)return C[e];switch(e){case v:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",T=b==m,N=!1,C=e.prototype,k=C[h]||C[d]||b&&C[b],L=k||S(b),A=b?T?S("entries"):L:undefined,O=t=="Array"?C.entries||k:k,M,_,D;O&&(D=c(O.call(new e)),D!==Object.prototype&&(l(D,x,!0),!r&&!u(D,h)&&o(D,h,g))),T&&k&&k.name!==m&&(N=!0,L=function(){return k.call(this)}),(!r||E)&&(p||N||!C[h])&&o(C,h,L),a[t]=L,a[x]=g;if(b){M={values:T?L:S(m),keys:w?L:S(v),entries:A};if(E)for(_ in M)_ in C||s(C,_,M[_]);else i(i.P+i.F*(p||N),t,M)}return M}}],"_iterators.js":function(e,t,n){n.exports={}},"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),s=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),n.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),s(e,t+" Iterator")}}],"es6.array.is-array.js":["./_export","./_is-array",function(e){var t=e("./_export");t(t.S,"Array",{isArray:e("./_is-array")})}],"es6.array.from.js":["./_ctx","./_export","./_to-object","./_iter-call","./_is-array-iter","./_to-length","./_create-property","./core.get-iterator-method","./_iter-detect",function(e){"use strict";var t=e("./_ctx"),n=e("./_export"),r=e("./_to-object"),i=e("./_iter-call"),s=e("./_is-array-iter"),o=e("./_to-length"),u=e("./_create-property"),a=e("./core.get-iterator-method");n(n.S+n.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(n){var f=r(n),l=typeof this=="function"?this:Array,c=arguments.length,h=c>1?arguments[1]:undefined,p=h!==undefined,d=0,v=a(f),m,g,y,b;p&&(h=t(h,c>2?arguments[2]:undefined,2));if(v==undefined||l==Array&&!!s(v)){m=o(f.length);for(g=new l(m);m>d;d++)u(g,d,p?h(f[d],d):f[d])}else for(b=v.call(f),g=new l;!(y=b.next()).done;d++)u(g,d,p?i(b,h,[y.value,d],!0):y.value);return g.length=d,g}})}],"_iter-call.js":["./_an-object",function(e,t,n){var r=e("./_an-object");n.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw o!==undefined&&r(o.call(e)),s}}}],"_is-array-iter.js":["./_iterators","./_wks",function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),s=Array.prototype;n.exports=function(e){return e!==undefined&&(r.Array===e||s[i]===e)}}],"_create-property.js":["./_object-dp","./_property-desc",function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");n.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}}],"core.get-iterator-method.js":["./_classof","./_wks","./_iterators","./_core",function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),s=e("./_iterators");n.exports=e("./_core").getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||s[r(e)]}}],"_iter-detect.js":["./_wks",function(e,t,n){var r=e("./_wks")("iterator"),i=!1;try{var s=[7][r]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}n.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s=[7],o=s[r]();o.next=function(){return{done:n=!0}},s[r]=function(){return o},e(s)}catch(u){}return n}}],"es6.array.of.js":["./_export","./_create-property","./_fails",function(e){"use strict";var t=e("./_export"),n=e("./_create-property");t(t.S+t.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){var t=0,r=arguments.length,i=new(typeof this=="function"?this:Array)(r);while(r>t)n(i,t,arguments[t++]);return i.length=r,i}})}],"es6.array.join.js":["./_export","./_to-iobject","./_iobject","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_to-iobject"),r=[].join;t(t.P+t.F*(e("./_iobject")!=Object||!e("./_strict-method")(r)),"Array",{join:function(t){return r.call(n(this),t===undefined?",":t)}})}],"_strict-method.js":["./_fails",function(e,t,n){var r=e("./_fails");n.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}}],"es6.array.slice.js":["./_export","./_html","./_cof","./_to-index","./_to-length","./_fails",function(e){"use strict";var t=e("./_export"),n=e("./_html"),r=e("./_cof"),i=e("./_to-index"),s=e("./_to-length"),o=[].slice;t(t.P+t.F*e("./_fails")(function(){n&&o.call(n)}),"Array",{slice:function(t,n){var u=s(this.length),a=r(this);n=n===undefined?u:n;if(a=="Array")return o.call(this,t,n);var f=i(t,u),l=i(n,u),c=s(l-f),h=Array(c),p=0;for(;p<c;p++)h[p]=a=="String"?this.charAt(f+p):this[f+p];return h}})}],"es6.array.sort.js":["./_export","./_a-function","./_to-object","./_fails","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_a-function"),r=e("./_to-object"),i=e("./_fails"),s=[].sort,o=[1,2,3];t(t.P+t.F*(i(function(){o.sort(undefined)})||!i(function(){o.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(t){return t===undefined?s.call(r(this)):s.call(r(this),n(t))}})}],"es6.array.for-each.js":["./_export","./_array-methods","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(0),r=e("./_strict-method")([].forEach,!0);t(t.P+t.F*!r,"Array",{forEach:function(t){return n(this,t,arguments[1])}})}],"_array-methods.js":["./_ctx","./_iobject","./_to-object","./_to-length","./_array-species-create",function(e,t,n){var r=e("./_ctx"),i=e("./_iobject"),s=e("./_to-object"),o=e("./_to-length"),u=e("./_array-species-create");n.exports=function(e,t){var n=e==1,a=e==2,f=e==3,l=e==4,c=e==6,h=e==5||c,p=t||u;return function(t,u,d){var v=s(t),m=i(v),g=r(u,d,3),y=o(m.length),b=0,w=n?p(t,y):a?p(t,0):undefined,E,S;for(;y>b;b++)if(h||b in m){E=m[b],S=g(E,b,v);if(e)if(n)w[b]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return b;case 2:w.push(E)}else if(l)return!1}return c?-1:f||l?l:w}}}],"_array-species-create.js":["./_array-species-constructor",function(e,t,n){var r=e("./_array-species-constructor");n.exports=function(e,t){return new(r(e))(t)}}],"_array-species-constructor.js":["./_is-object","./_is-array","./_wks",function(e,t,n){var r=e("./_is-object"),i=e("./_is-array"),s=e("./_wks")("species");n.exports=function(e){var t;return i(e)&&(t=e.constructor,typeof t=="function"&&(t===Array||i(t.prototype))&&(t=undefined),r(t)&&(t=t[s],t===null&&(t=undefined))),t===undefined?Array:t}}],"es6.array.map.js":["./_export","./_array-methods","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(1);t(t.P+t.F*!e("./_strict-method")([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})}],"es6.array.filter.js":["./_export","./_array-methods","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(2);t(t.P+t.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})}],"es6.array.some.js":["./_export","./_array-methods","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(3);t(t.P+t.F*!e("./_strict-method")([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})}],"es6.array.every.js":["./_export","./_array-methods","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(4);t(t.P+t.F*!e("./_strict-method")([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})}],"es6.array.reduce.js":["./_export","./_array-reduce","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-reduce");t(t.P+t.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})}],"_array-reduce.js":["./_a-function","./_to-object","./_iobject","./_to-length",function(e,t,n){var r=e("./_a-function"),i=e("./_to-object"),s=e("./_iobject"),o=e("./_to-length");n.exports=function(e,t,n,u,a){r(t);var f=i(e),l=s(f),c=o(f.length),h=a?c-1:0,p=a?-1:1;if(n<2)for(;;){if(h in l){u=l[h],h+=p;break}h+=p;if(a?h<0:c<=h)throw TypeError("Reduce of empty array with no initial value")}for(;a?h>=0:c>h;h+=p)h in l&&(u=t(u,l[h],h,f));return u}}],"es6.array.reduce-right.js":["./_export","./_array-reduce","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-reduce");t(t.P+t.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})}],"es6.array.index-of.js":["./_export","./_array-includes","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_array-includes")(!1),r=[].indexOf,i=!!r&&1/[1].indexOf(1,0)<0;t(t.P+t.F*(i||!e("./_strict-method")(r)),"Array",{indexOf:function(t){return i?r.apply(this,arguments)||0:n(this,t,arguments[1])}})}],"es6.array.last-index-of.js":["./_export","./_to-iobject","./_to-integer","./_to-length","./_strict-method",function(e){"use strict";var t=e("./_export"),n=e("./_to-iobject"),r=e("./_to-integer"),i=e("./_to-length"),s=[].lastIndexOf,o=!!s&&1/[1].lastIndexOf(1,0)<0;t(t.P+t.F*(o||!e("./_strict-method")(s)),"Array",{lastIndexOf:function(t){if(o)return s.apply(this,arguments)||0;var u=n(this),a=i(u.length),f=a-1;arguments.length>1&&(f=Math.min(f,r(arguments[1]))),f<0&&(f=a+f);for(;f>=0;f--)if(f in u&&u[f]===t)return f||0;return-1}})}],"es6.array.copy-within.js":["./_export","./_array-copy-within","./_add-to-unscopables",function(e){var t=e("./_export");t(t.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")}],"_array-copy-within.js":["./_to-object","./_to-index","./_to-length",function(e,t,n){"use strict";var r=e("./_to-object"),i=e("./_to-index"),s=e("./_to-length");n.exports=[].copyWithin||function(t,n){var o=r(this),u=s(o.length),a=i(t,u),f=i(n,u),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?u:i(l,u))-f,u-a),h=1;f<a&&a<f+c&&(h=-1,f+=c-1,a+=c-1);while(c-->0)f in o?o[a]=o[f]:delete o[a],a+=h,f+=h;return o}}],"_add-to-unscopables.js":["./_wks","./_hide",function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;i[r]==undefined&&e("./_hide")(i,r,{}),n.exports=function(e){i[r][e]=!0}}],"es6.array.fill.js":["./_export","./_array-fill","./_add-to-unscopables",function(e){var t=e("./_export");t(t.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")}],"_array-fill.js":["./_to-object","./_to-index","./_to-length",function(e,t,n){"use strict";var r=e("./_to-object"),i=e("./_to-index"),s=e("./_to-length");n.exports=function(t){var n=r(this),o=s(n.length),u=arguments.length,a=i(u>1?arguments[1]:undefined,o),f=u>2?arguments[2]:undefined,l=f===undefined?o:i(f,o);while(l>a)n[a++]=t;return n}}],"es6.array.find.js":["./_export","./_array-methods","./_add-to-unscopables",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(5),r="find",i=!0;r in[]&&Array(1)[r](function(){i=!1}),t(t.P+t.F*i,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:undefined)}}),e("./_add-to-unscopables")(r)}],"es6.array.find-index.js":["./_export","./_array-methods","./_add-to-unscopables",function(e){"use strict";var t=e("./_export"),n=e("./_array-methods")(6),r="findIndex",i=!0;r in[]&&Array(1)[r](function(){i=!1}),t(t.P+t.F*i,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:undefined)}}),e("./_add-to-unscopables")(r)}],"es6.array.species.js":["./_set-species",function(e){e("./_set-species")("Array")}],"_set-species.js":["./_global","./_object-dp","./_descriptors","./_wks",function(e,t,n){"use strict";var r=e("./_global"),i=e("./_object-dp"),s=e("./_descriptors"),o=e("./_wks")("species");n.exports=function(e){var t=r[e];s&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),s=e("./_iterators"),o=e("./_to-iobject");n.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):t=="keys"?i(0,n):t=="values"?i(0,e[n]):i(0,[n,e[n]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")}],"_iter-step.js":function(e,t,n){n.exports=function(e,t){return{value:t,done:!!e}}},"es6.string.from-code-point.js":["./_export","./_to-index",function(e){var t=e("./_export"),n=e("./_to-index"),r=String.fromCharCode,i=String.fromCodePoint;t(t.S+t.F*(!!i&&i.length!=1),"String",{fromCodePoint:function(t){var i=[],s=arguments.length,o=0,u;while(s>o){u=+arguments[o++];if(n(u,1114111)!==u)throw RangeError(u+" is not a valid code point");i.push(u<65536?r(u):r(((u-=65536)>>10)+55296,u%1024+56320))}return i.join("")}})}],"es6.string.raw.js":["./_export","./_to-iobject","./_to-length",function(e){var t=e("./_export"),n=e("./_to-iobject"),r=e("./_to-length");t(t.S,"String",{raw:function(t){var i=n(t.raw),s=r(i.length),o=arguments.length,u=[],a=0;while(s>a)u.push(String(i[a++])),a<o&&u.push(String(arguments[a]));return u.join("")}})}],"es6.string.trim.js":["./_string-trim",function(e){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})}],"_string-trim.js":["./_export","./_defined","./_fails","./_string-ws",function(e,t,n){var r=e("./_export"),i=e("./_defined"),s=e("./_fails"),o=e("./_string-ws"),u="["+o+"]",a="​",f=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),c=function(e,t,n){var i={},u=s(function(){return!!o[e]()||a[e]()!=a}),f=i[e]=u?t(h):o[e];n&&(i[n]=f),r(r.P+r.F*u,"String",i)},h=c.trim=function(e,t){return e=String(i(e)),t&1&&(e=e.replace(f,"")),t&2&&(e=e.replace(l,"")),e};n.exports=c}],"_string-ws.js":function(e,t,n){n.exports="	\n\f\r   ᠎             　\u2028\u2029﻿"},"es6.string.code-point-at.js":["./_export","./_string-at",function(e){"use strict";var t=e("./_export"),n=e("./_string-at")(!1);t(t.P,"String",{codePointAt:function(t){return n(this,t)}})}],"es6.string.ends-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(e){"use strict";var t=e("./_export"),n=e("./_to-length"),r=e("./_string-context"),i="endsWith",s=""[i];t(t.P+t.F*e("./_fails-is-regexp")(i),"String",{endsWith:function(t){var o=r(this,t,i),u=arguments.length>1?arguments[1]:undefined,a=n(o.length),f=u===undefined?a:Math.min(n(u),a),l=String(t);return s?s.call(o,l,f):o.slice(f-l.length,f)===l}})}],"_string-context.js":["./_is-regexp","./_defined",function(e,t,n){var r=e("./_is-regexp"),i=e("./_defined");n.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}}],"_is-regexp.js":["./_is-object","./_cof","./_wks",function(e,t,n){var r=e("./_is-object"),i=e("./_cof"),s=e("./_wks")("match");n.exports=function(e){var t;return r(e)&&((t=e[s])!==undefined?!!t:i(e)=="RegExp")}}],"_fails-is-regexp.js":["./_wks",function(e,t,n){var r=e("./_wks")("match");n.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}}],"es6.string.includes.js":["./_export","./_string-context","./_fails-is-regexp",function(e){"use strict";var t=e("./_export"),n=e("./_string-context"),r="includes";t(t.P+t.F*e("./_fails-is-regexp")(r),"String",{includes:function(t){return!!~n(this,t,r).indexOf(t,arguments.length>1?arguments[1]:undefined)}})}],"es6.string.repeat.js":["./_export","./_string-repeat",function(e){var t=e("./_export");t(t.P,"String",{repeat:e("./_string-repeat")})}],"_string-repeat.js":["./_to-integer","./_defined",function(e,t,n){"use strict";var r=e("./_to-integer"),i=e("./_defined");n.exports=function(t){var n=String(i(this)),s="",o=r(t);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))o&1&&(s+=n);return s}}],"es6.string.starts-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(e){"use strict";var t=e("./_export"),n=e("./_to-length"),r=e("./_string-context"),i="startsWith",s=""[i];t(t.P+t.F*e("./_fails-is-regexp")(i),"String",{startsWith:function(t){var o=r(this,t,i),u=n(Math.min(arguments.length>1?arguments[1]:undefined,o.length)),a=String(t);return s?s.call(o,a,u):o.slice(u,u+a.length)===a}})}],"es6.string.anchor.js":["./_string-html",function(e){"use strict";e("./_string-html")("anchor",function(e){return function(n){return e(this,"a","name",n)}})}],"_string-html.js":["./_export","./_fails","./_defined",function(e,t,n){var r=e("./_export"),i=e("./_fails"),s=e("./_defined"),o=/"/g,u=function(e,t,n,r){var i=String(s(e)),u="<"+t;return n!==""&&(u+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),u+">"+i+"</"+t+">"};n.exports=function(e,t){var n={};n[e]=t(u),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}}],"es6.string.big.js":["./_string-html",function(e){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})}],"es6.string.blink.js":["./_string-html",function(e){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})}],"es6.string.bold.js":["./_string-html",function(e){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})}],"es6.string.fixed.js":["./_string-html",function(e){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})}],"es6.string.fontcolor.js":["./_string-html",function(e){"use strict";e("./_string-html")("fontcolor",function(e){return function(n){return e(this,"font","color",n)}})}],"es6.string.fontsize.js":["./_string-html",function(e){"use strict";e("./_string-html")("fontsize",function(e){return function(n){return e(this,"font","size",n)}})}],"es6.string.italics.js":["./_string-html",function(e){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})}],"es6.string.link.js":["./_string-html",function(e){"use strict";e("./_string-html")("link",function(e){return function(n){return e(this,"a","href",n)}})}],"es6.string.small.js":["./_string-html",function(e){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})}],"es6.string.strike.js":["./_string-html",function(e){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})}],"es6.string.sub.js":["./_string-html",function(e){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})}],"es6.string.sup.js":["./_string-html",function(e){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})}],"es6.regexp.match.js":["./_fix-re-wks",function(e){e("./_fix-re-wks")("match",1,function(e,t,n){return[function(r){"use strict";var i=e(this),s=r==undefined?undefined:r[t];return s!==undefined?s.call(r,i):(new RegExp(r))[t](String(i))},n]})}],"_fix-re-wks.js":["./_hide","./_redefine","./_fails","./_defined","./_wks",function(e,t,n){"use strict";var r=e("./_hide"),i=e("./_redefine"),s=e("./_fails"),o=e("./_defined"),u=e("./_wks");n.exports=function(e,t,n){var a=u(e),f=n(o,a,""[e]),l=f[0],c=f[1];s(function(){var t={};return t[a]=function(){return 7},""[e](t)!=7})&&(i(String.prototype,e,l),r(RegExp.prototype,a,t==2?function(
e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)}))}}],"es6.regexp.replace.js":["./_fix-re-wks",function(e){e("./_fix-re-wks")("replace",2,function(e,t,n){return[function(i,s){"use strict";var o=e(this),u=i==undefined?undefined:i[t];return u!==undefined?u.call(i,o,s):n.call(String(o),i,s)},n]})}],"es6.regexp.search.js":["./_fix-re-wks",function(e){e("./_fix-re-wks")("search",1,function(e,t,n){return[function(r){"use strict";var i=e(this),s=r==undefined?undefined:r[t];return s!==undefined?s.call(r,i):(new RegExp(r))[t](String(i))},n]})}],"es6.regexp.split.js":["./_fix-re-wks","./_is-regexp",function(e){e("./_fix-re-wks")("split",2,function(t,n,r){"use strict";var i=e("./_is-regexp"),s=r,o=[].push,u="split",a="length",f="lastIndex";if("abbc"[u](/(b)*/)[1]=="c"||"test"[u](/(?:)/,-1)[a]!=4||"ab"[u](/(?:ab)*/)[a]!=2||"."[u](/(.?)(.?)/)[a]!=4||"."[u](/()()/)[a]>1||""[u](/.?/)[a]){var l=/()??/.exec("")[1]===undefined;r=function(e,t){var n=String(this);if(e===undefined&&t===0)return[];if(!i(e))return s.call(n,e,t);var r=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,h=t===undefined?4294967295:t>>>0,p=new RegExp(e.source,u+"g"),d,v,m,g,y;l||(d=new RegExp("^"+p.source+"$(?!\\s)",u));while(v=p.exec(n)){m=v.index+v[0][a];if(m>c){r.push(n.slice(c,v.index)),!l&&v[a]>1&&v[0].replace(d,function(){for(y=1;y<arguments[a]-2;y++)arguments[y]===undefined&&(v[y]=undefined)}),v[a]>1&&v.index<n[a]&&o.apply(r,v.slice(1)),g=v[0][a],c=m;if(r[a]>=h)break}p[f]===v.index&&p[f]++}return c===n[a]?(g||!p.test(""))&&r.push(""):r.push(n.slice(c)),r[a]>h?r.slice(0,h):r}}else"0"[u](undefined,0)[a]&&(r=function(e,t){return e===undefined&&t===0?[]:s.call(this,e,t)});return[function(i,s){var o=t(this),u=i==undefined?undefined:i[n];return u!==undefined?u.call(i,o,s):r.call(String(o),i,s)},r]})}],"es6.function.bind.js":["./_export","./_bind",function(e){var t=e("./_export");t(t.P,"Function",{bind:e("./_bind")})}],"_bind.js":["./_a-function","./_is-object","./_invoke",function(e,t,n){"use strict";var r=e("./_a-function"),i=e("./_is-object"),s=e("./_invoke"),o=[].slice,u={},a=function(e,t,n){if(!(t in u)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};n.exports=Function.bind||function(t){var n=r(this),u=o.call(arguments,1),f=function(){var e=u.concat(o.call(arguments));return this instanceof f?a(n,e.length,e):s(n,e,t)};return i(n.prototype)&&(f.prototype=n.prototype),f}}],"_invoke.js":function(e,t,n){n.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"es6.function.name.js":["./_object-dp","./_property-desc","./_has","./_descriptors",function(e){var t=e("./_object-dp").f,n=e("./_property-desc"),r=e("./_has"),i=Function.prototype,s=/^\s*function ([^ (]*)/,o="name",u=Object.isExtensible||function(){return!0};o in i||e("./_descriptors")&&t(i,o,{configurable:!0,get:function(){try{var e=this,i=(""+e).match(s)[1];return r(e,o)||!u(e)||t(e,o,n(5,i)),i}catch(a){return""}}})}],"es6.function.has-instance.js":["./_is-object","./_object-gpo","./_wks","./_object-dp",function(e){"use strict";var t=e("./_is-object"),n=e("./_object-gpo"),r=e("./_wks")("hasInstance"),i=Function.prototype;r in i||e("./_object-dp").f(i,r,{value:function(e){if(typeof this!="function"||!t(e))return!1;if(!t(this.prototype))return e instanceof this;while(e=n(e))if(this.prototype===e)return!0;return!1}})}],"es7.array.includes.js":["./_export","./_array-includes","./_add-to-unscopables",function(e){"use strict";var t=e("./_export"),n=e("./_array-includes")(!0);t(t.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:undefined)}}),e("./_add-to-unscopables")("includes")}],"es7.object.values.js":["./_export","./_object-to-array",function(e){var t=e("./_export"),n=e("./_object-to-array")(!1);t(t.S,"Object",{values:function(t){return n(t)}})}],"_object-to-array.js":["./_object-keys","./_to-iobject","./_object-pie",function(e,t,n){var r=e("./_object-keys"),i=e("./_to-iobject"),s=e("./_object-pie").f;n.exports=function(e){return function(t){var n=i(t),o=r(n),u=o.length,a=0,f=[],l;while(u>a)s.call(n,l=o[a++])&&f.push(e?[l,n[l]]:n[l]);return f}}}],"es7.object.entries.js":["./_export","./_object-to-array",function(e){var t=e("./_export"),n=e("./_object-to-array")(!0);t(t.S,"Object",{entries:function(t){return n(t)}})}],"es7.object.get-own-property-descriptors.js":["./_export","./_own-keys","./_to-iobject","./_object-gopd","./_create-property",function(e){var t=e("./_export"),n=e("./_own-keys"),r=e("./_to-iobject"),i=e("./_object-gopd"),s=e("./_create-property");t(t.S,"Object",{getOwnPropertyDescriptors:function(t){var o=r(t),u=i.f,a=n(o),f={},l=0,c;while(a.length>l)s(f,c=a[l++],u(o,c));return f}})}],"_own-keys.js":["./_object-gopn","./_object-gops","./_an-object","./_global",function(e,t,n){var r=e("./_object-gopn"),i=e("./_object-gops"),s=e("./_an-object"),o=e("./_global").Reflect;n.exports=o&&o.ownKeys||function(t){var n=r.f(s(t)),o=i.f;return o?n.concat(o(t)):n}}],"es7.string.pad-start.js":["./_export","./_string-pad",function(e){"use strict";var t=e("./_export"),n=e("./_string-pad");t(t.P,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:undefined,!0)}})}],"_string-pad.js":["./_to-length","./_string-repeat","./_defined",function(e,t,n){var r=e("./_to-length"),i=e("./_string-repeat"),s=e("./_defined");n.exports=function(e,t,n,o){var u=String(s(e)),a=u.length,f=n===undefined?" ":String(n),l=r(t);if(l<=a||f=="")return u;var c=l-a,h=i.call(f,Math.ceil(c/f.length));return h.length>c&&(h=h.slice(0,c)),o?h+u:u+h}}],"es7.string.pad-end.js":["./_export","./_string-pad",function(e){"use strict";var t=e("./_export"),n=e("./_string-pad");t(t.P,"String",{padEnd:function(t){return n(this,t,arguments.length>1?arguments[1]:undefined,!1)}})}],"es7.string.trim-left.js":["./_string-trim",function(e){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")}],"es7.string.trim-right.js":["./_string-trim",function(e){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")}],"web.dom.iterable.js":["./es6.array.iterator","./_redefine","./_global","./_hide","./_iterators","./_wks",function(e){var t=e("./es6.array.iterator"),n=e("./_redefine"),r=e("./_global"),i=e("./_hide"),s=e("./_iterators"),o=e("./_wks"),u=o("iterator"),a=o("toStringTag"),f=s.Array;for(var l=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var h=l[c],p=r[h],d=p&&p.prototype,v;if(d){d[u]||i(d,u,f),d[a]||i(d,a,h),s[h]=f;for(v in t)d[v]||n(d,v,t[v],!0)}}}],"es6.map.js":["./_collection-strong","./_collection",function(e,t,n){"use strict";var r=e("./_collection-strong");n.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var n=r.getEntry(this,t);return n&&n.v},set:function(t,n){return r.def(this,t===0?0:t,n)}},r,!0)}],"_collection-strong.js":["./_object-dp","./_object-create","./_redefine-all","./_ctx","./_an-instance","./_defined","./_for-of","./_iter-define","./_iter-step","./_set-species","./_descriptors","./_meta",function(e,t,n){"use strict";var r=e("./_object-dp").f,i=e("./_object-create"),s=e("./_redefine-all"),o=e("./_ctx"),u=e("./_an-instance"),a=e("./_defined"),f=e("./_for-of"),l=e("./_iter-define"),c=e("./_iter-step"),h=e("./_set-species"),p=e("./_descriptors"),d=e("./_meta").fastKey,v=p?"_s":"size",m=function(e,t){var n=d(t),r;if(n!=="F")return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};n.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){u(e,c,t,"_i"),e._i=i(null),e._f=undefined,e._l=undefined,e[v]=0,r!=undefined&&f(r,n,e[l],e)});return s(c.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];t._f=t._l=undefined,t[v]=0},"delete":function(e){var t=this,n=m(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[v]--}return!!n},forEach:function(t){u(this,c,"forEach");var n=o(t,arguments.length>1?arguments[1]:undefined,3),r;while(r=r?r.n:this._f){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(t){return!!m(this,t)}}),p&&r(c.prototype,"size",{get:function(){return a(this[v])}}),c},def:function(e,t,n){var r=m(e,t),i,s;return r?r.v=n:(e._l=r={i:s=d(t,!0),k:t,v:n,p:i=e._l,n:undefined,r:!1},e._f||(e._f=r),i&&(i.n=r),e[v]++,s!=="F"&&(e._i[s]=r)),e},getEntry:m,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=undefined},function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return!e._t||!(e._l=n=n?n.n:e._t._f)?(e._t=undefined,c(1)):t=="keys"?c(0,n.k):t=="values"?c(0,n.v):c(0,[n.k,n.v])},n?"entries":"values",!n,!0),h(t)}}}],"_redefine-all.js":["./_redefine",function(e,t,n){var r=e("./_redefine");n.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}}],"_an-instance.js":function(e,t,n){n.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"_for-of.js":["./_ctx","./_iter-call","./_is-array-iter","./_an-object","./_to-length","./core.get-iterator-method",function(e,t,n){var r=e("./_ctx"),i=e("./_iter-call"),s=e("./_is-array-iter"),o=e("./_an-object"),u=e("./_to-length"),a=e("./core.get-iterator-method"),f={},l={},t=n.exports=function(e,t,n,c,h){var p=h?function(){return e}:a(e),d=r(n,c,t?2:1),v=0,m,g,y,b;if(typeof p!="function")throw TypeError(e+" is not iterable!");if(s(p))for(m=u(e.length);m>v;v++){b=t?d(o(g=e[v])[0],g[1]):d(e[v]);if(b===f||b===l)return b}else for(y=p.call(e);!(g=y.next()).done;){b=i(y,d,g.value,t);if(b===f||b===l)return b}};t.BREAK=f,t.RETURN=l}],"_collection.js":["./_global","./_export","./_redefine","./_redefine-all","./_meta","./_for-of","./_an-instance","./_is-object","./_fails","./_iter-detect","./_set-to-string-tag","./_inherit-if-required",function(e,t,n){"use strict";var r=e("./_global"),i=e("./_export"),s=e("./_redefine"),o=e("./_redefine-all"),u=e("./_meta"),a=e("./_for-of"),f=e("./_an-instance"),l=e("./_is-object"),c=e("./_fails"),h=e("./_iter-detect"),p=e("./_set-to-string-tag"),d=e("./_inherit-if-required");n.exports=function(e,t,n,v,m,g){var y=r[e],b=y,w=m?"set":"add",E=b&&b.prototype,S={},x=function(e){var t=E[e];s(E,e,e=="delete"?function(e){return g&&!l(e)?!1:t.call(this,e===0?0:e)}:e=="has"?function(n){return g&&!l(n)?!1:t.call(this,n===0?0:n)}:e=="get"?function(n){return g&&!l(n)?undefined:t.call(this,n===0?0:n)}:e=="add"?function(n){return t.call(this,n===0?0:n),this}:function(n,r){return t.call(this,n===0?0:n,r),this})};if(typeof b!="function"||!(g||E.forEach&&!c(function(){(new b).entries().next()})))b=v.getConstructor(t,e,m,w),o(b.prototype,n),u.NEED=!0;else{var T=new b,N=T[w](g?{}:-0,1)!=T,C=c(function(){T.has(1)}),k=h(function(e){new b(e)}),L=!g&&c(function(){var e=new b,t=5;while(t--)e[w](t,t);return!e.has(0)});k||(b=t(function(t,n){f(t,b,e);var r=d(new y,t,b);return n!=undefined&&a(n,m,r[w],r),r}),b.prototype=E,E.constructor=b);if(C||L)x("delete"),x("has"),m&&x("get");(L||N)&&x(w),g&&E.clear&&delete E.clear}return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),g||v.setStrong(b,e,m),b}}],"_inherit-if-required.js":["./_is-object","./_set-proto",function(e,t,n){var r=e("./_is-object"),i=e("./_set-proto").set;n.exports=function(e,t,n){var s,o=t.constructor;return o!==n&&typeof o=="function"&&(s=o.prototype)!==n.prototype&&r(s)&&i&&i(e,s),e}}],"es6.set.js":["./_collection-strong","./_collection",function(e,t,n){"use strict";var r=e("./_collection-strong");n.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(this,t=t===0?0:t,t)}},r)}]},fn:{array:{"includes.js":["../../modules/es7.array.includes","../../modules/_core",function(e,t,n){e("../../modules/es7.array.includes"),n.exports=e("../../modules/_core").Array.includes}]},object:{"values.js":["../../modules/es7.object.values","../../modules/_core",function(e,t,n){e("../../modules/es7.object.values"),n.exports=e("../../modules/_core").Object.values}],"entries.js":["../../modules/es7.object.entries","../../modules/_core",function(e,t,n){e("../../modules/es7.object.entries"),n.exports=e("../../modules/_core").Object.entries}],"get-own-property-descriptors.js":["../../modules/es7.object.get-own-property-descriptors","../../modules/_core",function(e,t,n){e("../../modules/es7.object.get-own-property-descriptors"),n.exports=e("../../modules/_core").Object.getOwnPropertyDescriptors}]},string:{"pad-start.js":["../../modules/es7.string.pad-start","../../modules/_core",function(e,t,n){e("../../modules/es7.string.pad-start"),n.exports=e("../../modules/_core").String.padStart}],"pad-end.js":["../../modules/es7.string.pad-end","../../modules/_core",function(e,t,n){e("../../modules/es7.string.pad-end"),n.exports=e("../../modules/_core").String.padEnd}],"trim-start.js":["../../modules/es7.string.trim-left","../../modules/_core",function(e,t,n){e("../../modules/es7.string.trim-left"),n.exports=e("../../modules/_core").String.trimLeft}],"trim-end.js":["../../modules/es7.string.trim-right","../../modules/_core",function(e,t,n){e("../../modules/es7.string.trim-right"),n.exports=e("../../modules/_core").String.trimRight}]}}}}}}}},{extensions:[".js",".json"]}),p=h("./node_modules/meteor/ecmascript-runtime/runtime.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ecmascript-runtime"]=p,{Symbol:u,Map:a,Set:f})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv;typeof Package=="undefined"&&(Package={}),Package.ecmascript={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r;(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={};for(var n=0;n<e.length;n++)t[e.charAt(n)]=n;r={},r.encode=function(e){if(typeof e=="string"){var t=e;e=r.newBinary(t.length);for(var n=0;n<t.length;n++){var s=t.charCodeAt(n);if(s>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[n]=s}}var o=[],u=null,a=null,f=null,l=null;for(var n=0;n<e.length;n++)switch(n%3){case 0:u=e[n]>>2&63,a=(e[n]&3)<<4;break;case 1:a|=e[n]>>4&15,f=(e[n]&15)<<2;break;case 2:f|=e[n]>>6&3,l=e[n]&63,o.push(i(u)),o.push(i(a)),o.push(i(f)),o.push(i(l)),u=null,a=null,f=null,l=null}return u!=null&&(o.push(i(u)),o.push(i(a)),f==null?o.push("="):o.push(i(f)),l==null&&o.push("=")),o.join("")};var i=function(t){return e.charAt(t)},s=function(e){return e==="="?-1:t[e]};r.newBinary=function(e){if(typeof Uint8Array=="undefined"||typeof ArrayBuffer=="undefined"){var t=[];for(var n=0;n<e;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},r.decode=function(e){var t=Math.floor(e.length*3/4);e.charAt(e.length-1)=="="&&(t--,e.charAt(e.length-2)=="="&&t--);var n=r.newBinary(t),i=null,o=null,u=null,a=0;for(var f=0;f<e.length;f++){var l=e.charAt(f),c=s(l);switch(f%4){case 0:if(c<0)throw new Error("invalid base64 string");i=c<<2;break;case 1:if(c<0)throw new Error("invalid base64 string");i|=c>>4,n[a++]=i,o=(c&15)<<4;break;case 2:c>=0&&(o|=c>>2,n[a++]=o,u=(c&3)<<6);break;case 3:c>=0&&(n[a++]=u|c)}}return n}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.base64={},{Base64:r})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.base64.Base64,s,o;(function(){s={},o={};var t={};s.addType=function(e,n){if(r.has(t,e))throw new Error("Type "+e+" already present");t[e]=n};var n=function(e){return r.isNaN(e)||e===Infinity||e===-Infinity},u=[{matchJSONValue:function(e){return r.has(e,"$date")&&r.size(e)===1},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return r.has(e,"$InfNaN")&&r.size(e)===1},matchObject:n,toJSONValue:function(e){var t;return r.isNaN(e)?t=0:e===Infinity?t=1:t=-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return r.has(e,"$binary")&&r.size(e)===1},matchObject:function(e){return typeof Uint8Array!="undefined"&&e instanceof Uint8Array||e&&r.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:i.encode(e)}},fromJSONValue:function(e){return i.decode(e.$binary)}},{matchJSONValue:function(e){return r.has(e,"$escape")&&r.size(e)===1},matchObject:function(e){return r.isEmpty(e)||r.size(e)>2?!1:r.any(u,function(t){return t.matchJSONValue(e)})},toJSONValue:function(e){var t={};return r.each(e,function(e,n){t[n]=s.toJSONValue(e)}),{$escape:t}},fromJSONValue:function(e){var t={};return r.each(e.$escape,function(e,n){t[n]=s.fromJSONValue(e)}),t}},{matchJSONValue:function(e){return r.has(e,"$type")&&r.has(e,"$value")&&r.size(e)===2},matchObject:function(e){return s._isCustomType(e)},toJSONValue:function(t){var n=e._noYieldsAllowed(function(){return t.toJSONValue()});return{$type:t.typeName(),$value:n}},fromJSONValue:function(n){var i=n.$type;if(!r.has(t,i))throw new Error("Custom EJSON type "+i+" is not defined");var s=t[i];return e._noYieldsAllowed(function(){return s(n.$value)})}}];s._isCustomType=function(e){return e&&typeof e.toJSONValue=="function"&&typeof e.typeName=="function"&&r.has(t,e.typeName())},s._getTypes=function(){return t},s._getConverters=function(){return u};var a=s._adjustTypesToJSONValue=function(e){if(e===null)return null;var t=f(e);return t!==undefined?t:typeof e!="object"?e:(r.each(e,function(t,r){if(typeof t!="object"&&t!==undefined&&!n(t))return;var i=f(t);if(i){e[r]=i;return}a(t)}),e)},f=function(e){for(var t=0;t<u.length;t++){var n=u[t];if(n.matchObject(e))return n.toJSONValue(e)}return undefined};s.toJSONValue=function(e){var t=f(e);return t!==undefined?t:(typeof e=="object"&&(e=s.clone(e),a(e)),e)};var l=s._adjustTypesFromJSONValue=function(e){if(e===null)return null;var t=c(e);return t!==e?t:typeof e!="object"?e:(r.each(e,function(t,n){if(typeof t=="object"){var r=c(t);if(t!==r){e[n]=r;return}l(t)}}),e)},c=function(e){if(typeof e=="object"&&e!==null&&r.size(e)<=2&&r.all(e,function(e,t){return typeof t=="string"&&t.substr(0,1)==="$"}))for(var t=0;t<u.length;t++){var n=u[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};s.fromJSONValue=function(e){var t=c(e);return t===e&&typeof e=="object"?(e=s.clone(e),l(e),e):t},s.stringify=function(e,t){var n=s.toJSONValue(e);return t&&(t.canonical||t.indent)?s._canonicalStringify(n,t):JSON.stringify(n)},s.parse=function(e){if(typeof e!="string")throw new Error("EJSON.parse argument should be a string");return s.fromJSONValue(JSON.parse(e))},s.isBinary=function(e){return!!(typeof Uint8Array!="undefined"&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},s.equals=function(e,t,n){var i,o=!!n&&!!n.keyOrderSensitive;if(e===t)return!0;if(r.isNaN(e)&&r.isNaN(t))return!0;if(!e||!t)return!1;if(typeof e!="object"||typeof t!="object")return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(s.isBinary(e)&&s.isBinary(t)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e.equals=="function")return e.equals(t,n);if(typeof t.equals=="function")return t.equals(e,n);if(e instanceof Array){if(t instanceof Array){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!s.equals(e[i],t[i],n))return!1;return!0}return!1}switch(s._isCustomType(e)+s._isCustomType(t)){case 1:return!1;case 2:return s.equals(s.toJSONValue(e),s.toJSONValue(t))}var u;if(o){var a=[];return r.each(t,function(e,t){a.push(t)}),i=0,u=r.all(e,function(e,r){return i>=a.length?!1:r!==a[i]?!1:s.equals(e,t[a[i]],n)?(i++,!0):!1}),u&&i===a.length}return i=0,u=r.all(e,function(e,o){return r.has(t,o)?s.equals(e,t[o],n)?(i++,!0):!1:!1}),u&&r.size(t)===i},s.clone=function(e){var t;if(typeof e!="object")return e;if(e===null)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(s.isBinary(e)){t=s.newBinary(e.length);for(var n=0;n<e.length;n++)t[n]=e[n];return t}if(r.isArray(e)||r.isArguments(e)){t=[];for(n=0;n<e.length;n++)t[n]=s.clone(e[n]);return t}return typeof e.clone=="function"?e.clone():s._isCustomType(e)?s.fromJSONValue(s.clone(s.toJSONValue(e)),!0):(t={},r.each(e,function(e,n){t[n]=s.clone(e)}),t)},s.newBinary=i.newBinary}).call(this),function(){function e(e){return JSON.stringify(e)}var t=function(n,i,s,o,u){var a,f,l,c,h=o,p,d=i[n];switch(typeof d){case"string":return e(d);case"number":return isFinite(d)?String(d):"null";case"boolean":return String(d);case"object":if(!d)return"null";h=o+s,p=[];if(r.isArray(d)||r.isArguments(d)){c=d.length;for(a=0;a<c;a+=1)p[a]=t(a,d,s,h,u)||"null";return p.length===0?l="[]":h?l="[\n"+h+p.join(",\n"+h)+"\n"+o+"]":l="["+p.join(",")+"]",l}var v=r.keys(d);return u&&(v=v.sort()),r.each(v,function(n){l=t(n,d,s,h,u),l&&p.push(e(n)+(h?": ":":")+l)}),p.length===0?l="{}":h?l="{\n"+h+p.join(",\n"+h)+"\n"+o+"}":l="{"+p.join(",")+"}",l}};s._canonicalStringify=function(e,n){n=r.extend({indent:"",canonical:!1},n);if(n.indent===!0)n.indent="  ";else if(typeof n.indent=="number"){var i="";for(var s=0;s<n.indent;s++)i+=" ";n.indent=i}return t("",{"":e},n.indent,"",n.canonical)}}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.ejson={},{EJSON:s,EJSONTest:o})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,s=Package.modules.process,o=Package.underscore._,u=Package.ejson.EJSON,a,f,l=r({node_modules:{meteor:{check:{"match.js":["./isPlainObject.js",function(t,n){var r=new e.EnvironmentVariable,i=t("./isPlainObject.js").isPlainObject,s=n.check=function(e,t){var n=r.getOrNullIfOutsideFiber();n&&n.checking(e);var i=g(e,t);if(i){var s=new a.Error(i.message);throw i.path&&(s.message+=" in field "+i.path,s.path=i.path),s}},a=n.Match={Optional:function(e){return new f(e)},Maybe:function(e){return new l(e)},OneOf:function(){return new c(o.toArray(arguments))},Any:["__any__"],Where:function(e){return new h(e)},ObjectIncluding:function(e){return new p(e)},ObjectWithValues:function(e){return new d(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!g(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,i){var s=new y(n,i),o=r.withValue(s,function(){return e.apply(t,n)});return s.throwUnlessAllArgumentsHaveBeenChecked(),o}},f=function(e){this.pattern=e},l=function(e){this.pattern=e},c=function(e){if(o.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},h=function(e){this.condition=e},p=function(e){this.pattern=e},d=function(e){this.pattern=e},v=function(e,t){t=t||{};if(e===null)return"null";if(t.onlyShowType)return typeof e;if(typeof e!="object")return u.stringify(e);try{JSON.stringify(e)}catch(n){if(n.name==="TypeError")return typeof e}return u.stringify(e)},m=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[undefined,"undefined"]],g=function(e,t){if(t===a.Any)return!1;for(var n=0;n<m.length;++n)if(t===m[n][0])return typeof e===m[n][1]?!1:{message:"Expected "+m[n][1]+", got "+v(e,{onlyShowType:!0}),path:""};if(t===null)return e===null?!1:{message:"Expected null, got "+v(e),path:""};if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return e===t?!1:{message:"Expected "+t+", got "+v(e),path:""};if(t===a.Integer)return typeof e=="number"&&(e|0)===e?!1:{message:"Expected Integer, got "+v(e),path:""};t===Object&&(t=a.ObjectIncluding({}));if(t instanceof Array){if(t.length!==1)return{message:"Bad pattern: arrays must have one type element"+v(t),path:""};if(!o.isArray(e)&&!o.isArguments(e))return{message:"Expected array, got "+v(e),path:""};for(var n=0,r=e.length;n<r;n++){var s=g(e[n],t[0]);if(s)return s.path=w(n,s.path),s}return!1}if(t instanceof h){var s;try{s=t.condition(e)}catch(u){if(u instanceof a.Error)return{message:u.message,path:u.path};throw u}return s?!1:{message:"Failed Match.Where validation",path:""}}t instanceof l?t=a.OneOf(undefined,null,t.pattern):t instanceof f&&(t=a.OneOf(undefined,t.pattern));if(t instanceof c){for(var n=0;n<t.choices.length;++n){var s=g(e,t.choices[n]);if(!s)return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return e instanceof t?!1:{message:"Expected "+(t.name||"particular constructor"),path:""};var y=!1,b;t instanceof p&&(y=!0,t=t.pattern),t instanceof d&&(y=!0,b=[t.pattern],t={});if(typeof t!="object")return{message:"Bad pattern: unknown pattern type",path:""};if(typeof e!="object")return{message:"Expected object, got "+typeof e,path:""};if(e===null)return{message:"Expected object, got null",path:""};if(!i(e))return{message:"Expected plain object",path:""};var E={},S={};o.each(t,function(e,t){e instanceof f||e instanceof l?S[t]=e.pattern:E[t]=e});var x=function(e){var t=[];if(o.isObject(e))for(var n in e)t.push(n);return t};for(var T=x(e),n=0,r=T.length;n<r;n++){var N=T[n],C=e[N];if(o.has(E,N)){var s=g(C,E[N]);if(s)return s.path=w(N,s.path),s;delete E[N]}else if(o.has(S,N)){var s=g(C,S[N]);if(s)return s.path=w(N,s.path),s}else{if(!y)return{message:"Unknown key",path:N};if(b){var s=g(C,b[0]);if(s)return s.path=w(N,s.path),s}}}var T=o.keys(E);if(T.length)return{message:"Missing key '"+T[0]+"'",path:""}},y=function(e,t){var n=this;n.args=o.clone(e),n.args.reverse(),n.description=t};o.extend(y.prototype,{checking:function(e){var t=this;if(t._checkingOneValue(e))return;(o.isArray(e)||o.isArguments(e))&&o.each(e,o.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){var t=this;for(var n=0;n<t.args.length;++n)if(e===t.args[n]||o.isNaN(e)&&o.isNaN(t.args[n]))return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!o.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var b=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,t){if(typeof e=="number"||e.match(/^[0-9]+$/))e="["+e+"]";else if(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||o.contains(b,e))e=JSON.stringify([e]);return t&&t[0]!=="["?e+"."+t:e+t}}],"isPlainObject.js":function(e,t){function u(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?n[r.call(e)]||"object":typeof e}function a(e){return e!=null&&e==e.window}var n={},r=n.toString,i=n.hasOwnProperty,s={};o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+e+"]"]=e.toLowerCase()}),t.isPlainObject=function(e){var t;if(!e||u(e)!=="object"||e.nodeType||a(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(s.ownLast)for(t in e)return i.call(e,t);for(t in e);return t===undefined||i.call(e,t)}}}}}},{extensions:[".js",".json"]}),c=l("./node_modules/meteor/check/match.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.check=c,{check:a,Match:f})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.modules.meteorInstall,s=Package.modules.Buffer,o=Package.modules.process,u=Package["ecmascript-runtime"].Symbol,a=Package["ecmascript-runtime"].Map,f=Package["ecmascript-runtime"].Set,l=Package["babel-runtime"].meteorBabelHelpers,c=Package.promise.Promise,h,p=i({node_modules:{meteor:{random:{"random.js":function(t){function l(){return new o(o.Type.ALEA,{seeds:[new Date,u,a,f,Math.random()]})}if(e.isServer)var n=Npm.require("crypto");var r=function(){function t(){var e=4022871197,t=function(n){n=n.toString();for(var r=0;r<n.length;r++){e+=n.charCodeAt(r);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=i*4294967296}return(e>>>0)*2.3283064365386963e-10};return t.version="Mash 0.9",t}return function(e){var n=0,r=0,i=0,s=1;e.length==0&&(e=[+(new Date)]);var o=t();n=o(" "),r=o(" "),i=o(" ");for(var u=0;u<e.length;u++)n-=o(e[u]),n<0&&(n+=1),r-=o(e[u]),r<0&&(r+=1),i-=o(e[u]),i<0&&(i+=1);o=null;var a=function(){var t=2091639*n+s*2.3283064365386963e-10;return n=r,r=i,i=t-(s=t|0)};return a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*1.1102230246251565e-16},a.version="Alea 0.9",a.args=e,a}(Array.prototype.slice.call(arguments))},i="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",o=function c(e,t){var n=this;n.type=e;if(!c.Type[e])throw new Error("Unknown random generator type: "+e);if(e===c.Type.ALEA){if(!t.seeds)throw new Error("No seeds were provided for Alea PRNG");n.alea=r.apply(null,t.seeds)}};o.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},o.prototype.fraction=function(){var e=this;if(e.type===o.Type.ALEA)return e.alea();if(e.type===o.Type.NODE_CRYPTO){var t=parseInt(e.hexString(8),16);return t*2.3283064365386963e-10}if(e.type===o.Type.BROWSER_CRYPTO){var n=new Uint32Array(1);return window.crypto.getRandomValues(n),n[0]*2.3283064365386963e-10}throw new Error("Unknown random generator type: "+e.type)},o.prototype.hexString=function(e){var t=this;if(t.type===o.Type.NODE_CRYPTO){var r=Math.ceil(e/2),i;try{i=n.randomBytes(r)}catch(s){i=n.pseudoRandomBytes(r)}var u=i.toString("hex");return u.substring(0,e)}return this._randomString(e,"0123456789abcdef")},o.prototype._randomString=function(e,t){var n=this,r=[];for(var i=0;i<e;i++)r[i]=n.choice(t);return r.join("")},o.prototype.id=function(e){var t=this;return e===undefined&&(e=17),t._randomString(e,i)},o.prototype.secret=function(e){var t=this;return e===undefined&&(e=43),t._randomString(e,s)},o.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return typeof e=="string"?e.substr(t,1):e[t]};var u=typeof window!="undefined"&&window.innerHeight||typeof document!="undefined"&&document.documentElement&&document.documentElement.clientHeight||typeof document!="undefined"&&document.body&&document.body.clientHeight||1,a=typeof window!="undefined"&&window.innerWidth||typeof document!="undefined"&&document.documentElement&&document.documentElement.clientWidth||typeof document!="undefined"&&document.body&&document.body.clientWidth||1,f=typeof navigator!="undefined"&&navigator.userAgent||"";e.isServer?h=new o(o.Type.NODE_CRYPTO):typeof window!="undefined"&&window.crypto&&window.crypto.getRandomValues?h=new o(o.Type.BROWSER_CRYPTO):h=l(),h.createWithSeeds=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)throw new Error("No seeds were provided");return new o(o.Type.ALEA,{seeds:t})},h.insecure=l()},"deprecated.js":function(){e.uuid=function(){var e="0123456789abcdef",t=[];for(var n=0;n<36;n++)t[n]=h.choice(e);t[14]="4",t[19]=e.substr(parseInt(t[19],16)&3|8,1),t[8]=t[13]=t[18]=t[23]="-";var r=t.join("");return r}}}}}},{extensions:[".js",".json"]});p("./node_modules/meteor/random/random.js"),p("./node_modules/meteor/random/deprecated.js"),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.random={},{Random:h})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r;(function(){r=function(){function e(e){function r(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function i(e,t){return e>>>t|e<<32-t}function s(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function u(e,t,n){return e&t^e&n^t&n}function a(e){return i(e,2)^i(e,13)^i(e,22)}function f(e){return i(e,6)^i(e,11)^i(e,25)}function l(e){return i(e,7)^i(e,18)^s(e,3)}function c(e){return i(e,17)^i(e,19)^s(e,10)}function h(e,t){var n=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388
,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),s=new Array(64),h,p,d,v,m,g,y,b,w,E,S,x;e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var w=0;w<e.length;w+=16){h=i[0],p=i[1],d=i[2],v=i[3],m=i[4],g=i[5],y=i[6],b=i[7];for(var E=0;E<64;E++)E<16?s[E]=e[E+w]:s[E]=r(r(r(c(s[E-2]),s[E-7]),l(s[E-15])),s[E-16]),S=r(r(r(r(b,f(m)),o(m,g,y)),n[E]),s[E]),x=r(a(h),u(h,p,d)),b=y,y=g,g=m,m=r(v,S),v=d,d=p,p=h,h=r(S,x);i[0]=r(h,i[0]),i[1]=r(p,i[1]),i[2]=r(d,i[2]),i[3]=r(v,i[3]),i[4]=r(m,i[4]),i[5]=r(g,i[5]),i[6]=r(y,i[6]),i[7]=r(b,i[7])}return i}function p(e){var n=Array(),r=(1<<t)-1;for(var i=0;i<e.length*t;i+=t)n[i>>5]|=(e.charCodeAt(i/t)&r)<<24-i%32;return n}function d(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t}function v(e){var t=n?"0123456789ABCDEF":"0123456789abcdef",r="";for(var i=0;i<e.length*4;i++)r+=t.charAt(e[i>>2]>>(3-i%4)*8+4&15)+t.charAt(e[i>>2]>>(3-i%4)*8&15);return r}var t=8,n=0;return e=d(e),v(h(p(e),e.length*t))}return e}()}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.sha={},{SHA256:r})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.random.Random,i=Package.check.check,s=Package.check.Match,o=Package.sha.SHA256,u=Package.underscore._,a,f;(function(){a=function(){function r(e,t,n){e!=null&&("number"==typeof e?this.fromNumber(e,t,n):t==null&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new r(null)}function s(e,t,n,r,i,s){while(--s>=0){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=o&67108863}return i}function o(e,t,n,r,i,s){var o=t&32767,u=t>>15;while(--s>=0){var a=this[e]&32767,f=this[e++]>>15,l=u*a+f*o;a=o*a+((l&32767)<<15)+n[r]+(i&1073741823),i=(a>>>30)+(l>>>15)+u*f+(i>>>30),n[r++]=a&1073741823}return i}function u(e,t,n,r,i,s){var o=t&16383,u=t>>14;while(--s>=0){var a=this[e]&16383,f=this[e++]>>14,l=u*a+f*o;a=o*a+((l&16383)<<14)+n[r]+i,i=(a>>28)+(l>>14)+u*f,n[r++]=a&268435455}return i}function p(e){return f.charAt(e)}function d(e,t){var n=l[e.charCodeAt(t)];return n==null?-1:n}function v(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function m(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function g(e){var t=i();return t.fromInt(e),t}function y(e,t){var n;if(t==16)n=4;else if(t==8)n=3;else if(t==256)n=8;else if(t==2)n=1;else if(t==32)n=5;else{if(t!=4){this.fromRadix(e,t);return}n=2}this.t=0,this.s=0;var i=e.length,s=!1,o=0;while(--i>=0){var u=n==8?e[i]&255:d(e,i);if(u<0){e.charAt(i)=="-"&&(s=!0);continue}s=!1,o==0?this[this.t++]=u:o+n>this.DB?(this[this.t-1]|=(u&(1<<this.DB-o)-1)<<o,this[this.t++]=u>>this.DB-o):this[this.t-1]|=u<<o,o+=n,o>=this.DB&&(o-=this.DB)}n==8&&(e[0]&128)!=0&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&r.ZERO.subTo(this,this)}function b(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t}function w(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else{if(e!=4)return this.toRadix(e);t=2}var n=(1<<t)-1,r,i=!1,s="",o=this.t,u=this.DB-o*this.DB%t;if(o-->0){u<this.DB&&(r=this[o]>>u)>0&&(i=!0,s=p(r));while(o>=0)u<t?(r=(this[o]&(1<<u)-1)<<t-u,r|=this[--o]>>(u+=this.DB-t)):(r=this[o]>>(u-=t)&n,u<=0&&(u+=this.DB,--o)),r>0&&(i=!0),i&&(s+=p(r))}return i?s:"0"}function E(){var e=i();return r.ZERO.subTo(this,e),e}function S(){return this.s<0?this.negate():this}function x(e){var t=this.s-e.s;if(t!=0)return t;var n=this.t;t=n-e.t;if(t!=0)return t;while(--n>=0)if((t=this[n]-e[n])!=0)return t;return 0}function T(e){var t=1,n;return(n=e>>>16)!=0&&(e=n,t+=16),(n=e>>8)!=0&&(e=n,t+=8),(n=e>>4)!=0&&(e=n,t+=4),(n=e>>2)!=0&&(e=n,t+=2),(n=e>>1)!=0&&(e=n,t+=1),t}function N(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function C(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function k(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function L(e,t){var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,s=Math.floor(e/this.DB),o=this.s<<n&this.DM,u;for(u=this.t-1;u>=0;--u)t[u+s+1]=this[u]>>r|o,o=(this[u]&i)<<n;for(u=s-1;u>=0;--u)t[u]=0;t[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function A(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var r=e%this.DB,i=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&s)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}function O(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r-=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function M(e,t){var n=this.abs(),i=e.abs(),s=n.t;t.t=s+i.t;while(--s>=0)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)}function _(e){var t=this.abs(),n=e.t=2*t.t;while(--n>=0)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function D(e,t,n){var s=e.abs();if(s.t<=0)return;var o=this.abs();if(o.t<s.t){t!=null&&t.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=i());var u=i(),a=this.s,f=e.s,l=this.DB-T(s[s.t-1]);l>0?(s.lShiftTo(l,u),o.lShiftTo(l,n)):(s.copyTo(u),o.copyTo(n));var c=u.t,h=u[c-1];if(h==0)return;var p=h*(1<<this.F1)+(c>1?u[c-2]>>this.F2:0),d=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,g=n.t,y=g-c,b=t==null?i():t;u.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),r.ONE.dlShiftTo(c,b),b.subTo(u,u);while(u.t<c)u[u.t++]=0;while(--y>=0){var w=n[--g]==h?this.DM:Math.floor(n[g]*d+(n[g-1]+m)*v);if((n[g]+=u.am(0,w,n,y,0,c))<w){u.dlShiftTo(y,b),n.subTo(b,n);while(n[g]<--w)n.subTo(b,n)}}t!=null&&(n.drShiftTo(c,t),a!=f&&r.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&r.ZERO.subTo(n,n)}function P(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t}function H(e){this.m=e}function B(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function j(e){return e}function F(e){e.divRemTo(this.m,null,e)}function I(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function q(e,t){e.squareTo(t),this.reduce(t)}function R(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function U(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function z(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t}function W(e){var t=i();return e.copyTo(t),this.reduce(t),t}function X(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=e[t]&32767,r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);while(e[n]>=e.DV)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function V(e,t){e.squareTo(t),this.reduce(t)}function $(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function J(){return(this.t>0?this[0]&1:this.s)==0}function K(e,t){if(e>4294967295||e<1)return r.ONE;var n=i(),s=i(),o=t.convert(this),u=T(e)-1;o.copyTo(n);while(--u>=0){t.sqrTo(n,s);if((e&1<<u)>0)t.mulTo(s,o,n);else{var a=n;n=s,s=a}}return t.revert(n)}function Q(e,t){var n;return e<256||t.isEven()?n=new H(t):n=new U(t),this.exp(e,n)}function G(){var e=i();return this.copyTo(e),e}function Y(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Z(){return this.t==0?this.s:this[0]<<24>>24}function et(){return this.t==0?this.s:this[0]<<16>>16}function tt(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function nt(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function rt(e){e==null&&(e=10);if(this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=g(n),s=i(),o=i(),u="";this.divRemTo(r,s,o);while(s.signum()>0)u=(n+o.intValue()).toString(e).substr(1)+u,s.divRemTo(r,s,o);return o.intValue().toString(e)+u}function it(e,t){this.fromInt(0),t==null&&(t=10);var n=this.chunkSize(t),i=Math.pow(t,n),s=!1,o=0,u=0;for(var a=0;a<e.length;++a){var f=d(e,a);if(f<0){e.charAt(a)=="-"&&this.signum()==0&&(s=!0);continue}u=t*u+f,++o>=n&&(this.dMultiply(i),this.dAddOffset(u,0),o=0,u=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(u,0)),s&&r.ZERO.subTo(this,this)}function st(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),pt,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(t))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this)}else{var i=new Array,s=e&7;i.length=(e>>3)+1,t.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}}function ot(){var e=this.t,t=new Array;t[0]=this.s;var n=this.DB-e*this.DB%8,r,i=0;if(e-->0){n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);while(e>=0){n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),(r&128)!=0&&(r|=-256),i==0&&(this.s&128)!=(r&128)&&++i;if(i>0||r!=this.s)t[i++]=r}}return t}function ut(e){return this.compareTo(e)==0}function at(e){return this.compareTo(e)<0?this:e}function ft(e){return this.compareTo(e)>0?this:e}function lt(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){i=e.s&this.DM;for(r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{i=this.s&this.DM;for(r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function ct(e,t){return e&t}function ht(e){var t=i();return this.bitwiseTo(e,ct,t),t}function pt(e,t){return e|t}function dt(e){var t=i();return this.bitwiseTo(e,pt,t),t}function vt(e,t){return e^t}function mt(e){var t=i();return this.bitwiseTo(e,vt,t),t}function gt(e,t){return e&~t}function yt(e){var t=i();return this.bitwiseTo(e,gt,t),t}function bt(){var e=i();for(var t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function wt(e){var t=i();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Et(e){var t=i();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function St(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function xt(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+St(this[e]);return this.s<0?this.t*this.DB:-1}function Tt(e){var t=0;while(e!=0)e&=e-1,++t;return t}function Nt(){var e=0,t=this.s&this.DM;for(var n=0;n<this.t;++n)e+=Tt(this[n]^t);return e}function Ct(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function kt(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function Lt(e){return this.changeBit(e,pt)}function At(e){return this.changeBit(e,gt)}function Ot(e){return this.changeBit(e,vt)}function Mt(e,t){var n=0,r=0,i=Math.min(e.t,this.t);while(n<i)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){r+=e.s;while(n<this.t)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{r+=this.s;while(n<e.t)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function _t(e){var t=i();return this.addTo(e,t),t}function Dt(e){var t=i();return this.subTo(e,t),t}function Pt(e){var t=i();return this.multiplyTo(e,t),t}function Ht(e){var t=i();return this.divRemTo(e,t,null),t}function Bt(e){var t=i();return this.divRemTo(e,null,t),t}function jt(e){var t=i(),n=i();return this.divRemTo(e,t,n),new Array(t,n)}function Ft(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function It(e,t){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function qt(){}function Rt(e){return e}function Ut(e,t,n){e.multiplyTo(t,n)}function zt(e,t){e.squareTo(t)}function Wt(e){return this.exp(e,new qt)}function Xt(e,t,n){var r=Math.min(this.t+e.t,t);n.s=0,n.t=r;while(r>0)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Vt(e,t,n){--t;var r=n.t=this.t+e.t-t;n.s=0;while(--r>=0)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function $t(e){this.r2=i(),this.q3=i(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Jt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t}function Kt(e){return e}function Qt(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)}function Gt(e,t){e.squareTo(t),this.reduce(t)}function Yt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Zt(e,t){var n=e.bitLength(),r,s=g(1),o;if(n<=0)return s;n<18?r=1:n<48?r=3:n<144?r=4:n<768?r=5:r=6,n<8?o=new H(t):t.isEven()?o=new $t(t):o=new U(t);var u=new Array,a=3,f=r-1,l=(1<<r)-1;u[1]=o.convert(this);if(r>1){var c=i();o.sqrTo(u[1],c);while(a<=l)u[a]=i(),o.mulTo(c,u[a-2],u[a]),a+=2}var h=e.t-1,p,d=!0,v=i(),m;n=T(e[h])-1;while(h>=0){n>=f?p=e[h]>>n-f&l:(p=(e[h]&(1<<n+1)-1)<<f-n,h>0&&(p|=e[h-1]>>this.DB+n-f)),a=r;while((p&1)==0)p>>=1,--a;(n-=a)<0&&(n+=this.DB,--h);if(d)u[p].copyTo(s),d=!1;else{while(a>1)o.sqrTo(s,v),o.sqrTo(v,s),a-=2;a>0?o.sqrTo(s,v):(m=s,s=v,v=m),o.mulTo(v,u[p],s)}while(h>=0&&(e[h]&1<<n)==0)o.sqrTo(s,v),m=s,s=v,v=m,--n<0&&(n=this.DB-1,--h)}return o.revert(s)}function en(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;i<s&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));while(t.signum()>0)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function tn(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(t==0)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function nn(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return r.ZERO;var n=e.clone(),i=this.clone(),s=g(1),o=g(0),u=g(0),a=g(1);while(n.signum()!=0){while(n.isEven()){n.rShiftTo(1,n);if(t){if(!s.isEven()||!o.isEven())s.addTo(this,s),o.subTo(e,o);s.rShiftTo(1,s)}else o.isEven()||o.subTo(e,o);o.rShiftTo(1,o)}while(i.isEven()){i.rShiftTo(1,i);if(t){if(!u.isEven()||!a.isEven())u.addTo(this,u),a.subTo(e,a);u.rShiftTo(1,u)}else a.isEven()||a.subTo(e,a);a.rShiftTo(1,a)}n.compareTo(i)>=0?(n.subTo(i,n),t&&s.subTo(u,s),o.subTo(a,o)):(i.subTo(n,i),t&&u.subTo(s,u),a.subTo(o,a))}return i.compareTo(r.ONE)!=0?r.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a}function on(e){var t,n=this.abs();if(n.t==1&&n[0]<=rn[rn.length-1]){for(t=0;t<rn.length;++t)if(n[0]==rn[t])return!0;return!1}if(n.isEven())return!1;t=1;while(t<rn.length){var r=rn[t],i=t+1;while(i<rn.length&&r<sn)r*=rn[i++];r=n.modInt(r);while(t<i)if(r%rn[t++]==0)return!1}return n.millerRabin(e)}function un(e){var t=this.subtract(r.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var s=t.shiftRight(n);e=e+1>>1,e>rn.length&&(e=rn.length);var o=i();for(var u=0;u<e;++u){o.fromInt(rn[u]);var a=o.modPow(s,this);if(a.compareTo(r.ONE)!=0&&a.compareTo(t)!=0){var f=1;while(f++<n&&a.compareTo(t)!=0){a=a.modPowInt(2,this);if(a.compareTo(r.ONE)==0)return!1}if(a.compareTo(t)!=0)return!1}}return!0}var e,t=0xdeadbeefcafe,n=(t&16777215)==15715070;r.prototype.am=u,e=28,r.prototype.DB=e,r.prototype.DM=(1<<e)-1,r.prototype.DV=1<<e;var a=52;r.prototype.FV=Math.pow(2,a),r.prototype.F1=a-e,r.prototype.F2=2*e-a;var f="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array,c,h;c="0".charCodeAt(0);for(h=0;h<=9;++h)l[c++]=h;c="a".charCodeAt(0);for(h=10;h<36;++h)l[c++]=h;c="A".charCodeAt(0);for(h=10;h<36;++h)l[c++]=h;H.prototype.convert=B,H.prototype.revert=j,H.prototype.reduce=F,H.prototype.mulTo=I,H.prototype.sqrTo=q,U.prototype.convert=z,U.prototype.revert=W,U.prototype.reduce=X,U.prototype.mulTo=$,U.prototype.sqrTo=V,r.prototype.copyTo=v,r.prototype.fromInt=m,r.prototype.fromString=y,r.prototype.clamp=b,r.prototype.dlShiftTo=C,r.prototype.drShiftTo=k,r.prototype.lShiftTo=L,r.prototype.rShiftTo=A,r.prototype.subTo=O,r.prototype.multiplyTo=M,r.prototype.squareTo=_,r.prototype.divRemTo=D,r.prototype.invDigit=R,r.prototype.isEven=J,r.prototype.exp=K,r.prototype.toString=w,r.prototype.negate=E,r.prototype.abs=S,r.prototype.compareTo=x,r.prototype.bitLength=N,r.prototype.mod=P,r.prototype.modPowInt=Q,r.ZERO=g(0),r.ONE=g(1),qt.prototype.convert=Rt,qt.prototype.revert=Rt,qt.prototype.mulTo=Ut,qt.prototype.sqrTo=zt,$t.prototype.convert=Jt,$t.prototype.revert=Kt,$t.prototype.reduce=Qt,$t.prototype.mulTo=Yt,$t.prototype.sqrTo=Gt;var rn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],sn=(1<<26)/rn[rn.length-1];return r.prototype.chunkSize=tt,r.prototype.toRadix=rt,r.prototype.fromRadix=it,r.prototype.fromNumber=st,r.prototype.bitwiseTo=lt,r.prototype.changeBit=kt,r.prototype.addTo=Mt,r.prototype.dMultiply=Ft,r.prototype.dAddOffset=It,r.prototype.multiplyLowerTo=Xt,r.prototype.multiplyUpperTo=Vt,r.prototype.modInt=tn,r.prototype.millerRabin=un,r.prototype.clone=G,r.prototype.intValue=Y,r.prototype.byteValue=Z,r.prototype.shortValue=et,r.prototype.signum=nt,r.prototype.toByteArray=ot,r.prototype.equals=ut,r.prototype.min=at,r.prototype.max=ft,r.prototype.and=ht,r.prototype.or=dt,r.prototype.xor=mt,r.prototype.andNot=yt,r.prototype.not=bt,r.prototype.shiftLeft=wt,r.prototype.shiftRight=Et,r.prototype.getLowestSetBit=xt,r.prototype.bitCount=Nt,r.prototype.testBit=Ct,r.prototype.setBit=Lt,r.prototype.clearBit=At,r.prototype.flipBit=Ot,r.prototype.add=_t,r.prototype.subtract=Dt,r.prototype.multiply=Pt,r.prototype.divide=Ht,r.prototype.remainder=Bt,r.prototype.divideAndRemainder=jt,r.prototype.modPow=Zt,r.prototype.modInverse=nn,r.prototype.pow=Wt,r.prototype.gcd=en,r.prototype.isProbablePrime=on,r}()}).call(this),function(){f={},f.generateVerifier=function(e,n){var i=t(n),s=n&&n.salt||r.secret(),o,u=n&&n.hashedIdentityAndPassword;u||(o=n&&n.identity||r.secret(),u=i.hash(o+":"+e));var f=i.hash(s+u),l=new a(f,16),c=i.g.modPow(l,i.N);return{identity:o,salt:s,verifier:c.toString(16)}},f.matchVerifier={identity:String,salt:String,verifier:String};var e={hash:function(e){return o(e).toLowerCase()},N:new a("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new a("2")};e.k=new a(e.hash(e.N.toString(16)+e.g.toString(16)),16);var t=function(t){if(!t)return e;var n=u.extend({},e);return u.each(["N","g","k"],function(e){if(t[e])if(typeof t[e]=="string")n[e]=new a(t[e],16);else{if(!(t[e]instanceof a))throw new Error("Invalid parameter: "+e);n[e]=t[e]}}),t.hash&&(n.hash=function(e){return t.hash(e).toLowerCase()}),!t.k&&(t.N||t.g||t.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n}}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.srp={},{SRP:f})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r,i;(function(){r={},r.active=!1,r.currentComputation=null;var t=function(e){r.currentComputation=e,r.active=!!e},n=function(){return typeof e!="undefined"?e._debug:typeof console!="undefined"&&console.error?function(){console.error.apply(console,arguments)}:function(){}},i=function(t){typeof e!="undefined"&&e._suppressed_log_expected()&&e._suppress_log(t-1)},s=function(e,t){if(h)throw t;var r=["Exception from Tracker "+e+" function:"];if(t.stack&&t.message&&t.name){var s=t.stack.indexOf(t.message);if(s<0||s>t.name.length+2){var o=t.name+": "+t.message;r.push(o)}}r.push(t.stack),i(r.length);for(var u=0;u<r.length;u++)n()(r[u])},o=function(t){return typeof e=="undefined"||e.isClient?t:function(){var n=arguments;e._noYieldsAllowed(function(){t.apply(null,n)})}},u=1,a=[],f=!1,l=!1,c=!1,h=!1,p=[],d=function(){f||(typeof e!="undefined"?e._setImmediate(r._runFlush):setTimeout(r._runFlush,0),f=!0)},v=!1;r.Computation=function(e,t,n){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var r=this;r.stopped=!1,r.invalidated=!1,r.firstRun=!0,r._id=u++,r._onInvalidateCallbacks=[],r._onStopCallbacks=[],r._parent=t,r._func=e,r._onError=n,r._recomputing=!1;var i=!0;try{r._compute(),i=!1}finally{r.firstRun=!1,i&&r.stop()}},r.Computation.prototype.onInvalidate=function(e){var t=this;if(typeof e!="function")throw new Error("onInvalidate requires a function");t.invalidated?r.nonreactive(function(){o(e)(t)}):t._onInvalidateCallbacks.push(e)},r.Computation.prototype.onStop=function(e){var t=this;if(typeof e!="function")throw new Error("onStop requires a function");t.stopped?r.nonreactive(function(){o(e)(t)}):t._onStopCallbacks.push(e)},r.Computation.prototype.invalidate=function(){var e=this;if(!e.invalidated){!e._recomputing&&!e.stopped&&(d(),a.push(this)),e.invalidated=!0;for(var t=0,n;n=e._onInvalidateCallbacks[t];t++)r.nonreactive(function(){o(n)(e)});e._onInvalidateCallbacks=[]}},r.Computation.prototype.stop=function(){var e=this;if(!e.stopped){e.stopped=!0,e.invalidate();for(var t=0,n;n=e._onStopCallbacks[t];t++)r.nonreactive(function(){o(n)(e)});e._onStopCallbacks=[]}},r.Computation.prototype._compute=function(){var e=this;e.invalidated=!1;var n=r.currentComputation;t(e);var i=c;c=!0;try{o(e._func)(e)}finally{t(n),c=i}},r.Computation.prototype._needsRecompute=function(){var e=this;return e.invalidated&&!e.stopped},r.Computation.prototype._recompute=function(){var e=this;e._recomputing=!0;try{if(e._needsRecompute())try{e._compute()}catch(t){e._onError?e._onError(t):s("recompute",t)}}finally{e._recomputing=!1}},r.Computation.prototype.flush=function(){var e=this;if(e._recomputing)return;e._recompute()},r.Computation.prototype.run=function(){var e=this;e.invalidate(),e.flush()},r.Dependency=function(){this._dependentsById={}},r.Dependency.prototype.depend=function(e){if(!e){if(!r.active)return!1;e=r.currentComputation}var t=this,n=e._id;return n in t._dependentsById?!1:(t._dependentsById[n]=e,e.onInvalidate(function(){delete t._dependentsById[n]}),!0)},r.Dependency.prototype.changed=function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},r.Dependency.prototype.hasDependents=function(){var e=this;for(var t in e._dependentsById)return!0;return!1},r.flush=function(e){r._runFlush({finishSynchronously:!0,throwFirstError:e&&e._throwFirstError})},r._runFlush=function(e){if(l)throw new Error("Can't call Tracker.flush while flushing");if(c)throw new Error("Can't flush inside Tracker.autorun");e=e||{},l=!0,f=!0,h=!!e.throwFirstError;var t=0,n=!1;try{while(a.length||p.length){while(a.length){var i=a.shift();i._recompute(),i._needsRecompute()&&a.unshift(i);if(!e.finishSynchronously&&++t>1e3){n=!0;return}}if(p.length){var o=p.shift();try{o()}catch(u){s("afterFlush",u)}}}n=!0}finally{n||(l=!1,r._runFlush({finishSynchronously:e.finishSynchronously,throwFirstError:!1})),f=!1,l=!1;if(a.length||p.length){if(e.finishSynchronously)throw new Error("still have more to do?");setTimeout(d,10)}}},r.autorun=function(e,t){if(typeof e!="function")throw new Error("Tracker.autorun requires a function argument");t=t||{},v=!0;var n=new r.Computation(e,r.currentComputation,t.onError);return r.active&&r.onInvalidate(function(){n.stop()}),n},r.nonreactive=function(e){var n=r.currentComputation;t(null);try{return e()}finally{t(n)}},r.onInvalidate=function(e){if(!r.active)throw new Error("Tracker.onInvalidate requires a currentComputation");r.currentComputation.onInvalidate(e)},r.afterFlush=function(e){p.push(e),d()}}).call(this),function(){e.flush=r.flush,e.autorun=r.autorun,e.autosubscribe=r.autorun,r.depend=function(e){return e.depend()},i=r}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.tracker={},{Tracker:r,Deps:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.random.Random,s;(function(){s=function(e){var t=this;r.extend(t,r.defaults(r.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},r.extend(s.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var n=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return n*=i.fraction()*t.fuzz+(1-t.fuzz/2),n},retryLater:function(t,n){var r=this,i=r._timeout(t);return r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=e.setTimeout(n,i),i}})}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.retry={},{Retry:s})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,s;(function(){s=function(e,t){var n=this;n._map={},n._idStringify=e||JSON.stringify,n._idParse=t||JSON.parse},r.extend(s.prototype,{get:function(e){var t=this,n=t._idStringify(e);return t._map[n]},set:function(e,t){var n=this,r=n._idStringify(e);n._map[r]=t},remove:function(e){var t=this,n=t._idStringify(e);delete t._map[n]},has:function(e){var t=this,n=t._idStringify(e);return r.has(t._map,n)},empty:function(){var e=this;return r.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(e){var t=this,n=r.keys(t._map);for(var i=0;i<n.length;i++){var s=e.call(null,t._map[n[i]],t._idParse(n[i]));if(s===!1)return}},size:function(){var e=this;return r.size(e._map)},setDefault:function(e,t){var n=this,i=n._idStringify(e);return r.has(n._map,i)?n._map[i]:(n._map[i]=t,t)},clone:function(){var e=this,t=new s(e._idStringify,e._idParse);return e.forEach(function(e,n){t.set(n,i.clone(e))}),t}})}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["id-map"]={},{IdMap:s})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i;(function(){var e=function(e,t,n,r){return{key:e,value:t,next:n,prev:r}};i=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var t=r.toArray(arguments);e._stringify=function(e){return e},typeof t[0]=="function"&&(e._stringify=t.shift()),r.each(t,function(t){e.putBefore(t[0],t[1],null)})},r.extend(i.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e);if(t._first===null||t._first===e.next)t._first=e},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(t,n,r){var i=this;if(i._dict[i._k(t)])throw new Error("Item "+t+" already present in OrderedDict");var s=r?e(t,n,i._dict[i._k(r)]):e(t,n,null);if(s.next===undefined)throw new Error("could not find item to put this one before");i._linkEltIn(s),i._dict[i._k(t)]=s,i._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(n===undefined)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:undefined},has:function(e){var t=this;return r.has(t._dict,t._k(e))},forEach:function(e){var t=this,n=0,r=t._first;while(r!==null){var s=e(r.value,r.key,n);if(s===i.BREAK)return;r=r.next,n++}},first:function(){var e=this;return e.empty()?undefined:e._first.key},firstValue:function(){var e=this;return e.empty()?undefined:e._first.value},last:function(){var e=this;return e.empty()?undefined:e._last.key},lastValue:function(){var e=this;return e.empty()?undefined:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,r=n._dict[n._k(e)],i=t?n._dict[n._k(t)]:null;if(r===undefined)throw new Error("Item to move is not present");if(i===undefined)throw new Error("Could not find element to move this one before");if(i===r.next)return;n._linkEltOut(r),r.next=i,n._linkEltIn(r)},indexOf:function(e){var t=this,n=null;return t.forEach(function(r,s,o){return t._k(s)===t._k(e)?(n=o,i.BREAK):undefined}),n},_checkRep:function(){var e=this;r.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),i.BREAK={"break":!0}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ordered-dict"]={},{OrderedDict:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,s=Package.modules.process,o,u=r({node_modules:{meteor:{"geojson-utils":{"main.js":["./geojson-utils.js",function(e,t){t.GeoJSON=e("./geojson-utils.js")}],"geojson-utils.js":function(e,t,n){(function(){function t(e){var t=[],n=[];for(var r=0;r<e[0].length;r++)t.push(e[0][r][1]),n.push(e[0][r][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function r(e,t,n){var r=[[0,0]];for(var i=0;i<n.length;i++){for(var s=0;s<n[i].length;s++)r.push(n[i][s]);r.push([0,0])}var o=!1;for(var i=0,s=r.length-1;i<r.length;s=i++)r[i][0]>t!=r[s][0]>t&&e<(r[s][1]-r[i][1])*(t-r[i][0])/(r[s][0]-r[i][0])+r[i][1]&&(o=!o);return o}var e={};typeof n!="undefined"&&n.exports&&(n.exports=e),e.lineStringsIntersect=function(e,t){var n=[];for(var r=0;r<=e.coordinates.length-2;++r)for(var i=0;i<=t.coordinates.length-2;++i){var s={x:e.coordinates[r][1],y:e.coordinates[r][0]},o={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},u={x:t.coordinates[i][1],y:t.coordinates[i][0]},a={x:t.coordinates[i+1][1],y:t.coordinates[i+1][0]},f=(a.x-u.x)*(s.y-u.y)-(a.y-u.y)*(s.x-u.x),l=(o.x-s.x)*(s.y-u.y)-(o.y-s.y)*(s.x-u.x),c=(a.y-u.y)*(o.x-s.x)-(a.x-u.x)*(o.y-s.y);if(c!=0){var h=f/c,p=l/c;0<=h&&h<=1&&0<=p&&p<=1&&n.push({type:"Point",coordinates:[s.x+h*(o.x-s.x),s.y+h*(o.y-s.y)]})}}return n.length==0&&(n=!1),n},e.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},e.pointInPolygon=function(n,i){var s=i.type=="Polygon"?[i.coordinates]:i.coordinates,o=!1
;for(var u=0;u<s.length;u++)e.pointInBoundingBox(n,t(s[u]))&&(o=!0);if(!o)return!1;var a=!1;for(var u=0;u<s.length;u++)r(n.coordinates[1],n.coordinates[0],s[u])&&(a=!0);return a},e.numberToRadius=function(e){return e*Math.PI/180},e.numberToDegree=function(e){return e*180/Math.PI},e.drawCircle=function(t,n,r){var i=[n.coordinates[1],n.coordinates[0]],s=t/1e3/6371,o=[e.numberToRadius(i[0]),e.numberToRadius(i[1])],r=r||15,u=[[i[0],i[1]]];for(var a=0;a<r;a++){var f=2*Math.PI*a/r,l=Math.asin(Math.sin(o[0])*Math.cos(s)+Math.cos(o[0])*Math.sin(s)*Math.cos(f)),c=o[1]+Math.atan2(Math.sin(f)*Math.sin(s)*Math.cos(o[0]),Math.cos(s)-Math.sin(o[0])*Math.sin(l));u[a]=[],u[a][1]=e.numberToDegree(l),u[a][0]=e.numberToDegree(c)}return{type:"Polygon",coordinates:[u]}},e.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],r=t[0][1],i=t[2][0],s=t[2][1],o=i-n,u=s-r;return{type:"Point",coordinates:[n+o/2,r+u/2]}},e.pointDistance=function(t,n){var r=t.coordinates[0],i=t.coordinates[1],s=n.coordinates[0],o=n.coordinates[1],u=e.numberToRadius(o-i),a=e.numberToRadius(s-r),f=Math.pow(Math.sin(u/2),2)+Math.cos(e.numberToRadius(i))*Math.cos(e.numberToRadius(o))*Math.pow(Math.sin(a/2),2),l=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f));return 6371*l*1e3},e.geometryWithinRadius=function(t,n,r){if(t.type=="Point")return e.pointDistance(t,n)<=r;if(t.type=="LineString"||t.type=="Polygon"){var i={},s;t.type=="Polygon"?s=t.coordinates[0]:s=t.coordinates;for(var o in s){i.coordinates=s[o];if(e.pointDistance(i,n)>r)return!1}}return!0},e.area=function(e){var t=0,n=e.coordinates[0],r=n.length-1,i,s;for(var o=0;o<n.length;r=o++){var i={x:n[o][1],y:n[o][0]},s={x:n[r][1],y:n[r][0]};t+=i.x*s.y,t-=i.y*s.x}return t/=2,t},e.centroid=function(t){var n,r=0,i=0,s=t.coordinates[0],o=s.length-1,u,a;for(var f=0;f<s.length;o=f++){var u={x:s[f][1],y:s[f][0]},a={x:s[o][1],y:s[o][0]};n=u.x*a.y-a.x*u.y,r+=(u.x+a.x)*n,i+=(u.y+a.y)*n}return n=e.area(t)*6,{type:"Point",coordinates:[i/n,r/n]}},e.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=Math.PI/180*.5,S=new Array,x=new Array,T=new Array;if(e.length<3)return e;n=e.length,c=t*360/(2*Math.PI*6378137),c*=c,i=0,x[0]=0,T[0]=n-1,r=1;while(r>0){s=x[r-1],o=T[r-1],r--;if(o-s>1){h=e[o].lng()-e[s].lng(),p=e[o].lat()-e[s].lat(),Math.abs(h)>180&&(h=360-Math.abs(h)),h*=Math.cos(E*(e[o].lat()+e[s].lat())),d=h*h+p*p;for(u=s+1,a=s,l=-1;u<o;u++)v=e[u].lng()-e[s].lng(),m=e[u].lat()-e[s].lat(),Math.abs(v)>180&&(v=360-Math.abs(v)),v*=Math.cos(E*(e[u].lat()+e[s].lat())),g=v*v+m*m,y=e[u].lng()-e[o].lng(),b=e[u].lat()-e[o].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(E*(e[u].lat()+e[o].lat())),w=y*y+b*b,g>=d+w?f=w:w>=d+g?f=g:f=(v*p-m*h)*(v*p-m*h)/d,f>l&&(a=u,l=f);l<c?(S[i]=s,i++):(r++,x[r-1]=a,T[r-1]=o,r++,x[r-1]=s,T[r-1]=a)}else S[i]=s,i++}S[i]=n-1,i++;var N=new Array;for(var u=0;u<i;u++)N.push(e[S[u]]);return N.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},e.destinationPoint=function(t,n,r){r/=6371,n=e.numberToRadius(n);var i=e.numberToRadius(t.coordinates[0]),s=e.numberToRadius(t.coordinates[1]),o=Math.asin(Math.sin(i)*Math.cos(r)+Math.cos(i)*Math.sin(r)*Math.cos(n)),u=s+Math.atan2(Math.sin(n)*Math.sin(r)*Math.cos(i),Math.cos(r)-Math.sin(i)*Math.sin(o));return u=(u+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[e.numberToDegree(o),e.numberToDegree(u)]}}})()}}}}},{extensions:[".js",".json"]}),a=u("./node_modules/meteor/geojson-utils/main.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["geojson-utils"]=a,{GeoJSON:o})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,s;(function(){s={},s.diffQueryChanges=function(e,t,n,r,i){e?s.diffQueryOrderedChanges(t,n,r,i):s.diffQueryUnorderedChanges(t,n,r,i)},s.diffQueryUnorderedChanges=function(e,t,n,o){o=o||{};var u=o.projectionFn||i.clone;if(n.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");t.forEach(function(t,o){var a=e.get(o);if(a){if(n.changed&&!i.equals(a,t)){var f=u(t),l=u(a),c=s.makeChangedFields(f,l);r.isEmpty(c)||n.changed(o,c)}}else if(n.added){var h=u(t);delete h._id,n.added(t._id,h)}}),n.removed&&e.forEach(function(e,r){t.has(r)||n.removed(r)})},s.diffQueryOrderedChanges=function(t,n,o,u){u=u||{};var a=u.projectionFn||i.clone,f={};r.each(n,function(t){f[t._id]&&e._debug("Duplicate _id in new_results"),f[t._id]=!0});var l={};r.each(t,function(t,n){t._id in l&&e._debug("Duplicate _id in old_results"),l[t._id]=n});var c=[],h=0,p=n.length,d=new Array(p),v=new Array(p),m=function(e){return l[n[e]._id]};for(var g=0;g<p;g++)if(l[n[g]._id]!==undefined){var y=h;while(y>0){if(m(d[y-1])<m(g))break;y--}v[g]=y===0?-1:d[y-1],d[y]=g,y+1>h&&(h=y+1)}var b=h===0?-1:d[h-1];while(b>=0)c.push(b),b=v[b];c.reverse(),c.push(n.length),r.each(t,function(e){f[e._id]||o.removed&&o.removed(e._id)});var w=0;r.each(c,function(e){var i=n[e]?n[e]._id:null,u,f,c,h,p;for(var d=w;d<e;d++)f=n[d],r.has(l,f._id)?(u=t[l[f._id]],h=a(f),p=a(u),c=s.makeChangedFields(h,p),r.isEmpty(c)||o.changed&&o.changed(f._id,c),o.movedBefore&&o.movedBefore(f._id,i)):(c=a(f),delete c._id,o.addedBefore&&o.addedBefore(f._id,c,i),o.added&&o.added(f._id,c));i&&(f=n[e],u=t[l[f._id]],h=a(f),p=a(u),c=s.makeChangedFields(h,p),r.isEmpty(c)||o.changed&&o.changed(f._id,c)),w=e+1})},s.diffObjects=function(e,t,n){r.each(e,function(e,i){r.has(t,i)?n.both&&n.both(i,e,t[i]):n.leftOnly&&n.leftOnly(i,e)}),n.rightOnly&&r.each(t,function(t,i){r.has(e,i)||n.rightOnly(i,t)})},s.makeChangedFields=function(e,t){var n={};return s.diffObjects(t,e,{leftOnly:function(e,t){n[e]=undefined},rightOnly:function(e,t){n[e]=t},both:function(e,t,r){i.equals(t,r)||(n[e]=r)}}),n},s.applyChanges=function(e,t){r.each(t,function(t,n){t===undefined?delete e[n]:e[n]=t})}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["diff-sequence"]={},{DiffSequence:s})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,i=Package["id-map"].IdMap,s=Package.random.Random,o;(function(){o={},o._looksLikeObjectID=function(e){return e.length===24&&e.match(/^[0-9a-f]*$/)},o.ObjectID=function(e){var t=this;if(e){e=e.toLowerCase();if(!o._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");t._str=e}else t._str=s.hexString(24)},o.ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},o.ObjectID.prototype.equals=function(e){var t=this;return e instanceof o.ObjectID&&t.valueOf()===e.valueOf()},o.ObjectID.prototype.clone=function(){var e=this;return new o.ObjectID(e._str)},o.ObjectID.prototype.typeName=function(){return"oid"},o.ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},o.ObjectID.prototype.valueOf=o.ObjectID.prototype.toJSONValue=o.ObjectID.prototype.toHexString=function(){return this._str},r.addType("oid",function(e){return new o.ObjectID(e)}),o.idStringify=function(e){if(e instanceof o.ObjectID)return e.valueOf();if(typeof e=="string")return e===""?e:e.substr(0,1)==="-"||e.substr(0,1)==="~"||o._looksLikeObjectID(e)||e.substr(0,1)==="{"?"-"+e:e;if(e===undefined)return"-";if(typeof e=="object"&&e!==null)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(e)},o.idParse=function(e){return e===""?e:e==="-"?undefined:e.substr(0,1)==="-"?e.substr(1):e.substr(0,1)==="~"?JSON.parse(e.substr(1)):o._looksLikeObjectID(e)?new o.ObjectID(e):e}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["mongo-id"]={},{MongoID:o})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,s=Package["id-map"].IdMap,o=Package["ordered-dict"].OrderedDict,u=Package.tracker.Tracker,a=Package.tracker.Deps,f=Package["mongo-id"].MongoID,l=Package.random.Random,c=Package["diff-sequence"].DiffSequence,h=Package["geojson-utils"].GeoJSON,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;(function(){p=function(t){var n=this;n.name=t,n._docs=new p._IdMap,n._observeQueue=new e._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},d={},v={},m=function(e){var t=new Error(e);return t.name="MinimongoError",t},p.prototype.find=function(e,t){return arguments.length===0&&(e={}),new p.Cursor(this,e,t)},p.Cursor=function(e,t,n){var r=this;n||(n={}),r.collection=e,r.sorter=null,r.matcher=new d.Matcher(t);if(p._selectorIsId(t))r._selectorId=t;else if(p._selectorIsIdPerhapsAsObject(t))r._selectorId=t._id;else{r._selectorId=undefined;if(r.matcher.hasGeoQuery()||n.sort)r.sorter=new d.Sorter(n.sort||[],{matcher:r.matcher})}r.skip=n.skip,r.limit=n.limit,r.fields=n.fields,r._projectionFn=p._compileProjection(r.fields||{}),r._transform=p.wrapTransform(n.transform),typeof u!="undefined"&&(r.reactive=n.reactive===undefined?!0:n.reactive)},p.Cursor.prototype.rewind=function(){},p.prototype.findOne=function(e,t){return arguments.length===0&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},p.Cursor.prototype.forEach=function(e,t){var n=this,i=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(i,function(r,i){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,i,n)})},p.Cursor.prototype.getTransform=function(){return this._transform},p.Cursor.prototype.map=function(e,t){var n=this,r=[];return n.forEach(function(i,s){r.push(e.call(t,i,s,n))}),r},p.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},p.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},p.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(t,e,n)},p.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},p._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!!e.addedBefore||!!e.movedBefore},p._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},p.ObserveHandle=function(){},r.extend(p.Cursor.prototype,{observe:function(e){var t=this;return p._observeFromObserveChanges(t,e)},observeChanges:function(e){var t=this,n=p._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!n&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(!t.fields||t.fields._id!==0&&t.fields._id!==!1){var s={dirty:!1,matcher:t.matcher,sorter:n&&t.sorter,distances:t.matcher.hasGeoQuery()&&n&&new p._IdMap,resultsSnapshot:null,ordered:n,cursor:t,projectionFn:t._projectionFn},o;t.reactive&&(o=t.collection.next_qid++,t.collection.queries[o]=s),s.results=t._getRawObjects({ordered:n,distances:s.distances}),t.collection.paused&&(s.resultsSnapshot=n?[]:new p._IdMap);var a=function(e){return e?function(){var n=this,r=arguments;if(t.collection.paused)return;t.collection._observeQueue.queueTask(function(){e.apply(n,r)})}:function(){}};s.added=a(e.added),s.changed=a(e.changed),s.removed=a(e.removed),n&&(s.addedBefore=a(e.addedBefore),s.movedBefore=a(e.movedBefore));if(!e._suppress_initial&&!t.collection.paused){var f=n?r.bind(r.each,null,s.results):r.bind(s.results.forEach,s.results);f(function(e){var r=i.clone(e);delete r._id,n&&s.addedBefore(e._id,t._projectionFn(r),null),s.added(e._id,t._projectionFn(r))})}var l=new p.ObserveHandle;return r.extend(l,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[o]}}),t.reactive&&u.active&&u.onInvalidate(function(){l.stop()}),t.collection._observeQueue.drain(),l}throw Error("You may not observe a cursor with {fields: {_id: 0}}")}}),p.Cursor.prototype._getRawObjects=function(e){var t=this;e=e||{};var n=e.ordered?[]:new p._IdMap;if(t._selectorId!==undefined){if(t.skip)return n;var r=t.collection._docs.get(t._selectorId);return r&&(e.ordered?n.push(r):n.set(t._selectorId,r)),n}var i;t.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(i=e.distances,i.clear()):i=new p._IdMap),t.collection._docs.forEach(function(r,s){var o=t.matcher.documentMatches(r);return o.result&&(e.ordered?(n.push(r),i&&o.distance!==undefined&&i.set(s,o.distance)):n.set(s,r)),t.limit&&!t.skip&&!t.sorter&&n.length===t.limit?!1:!0});if(!e.ordered)return n;if(t.sorter){var s=t.sorter.getComparator({distances:i});n.sort(s)}var o=t.skip||0,u=t.limit?t.limit+o:n.length;return n.slice(o,u)},p.Cursor.prototype._depend=function(e,t){var n=this;if(u.active){var i=new u.Dependency;i.depend();var s=r.bind(i.changed,i),o={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(o[t]=s)}),n.observeChanges(o)}},p.prototype.insert=function(t,n){var s=this;t=i.clone(t),r.has(t,"_id")||(t._id=p._useOID?new f.ObjectID:l.id());var o=t._id;if(s._docs.has(o))throw m("Duplicate _id '"+o+"'");s._saveOriginal(o,undefined),s._docs.set(o,t);var u=[];for(var a in s.queries){var c=s.queries[a];if(c.dirty)continue;var h=c.matcher.documentMatches(t);h.result&&(c.distances&&h.distance!==undefined&&c.distances.set(o,h.distance),c.cursor.skip||c.cursor.limit?u.push(a):p._insertInResults(c,t))}return r.each(u,function(e){s.queries[e]&&s._recomputeResults(s.queries[e])}),s._observeQueue.drain(),n&&e.defer(function(){n(null,o)}),o},p.prototype._eachPossiblyMatchingDoc=function(e,t){var n=this,r=p._idsMatchedBySelector(e);if(r)for(var i=0;i<r.length;++i){var s=r[i],o=n._docs.get(s);if(o){var u=t(o,s);if(u===!1)break}}else n._docs.forEach(t)},p.prototype.remove=function(t,n){var s=this;if(s.paused&&!s._savedOriginals&&i.equals(t,{})){var o=s._docs.size();return s._docs.clear(),r.each(s.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),n&&e.defer(function(){n(null,o)}),o}var u=new d.Matcher(t),a=[];s._eachPossiblyMatchingDoc(t,function(e,t){u.documentMatches(e).result&&a.push(t)});var f=[],l=[];for(var c=0;c<a.length;c++){var h=a[c],v=s._docs.get(h);r.each(s.queries,function(e,t){if(e.dirty)return;e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?f.push(t):l.push({qid:t,doc:v}))}),s._saveOriginal(h,v),s._docs.remove(h)}return r.each(l,function(e){var t=s.queries[e.qid];t&&(t.distances&&t.distances.remove(e.doc._id),p._removeFromResults(t,e.doc))}),r.each(f,function(e){var t=s.queries[e];t&&s._recomputeResults(t)}),s._observeQueue.drain(),o=a.length,n&&e.defer(function(){n(null,o)}),o},p.prototype.update=function(t,n,s,o){var u=this;!o&&s instanceof Function&&(o=s,s=null),s||(s={});var a=new d.Matcher(t),f={},l=new p._IdMap,c=p._idsMatchedBySelector(t);r.each(u.queries,function(e,t){if((e.cursor.skip||e.cursor.limit)&&!u.paused){if(e.results instanceof p._IdMap){f[t]=e.results.clone();return}if(!(e.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var n=function(e){if(l.has(e._id))return l.get(e._id);var t;return c&&!r.any(c,function(t){return i.equals(t,e._id)})?t=e:t=i.clone(e),l.set(e._id,t),t};f[t]=e.results.map(n)}});var h={},v=0;u._eachPossiblyMatchingDoc(t,function(e,t){var r=a.documentMatches(e);if(r.result){u._saveOriginal(t,e),u._modifyAndNotify(e,n,h,r.arrayIndices),++v;if(!s.multi)return!1}return!0}),r.each(h,function(e,t){var n=u.queries[t];n&&u._recomputeResults(n,f[t])}),u._observeQueue.drain();var m;if(v===0&&s.upsert){var g=p._removeDollarOperators(t);p._modify(g,n,{isInsert:!0}),!g._id&&s.insertedId&&(g._id=s.insertedId),m=u.insert(g),v=1}var y;return s._returnObject?(y={numberAffected:v},m!==undefined&&(y.insertedId=m)):y=v,o&&e.defer(function(){o(null,y)}),y},p.prototype.upsert=function(e,t,n,i){var s=this;return!i&&typeof n=="function"&&(i=n,n={}),s.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),i)},p.prototype._modifyAndNotify=function(e,t,n,r){var s=this,o={};for(var u in s.queries){var a=s.queries[u];if(a.dirty)continue;a.ordered?o[u]=a.matcher.documentMatches(e).result:o[u]=a.results.has(e._id)}var f=i.clone(e);p._modify(e,t,{arrayIndices:r});for(u in s.queries){a=s.queries[u];if(a.dirty)continue;var l=o[u],c=a.matcher.documentMatches(e),h=c.result;h&&a.distances&&c.distance!==undefined&&a.distances.set(e._id,c.distance);if(a.cursor.skip||a.cursor.limit){if(l||h)n[u]=!0}else l&&!h?p._removeFromResults(a,e):!l&&h?p._insertInResults(a,e):l&&h&&p._updateInResults(a,e,f)}},p._insertInResults=function(e,t){var n=i.clone(t);delete n._id;if(e.ordered){if(!e.sorter)e.addedBefore(t._id,e.projectionFn(n),null),e.results.push(t);else{var r=p._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t),s=e.results[r+1];s?s=s._id:s=null,e.addedBefore(t._id,e.projectionFn(n),s)}e.added(t._id,e.projectionFn(n))}else e.added(t._id,e.projectionFn(n)),e.results.set(t._id,t)},p._removeFromResults=function(e,t){if(e.ordered){var n=p._findInOrderedResults(e,t);e.removed(t._id),e.results.splice(n,1)}else{var r=t._id;e.removed(t._id),e.results.remove(r)}},p._updateInResults=function(e,t,n){if(!i.equals(t._id,n._id))throw new Error("Can't change a doc's _id while updating");var s=e.projectionFn,o=c.makeChangedFields(s(t),s(n));if(!e.ordered){r.isEmpty(o)||(e.changed(t._id,o),e.results.set(t._id,t));return}var u=p._findInOrderedResults(e,t);r.isEmpty(o)||e.changed(t._id,o);if(!e.sorter)return;e.results.splice(u,1);var a=p._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(u!==a){var f=e.results[a+1];f?f=f._id:f=null,e.movedBefore&&e.movedBefore(t._id,f)}},p.prototype._recomputeResults=function(e,t){var n=this;if(n.paused){e.dirty=!0;return}!n.paused&&!t&&(t=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),n.paused||p._diffQueryChanges(e.ordered,t,e.results,e,{projectionFn:e.projectionFn})},p._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},p._binarySearch=function(e,t,n){var r=0,i=t.length;while(i>0){var s=Math.floor(i/2);e(n,t[r+s])>=0?(r+=s+1,i-=s+1):i=s}return r},p._insertInSortedList=function(e,t,n){if(t.length===0)return t.push(n),0;var r=p._binarySearch(e,t,n);return t.splice(r,0,n),r},p.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new p._IdMap},p.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},p.prototype._saveOriginal=function(e,t){var n=this;if(!n._savedOriginals)return;if(n._savedOriginals.has(e))return;n._savedOriginals.set(e,i.clone(t))},p.prototype.pauseObservers=function(){if(this.paused)return;this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=i.clone(t.results)}},p.prototype.resumeObservers=function(){var e=this;if(!this.paused)return;this.paused=!1;for(var t in this.queries){var n=e.queries[t];n.dirty?(n.dirty=!1,e._recomputeResults(n,n.resultsSnapshot)):p._diffQueryChanges(n.ordered,n.resultsSnapshot,n.results,n,{projectionFn:n.projectionFn}),n.resultsSnapshot=null}e._observeQueue.drain()}}).call(this),function(){p.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var t=function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,s=u.nonreactive(function(){return e(t)});if(!y(s))throw new Error("transform must return object");if(r.has(s,"_id")){if(!i.equals(s._id,n))throw new Error("transformed document can't have different _id")}else s._id=n;return s};return t.__wrappedTransform__=!0,t}}.call(this),function(){g=function(e){return r.isArray(e)&&!i.isBinary(e)},y=p._isPlainObject=function(e){return e&&p._f._type(e)===3},b=function(e){return g(e)||y(e)},w=function(e,t){if(!y(e))return!1;var n=undefined;return r.each(e,function(r,i){var s=i.substr(0,1)==="$";if(n===undefined)n=s;else if(n!==s){if(!t)throw new Error("Inconsistent operator: "+JSON.stringify(e));n=!1}}),!!n},E=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){d.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=undefined,t._selector=null,t._docMatcher=t._compileSelector(e)},r.extend(d.Matcher.prototype,{documentMatches:function(e){if(!e||typeof e!="object")throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(p._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:i.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,L;if(typeof t=="boolean"||g(t)||i.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=i.clone(t),e(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,i){i=i||{};var s=[];return r.each(e,function(e,o){if(o.substr(0,1)==="$"){if(!r.has(u,o))throw new Error("Unrecognized logical operator: "+o);n._isSimple=!1,s.push(u[o](e,n,i.inElemMatch))}else{i.inElemMatch||n._recordPathUsed(o);var a=N(o),f=t(e,n,i.isRoot);s.push(function(e){var t=a(e);return f(t)})}}),M(s)},t=function(e,t,r){return e instanceof RegExp?(t._isSimple=!1,n(S(e))):w(e)?s(e,t,r):n(x(e))},n=function(e,t){return t=t||{},function(n){var i=n;t.dontExpandLeafArrays||(i=C(n,t.dontIncludeLeafArrays));var s={};return s.result=r.any(i,function(t){var n=e(t.value);return typeof n=="number"&&(t.arrayIndices||(t.arrayIndices=[n]),n=!0),n&&t.arrayIndices&&(s.arrayIndices=t.arrayIndices),n}),s}};S=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):typeof t!="string"?!1:(e.lastIndex=0,e.test(t))}},x=function(e){if(w(e))throw Error("Can't create equalityValueSelector for operator object");return e==null?function(e){return e==null}:function(t){return p._f._equal(e,t)}};var s=function(e,t,i){var s=[];return r.each(e,function(o,u){var a=r.contains(["$lt","$lte","$gt","$gte"],u)&&r.isNumber(o),f=r.contains(["$ne","$eq"],u)&&!r.isObject(o),c=r.contains(["$in","$nin"],u)&&r.isArray(o)&&!r.any(o,r.isObject);a||c||f||(t._isSimple=!1);if(r.has(l,u))s.push(l[u](o,e,t,i));else{if(!r.has(T,u))throw new Error("Unrecognized operator: "+u);var h=T[u];s.push(n(h.compileElementSelector(o,e,t),h))}}),D(s)},o=function(t,n,i){if(!g(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(t){if(!y(t))throw Error("$or/$and/$nor entries need to be full objects");return e(t,n,{inElemMatch:i})})},u={$and:function(e,t,n){var r=o(e,t,n);return M(r)},$or:function(e,t,n){var i=o(e,t,n);return i.length===1?i[0]:function(e){var t=r.any(i,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var i=o(e,t,n);return function(e){var t=r.all(i,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},a=function(e){return function(t){var n=e(t);return{result:!n.result}}},l={$eq:function(e){return n(x(e))},$not:function(e,n,r){return a(t(e,r))},$ne:function(e){return a(n(x(e)))},$nin:function(e){return a(n(T.$in.compileElementSelector(e)))},$exists:function(e){var t=n(function(e){return e!==undefined});return e?t:a(t)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return A},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return A},$all:function(e,n,i){if(!g(e))throw Error("$all requires array");if(r.isEmpty(e))return L;var s=[];return r.each(e,function(e){if(w(e))throw Error("no $ expressions in $all");s.push(t(e,i))}),D(s)},$near:function(e,t,n,i){if(!i)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var s,o,u;if(y(e)&&r.has(e,"$geometry"))s=e.$maxDistance,o=e.$geometry,u=function(e){return!e||!e.type?null:e.type==="Point"?h.pointDistance(o,e):h.geometryWithinRadius(e,o,s)?0:s+1};else{s=t.$maxDistance;if(!g(e)&&!y(e))throw Error("$near argument must be coordinate pair or GeoJSON");o=m(e),u=function(e){return!g(e)&&!y(e)?null:c(o,e)}}return function(e){e=C(e);var t={result:!1};return r.each(e,function(e){var n=u(e.value);if(n===null||n>s)return;if(t.distance!==undefined&&t.distance<=n)return;t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices}),t}}},c=function(e,t){e=m(e),t=m(t);var n=e[0]-t[0],i=e[1]-t[1];return r.isNaN(n)||r.isNaN(i)?null:Math.sqrt(n*n+i*i)},m=function(e){return r.map(e,r.identity)},k=function(e){return{compileElementSelector:function(t){if(g(t))return function(){return!1};t===undefined&&(t=null);var n=p._f._type(t);return function(r){return r===undefined&&(r=null),p._f._type(r)!==n?!1:e(p._f._cmp(r,t))}}}};T={$lt:k(function(e){return e<0}),$gt:k(function(e){return e>0}),$lte:k(function(e){return e<=0}),$gte:k(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!g(e)||e.length!==2||typeof e[0]!="number"||typeof e[1]!="number")throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return typeof e=="number"&&e%t===n}}},$in:{compileElementSelector:function(e){if(!g(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(S(e));else{if(w(e))throw Error("cannot nest $ under $in");t.push(x(e))}}),function(e){return e===undefined&&(e=null),r.any(t,function(t){return t(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if(typeof e=="string")e=0;else if(typeof e!="number")throw Error("$size needs a number");return function(t){return g(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if(typeof e!="number")throw Error("$type needs a number");return function(t){return t!==undefined&&p._f._type(t)===e}}},$regex:{compileElementSelector:function(e,t){if(typeof e=="string"||e instanceof RegExp){var n;if(t.$options!==undefined){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var r=e instanceof RegExp?e.source:e;n=new RegExp(r,t.$options)}else e instanceof RegExp?n=e:n=new RegExp(e);return S(n)}throw Error("$regex has to be a string or RegExp")}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(n,i,s){if(!y(n))throw Error("$elemMatch need an object");var o,a;return w(r.omit(n,r.keys(u)),!0)?(o=t(n,s),a=!1):(o=e(n,s,{inElemMatch:!0}),a=!0),function(e){if(!g(e))return!1;for(var t=0;t<e.length;++t){var n=e[t],r;if(a){if(!y(n)&&!g(n))return!1;r=n}else r=[{value:n,dontIterate:!0}];if(o(r).result)return t}return!1}}}},N=function(e,t){t=t||{};var n=e.split("."),i=n.length?n[0]:"",s=E(i),o=n.length>=2&&E(n[1]),u;n.length>1&&(u=N(n.slice(1).join(".")));var a=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){n||(n=[]);if(g(e)){if(!(s&&i<e.length))return[];n=n.concat(+i,"x")}var f=e[i];if(!u)return[a({value:f,dontIterate:g(e)&&g(f),arrayIndices:n})];if(!b(f))return g(e)?[]:[a({value:undefined,arrayIndices:n})];var l=[],c=function(e){Array.prototype.push.apply(l,e)};return c(u(f,n)),g(f)&&(!o||!t.forSort)&&r.each(f,function(e,t){y(e)&&c(u(e,n.concat(t)))}),l}},v.makeLookupFunction=N,C=function(e,t){var n=[];return r.each(e,function(e){var i=g(e.value);t&&i&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),i&&!e.dontIterate&&r.each(e.value,function(t,r){n.push({value:t,arrayIndices:(e.arrayIndices||[]).concat(r)})})}),n};var L=function(e){return{result:!1}},A=function(e){return{result:!0}},O=function(e){return e.length===0?A:e.length===1?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&r.distance!==undefined&&n.distance===undefined&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},M=O,D=O;p._f={_type:function(e){return typeof e=="number"?1:typeof e=="string"?2:typeof e=="boolean"?8:g(e)?4:e===null?10:e instanceof RegExp?11:typeof e=="function"?13:e instanceof Date?9:i.isBinary(e)?5:e instanceof f.ObjectID?7:3},_equal:function(e,t){return i.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,t){if(e===undefined)return t===undefined?0:-1;if(t===undefined)return 1;var n=p._f._type(e),r=p._f._type(t),i=p._f._typeorder(n),s=p._f._typeorder(r);if(i!==s)return i<s?-1:1;if(n!==r)throw Error("Missing type coercion logic in _cmp");n===7&&(n=r=2,e=e.toHexString(),t=t.toHexString()),n===9&&(n=r=1,e=e.getTime(),t=t.getTime());if(n===1)return e-t;if(r===2)return e<t?-1:e===t?0:1;if(n===3){var o=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return p._f._cmp(o(e),o(t))}if(n===4)for(var u=0;;u++){if(u===e.length)return u===t.length?0:-1;if(u===t.length)return 1;var a=p._f._cmp(e[u],t[u]);if(a!==0)return a}if(n===5){if(e.length!==t.length)return e.length-t.length;for(u=0;u<e.length;u++){if(e[u]<t[u])return-1;if(e[u]>t[u])return 1}return 0}if(n===8)return e?t?0:1:t?-1:0;if(n===10)return 0;throw n===11?Error("Sorting not supported on regular expression"):n===13?Error("Sorting not supported on Javascript code"):Error("Unknown type to sort")}},p._removeDollarOperators=function(e){var t={};for(var n in e)n.substr(0,1)!=="$"&&(t[n]=e[n]);return t}}.call(this),function(){d.Sorter=function(t,n){var i=this;n=n||{},i._sortSpecParts=[],i._sortFunction=null;var s=function(e,t){if(!e)throw Error("sort keys must be non-empty");if(e.charAt(0)==="$")throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:N(e,{forSort:!0}),ascending:t})};if(t instanceof Array)for(var o=0;o<t.length;o++)typeof t[o]=="string"?s(t[o],!0):s(t[o][0],t[o][1]!=="desc");else if(typeof t=="object")r.each(t,function(e,t){s(t,e>=0)});else{if(typeof t!="function")throw Error("Bad sort specification: "+JSON.stringify(t));i._sortFunction=t}if(i._sortFunction)return;if(i.affectedByModifier){var u={};r.each(i._sortSpecParts,function(e){u[e.path]=1}),i._selectorForAffectedByModifier=new d.Matcher(u)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,t){return i._keyFieldComparator(t)})),i._keyFilter=null,n.matcher&&i._useWithMatcher(n.matcher)},r.extend(d.Sorter.prototype,{getComparator:function(t){var n=this;if(!t||!t.distances)return n._getBaseComparator();var r=t.distances;return e([n._getBaseComparator(),function(e,t){if(!r.has(e._id))throw Error("Missing distance for "+e._id);if(!r.has(t._id))throw Error("Missing distance for "+t._id);return r.get(e._id)-r.get(t._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var t=this,n=null;t._generateKeysFromDoc(e,function(e){if(!t._keyCompatibleWithSelector(e))return;if(n===null){n=e;return}t._compareKeys(e,n)<0&&(n=e)});if(n===null)throw Error("sort selector found no keys in doc?");return n},_keyCompatibleWithSelector:function(e){var t=this;return!t._keyFilter||t._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(n._sortSpecParts.length===0)throw new Error("can't generate keys without a spec");var i=[],s=function(e){return e.join(",")+","},o=null;r.each(n._sortSpecParts,function(t,n){var u=C(t.lookup(e),!0);u.length||(u=[{value:null}]);var a=!1;i[n]={},r.each(u,function(e){if(!e.arrayIndices){if(u.length>1)throw Error
("multiple branches but no array used?");i[n][""]=e.value;return}a=!0;var t=s(e.arrayIndices);if(r.has(i[n],t))throw Error("duplicate path: "+t);i[n][t]=e.value;if(o&&!r.has(o,t))throw Error("cannot index parallel arrays")});if(o){if(!r.has(i[n],"")&&r.size(o)!==r.size(i[n]))throw Error("cannot index parallel arrays!")}else a&&(o={},r.each(i[n],function(e,t){o[t]=!0}))});if(!o){var u=r.map(i,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});t(u);return}r.each(o,function(e,n){var s=r.map(i,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(s)})},_compareKeys:function(e,t){var n=this;if(e.length!==n._sortSpecParts.length||t.length!==n._sortSpecParts.length)throw Error("Key has wrong length");return n._keyComparator(e,t)},_keyFieldComparator:function(e){var t=this,n=!t._sortSpecParts[e].ascending;return function(t,r){var i=p._f._cmp(t[e],r[e]);return n&&(i=-i),i}},_getBaseComparator:function(){var e=this;return e._sortFunction?e._sortFunction:e._sortSpecParts.length?function(t,n){var r=e._getMinKeyFromDoc(t),i=e._getMinKeyFromDoc(n);return e._compareKeys(r,i)}:function(e,t){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(r.isEmpty(t._sortSpecParts))return;var n=e._selector;if(n instanceof Function)return;var i={};r.each(t._sortSpecParts,function(e,t){i[e.path]=[]}),r.each(n,function(e,t){var n=i[t];if(!n)return;if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;n.push(S(e));return}if(w(e)){r.each(e,function(t,i){r.contains(["$lt","$lte","$gt","$gte"],i)&&n.push(T[i].compileElementSelector(t)),i==="$regex"&&!e.$options&&n.push(T.$regex.compileElementSelector(t,e))});return}n.push(x(e))});if(r.isEmpty(i[t._sortSpecParts[0].path]))return;t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(i[t.path],function(t){return t(e[n])})})}}});var e=function(e){return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i!==0)return i}return 0}}}.call(this),function(){p._compileProjection=function(e){p._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,n=k(e),s=function(e,t){if(r.isArray(e))return r.map(e,function(e){return s(e,t)});var o=n.including?{}:i.clone(e);return r.each(t,function(t,u){if(!r.has(e,u))return;r.isObject(t)?r.isObject(e[u])&&(o[u]=s(e[u],t)):n.including?o[u]=i.clone(e[u]):delete o[u]}),o};return function(e){var i=s(e,n.tree);return t&&r.has(e,"_id")&&(i._id=e._id),!t&&r.has(i,"_id")&&delete i._id,i}},k=function(e){var t=r.keys(e).sort();t.length>0&&(t.length!==1||t[0]!=="_id")&&(!r.contains(t,"_id")||!e._id)&&(t=r.reject(t,function(e){return e==="_id"}));var n=null;r.each(t,function(t){var r=!!e[t];n===null&&(n=r);if(n!==r)throw m("You cannot currently mix including and excluding fields.")});var i=L(t,function(e){return n},function(e,t,n){var r=n,i=t;throw m("both "+r+" and "+i+" found in fields option, using both of them may trigger "+"unexpected behavior. Did you mean to use only one of them?")});return{tree:i,including:n}},L=function(e,t,n,i){return i=i||{},r.each(e,function(e){var s=i,o=e.split("."),u=r.all(o.slice(0,-1),function(t,i){if(!r.has(s,t))s[t]={};else if(!r.isObject(s[t])){s[t]=n(s[t],o.slice(0,i+1).join("."),e);if(!r.isObject(s[t]))return!1}return s=s[t],!0});if(u){var a=r.last(o);r.has(s,a)?s[a]=n(s[a],e,e):s[a]=t(e)}}),i},p._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw m("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw m("Minimongo doesn't support $ operator in projections yet.");if(typeof e=="object"&&r.intersection(["$elemMatch","$meta","$slice"],r.keys(e)).length>0)throw m("Minimongo doesn't support operators in projections yet.");if(r.indexOf([1,0,!0,!1],e)===-1)throw m("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){p._modify=function(s,o,u){u=u||{};if(!y(o))throw m("Modifier must be an object");o=i.clone(o);var a=w(o),f;if(!a){if(o._id&&!i.equals(s._id,o._id))throw m("Cannot change the _id of a document");for(var l in o)if(/\./.test(l))throw m("When replacing document, field name may not contain '.'");f=o}else f=i.clone(s),r.each(o,function(i,s){var o=n[s];u.isInsert&&s==="$setOnInsert"&&(o=n.$set);if(!o)throw m("Invalid modifier specified "+s);r.each(i,function(n,i){if(i==="")throw m("An empty update path is not valid.");if(i==="_id"&&s!=="$setOnInsert")throw m("Mod on _id not allowed");var a=i.split(".");if(!r.all(a,r.identity))throw m("The update path '"+i+"' contains an empty field name, which is not allowed.");var l=r.has(t,s),c=s==="$rename",h=e(f,a,{noCreate:t[s],forbidArray:s==="$rename",arrayIndices:u.arrayIndices}),p=a.pop();o(h,p,n,i,f)})});r.each(r.keys(s),function(e){e!=="_id"&&delete s[e]}),r.each(f,function(e,t){s[t]=e})};var e=function(e,t,n){n=n||{};var r=!1;for(var i=0;i<t.length;i++){var s=i===t.length-1,o=t[i],u=b(e);if(!u){if(n.noCreate)return undefined;var a=m("cannot use the part '"+o+"' to traverse "+e);throw a.setPropertyError=!0,a}if(e instanceof Array){if(n.forbidArray)return null;if(o==="$"){if(r)throw m("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw m("The positional operator did not find the match needed from the query");o=n.arrayIndices[0],r=!0}else{if(!E(o)){if(n.noCreate)return undefined;throw m("can't append to array using string field name ["+o+"]")}o=parseInt(o)}s&&(t[i]=o);if(n.noCreate&&o>=e.length)return undefined;while(e.length<o)e.push(null);if(!s)if(e.length===o)e.push({});else if(typeof e[o]!="object")throw m("can't modify field '"+t[i+1]+"' of list value "+JSON.stringify(e[o]))}else{if(o.length&&o.substr(0,1)==="$")throw m("can't set field named "+o);if(!(o in e)){if(n.noCreate)return undefined;s||(e[o]={})}}if(s)return e;e=e[o]}},t={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},n={$inc:function(e,t,n){if(typeof n!="number")throw m("Modifier $inc allowed for numbers only");if(t in e){if(typeof e[t]!="number")throw m("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!r.isObject(e)){var i=m("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(e===null){var i=m("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n},$setOnInsert:function(e,t,n){},$unset:function(e,t,n){e!==undefined&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){e[t]===undefined&&(e[t]=[]);if(!(e[t]instanceof Array))throw m("Cannot apply $push modifier to non-array");if(!n||!n.$each){e[t].push(n);return}var r=n.$each;if(!(r instanceof Array))throw m("$each must be an array");var i=undefined;if("$position"in n){if(typeof n.$position!="number")throw m("$position must be a numeric value");if(n.$position<0)throw m("$position in $push must be zero or positive");i=n.$position}var s=undefined;if("$slice"in n){if(typeof n.$slice!="number")throw m("$slice must be a numeric value");if(n.$slice>0)throw m("$slice in $push must be zero or negative");s=n.$slice}var o=undefined;if(n.$sort){if(s===undefined)throw m("$sort requires $slice to be present");o=(new d.Sorter(n.$sort)).getComparator();for(var u=0;u<r.length;u++)if(p._f._type(r[u])!==3)throw m("$push like modifiers using $sort require all elements to be objects")}if(i===undefined)for(var a=0;a<r.length;a++)e[t].push(r[a]);else{var f=[i,0];for(var a=0;a<r.length;a++)f.push(r[a]);Array.prototype.splice.apply(e[t],f)}o&&e[t].sort(o),s!==undefined&&(s===0?e[t]=[]:e[t]=e[t].slice(s))},$pushAll:function(e,t,n){if(!(typeof n=="object"&&n instanceof Array))throw m("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(r===undefined)e[t]=n;else{if(!(r instanceof Array))throw m("Cannot apply $pushAll modifier to non-array");for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(e,t,n){var i=!1;if(typeof n=="object")for(var s in n){s==="$each"&&(i=!0);break}var o=i?n.$each:[n],u=e[t];if(u===undefined)e[t]=o;else{if(!(u instanceof Array))throw m("Cannot apply $addToSet modifier to non-array");r.each(o,function(e){for(var t=0;t<u.length;t++)if(p._f._equal(e,u[t]))return;u.push(e)})}},$pop:function(e,t,n){if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw m("Cannot apply $pop modifier to non-array");typeof n=="number"&&n<0?r.splice(0,1):r.pop()},$pull:function(e,t,n){if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw m("Cannot apply $pull/pullAll modifier to non-array");var i=[];if(n==null||typeof n!="object"||n instanceof Array)for(var o=0;o<r.length;o++)p._f._equal(r[o],n)||i.push(r[o]);else{var s=new d.Matcher(n);for(var o=0;o<r.length;o++)s.documentMatches(r[o]).result||i.push(r[o])}e[t]=i},$pullAll:function(e,t,n){if(!(typeof n=="object"&&n instanceof Array))throw m("Modifier $pushAll/pullAll allowed for arrays only");if(e===undefined)return;var r=e[t];if(r===undefined)return;if(!(r instanceof Array))throw m("Cannot apply $pull/pullAll modifier to non-array");var i=[];for(var s=0;s<r.length;s++){var o=!1;for(var u=0;u<n.length;u++)if(p._f._equal(r[s],n[u])){o=!0;break}o||i.push(r[s])}e[t]=i},$rename:function(t,n,r,i,s){if(i===r)throw m("$rename source must differ from target");if(t===null)throw m("$rename source field invalid");if(typeof r!="string")throw m("$rename target must be a string");if(t===undefined)return;var o=t[n];delete t[n];var u=r.split("."),a=e(s,u,{forbidArray:!0});if(a===null)throw m("$rename target field invalid");var f=u.pop();a[f]=o},$bit:function(e,t,n){throw m("$bit is not supported")}}}.call(this),function(){p._diffQueryChanges=function(e,t,n,r,i){return c.diffQueryChanges(e,t,n,r,i)},p._diffQueryUnorderedChanges=function(e,t,n,r){return c.diffQueryUnorderedChanges(e,t,n,r)},p._diffQueryOrderedChanges=function(e,t,n,r){return c.diffQueryOrderedChanges(e,t,n,r)},p._diffObjects=function(e,t,n){return c.diffObjects(e,t,n)}}.call(this),function(){p._IdMap=function(){var e=this;s.call(e,f.idStringify,f.idParse)},e._inherits(p._IdMap,s)}.call(this),function(){p._CachingChangeObserver=function(e){var t=this;e=e||{};var n=e.callbacks&&p._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){t.ordered=e.ordered;if(e.callbacks&&e.ordered!==n)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=n}var s=e.callbacks||{};t.ordered?(t.docs=new o(f.idStringify),t.applyChange={addedBefore:function(e,n,r){var o=i.clone(n);o._id=e,s.addedBefore&&s.addedBefore.call(t,e,n,r),s.added&&s.added.call(t,e,n),t.docs.putBefore(e,o,r||null)},movedBefore:function(e,n){var r=t.docs.get(e);s.movedBefore&&s.movedBefore.call(t,e,n),t.docs.moveBefore(e,n||null)}}):(t.docs=new p._IdMap,t.applyChange={added:function(e,n){var r=i.clone(n);s.added&&s.added.call(t,e,n),r._id=e,t.docs.set(e,r)}}),t.applyChange.changed=function(e,n){var r=t.docs.get(e);if(!r)throw new Error("Unknown id for changed: "+e);s.changed&&s.changed.call(t,e,i.clone(n)),c.applyChanges(r,n)},t.applyChange.removed=function(e){s.removed&&s.removed.call(t,e),t.docs.remove(e)}},p._observeFromObserveChanges=function(e,t){var n=e.getTransform()||function(e){return e},s=!!t._suppress_initial,o;if(p._observeCallbacksAreOrdered(t)){var u=!t._no_indices;o={addedBefore:function(e,i,o){var a=this;if(s||!t.addedAt&&!t.added)return;var f=n(r.extend(i,{_id:e}));if(t.addedAt){var l=u?o?a.docs.indexOf(o):a.docs.size():-1;t.addedAt(f,l,o)}else t.added(f)},changed:function(e,r){var s=this;if(!t.changedAt&&!t.changed)return;var o=i.clone(s.docs.get(e));if(!o)throw new Error("Unknown id for changed: "+e);var a=n(i.clone(o));c.applyChanges(o,r),o=n(o);if(t.changedAt){var f=u?s.docs.indexOf(e):-1;t.changedAt(o,a,f)}else t.changed(o,a)},movedBefore:function(e,r){var s=this;if(!t.movedTo)return;var o=u?s.docs.indexOf(e):-1,a=u?r?s.docs.indexOf(r):s.docs.size():-1;a>o&&--a,t.movedTo(n(i.clone(s.docs.get(e))),o,a,r||null)},removed:function(e){var r=this;if(!t.removedAt&&!t.removed)return;var i=n(r.docs.get(e));if(t.removedAt){var s=u?r.docs.indexOf(e):-1;t.removedAt(i,s)}else t.removed(i)}}}else o={added:function(e,i){if(!s&&t.added){var o=r.extend(i,{_id:e});t.added(n(o))}},changed:function(e,r){var s=this;if(t.changed){var o=s.docs.get(e),u=i.clone(o);c.applyChanges(u,r),t.changed(n(u),n(i.clone(o)))}},removed:function(e){var r=this;t.removed&&t.removed(n(r.docs.get(e)))}};var a=new p._CachingChangeObserver({callbacks:o}),f=e.observeChanges(a.applyChange);return s=!1,f}}.call(this),function(){p._selectorIsId=function(e){return typeof e=="string"||typeof e=="number"||e instanceof f.ObjectID},p._selectorIsIdPerhapsAsObject=function(e){return p._selectorIsId(e)||e&&typeof e=="object"&&e._id&&p._selectorIsId(e._id)&&r.size(e)===1},p._idsMatchedBySelector=function(e){if(p._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return p._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,p._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=p._idsMatchedBySelector(e.$and[t]);if(n)return n}return null}}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.minimongo={},{LocalCollection:p,Minimongo:d,MinimongoTest:v})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,i=Package.check.Match,s=Package.random.Random,o=Package.ejson.EJSON,u=Package.underscore._,a=Package.tracker.Tracker,f=Package.tracker.Deps,l=Package.retry.Retry,c;(function(){c={}}).call(this),function(){c.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},u.extend(c.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(u.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(u.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;!e._seenPacket&&!e._heartbeatTimeoutHandle&&(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){c.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],c.parseDDP=function(t){try{var n=JSON.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return n===null||typeof n!="object"?(e._debug("Discarding non-object DDP message",t),null):(u.has(n,"cleared")&&(u.has(n,"fields")||(n.fields={}),u.each(n.cleared,function(e){n.fields[e]=undefined}),delete n.cleared),u.each(["fields","params","result"],function(e){u.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},c.stringifyDDP=function(e){var t=o.clone(e);if(u.has(e,"fields")){var n=[];u.each(e.fields,function(e,r){e===undefined&&(n.push(r),delete t.fields[r])}),u.isEmpty(n)||(t.cleared=n),u.isEmpty(t.fields)&&delete t.fields}u.each(["fields","params","result"],function(e){u.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))});if(e.id&&typeof e.id!="string")throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){c.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},u.extend(c.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return s.hexString(20)}c.RandomStream=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},c.RandomStream.get=function(e,t){t||(t="default");if(!e)return s.insecure;var n=e.randomStream;return n||(e.randomStream=n=new c.RandomStream({seed:e.randomSeed})),n._sequence(t)},c.makeRpcSeed=function(e,t){var n=c.RandomStream.get(e,"/rpc/"+t);return n.hexString(20)},u.extend(c.RandomStream.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(n===null){var r=t.seed.concat(e);for(var i=0;i<r.length;i++)u.isFunction(r[i])&&(r[i]=r[i]());t.sequences[e]=n=s.createWithSeeds.apply(null,r)}return n}})}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-common"]={},{DDPCommon:c})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,i=Package.check.Match,s=Package.random.Random,o=Package.ejson.EJSON,u=Package.underscore._,a=Package.tracker.Tracker,f=Package.tracker.Deps,l=Package.retry.Retry,c=Package["id-map"].IdMap,h=Package["ddp-common"].DDPCommon,p=Package["diff-sequence"].DiffSequence,d=Package["mongo-id"].MongoID,v,m,g,y,b,w,E;(function(){v={},m={}}).call(this),function(){g=function(){var e=this;c.call(e,d.idStringify,d.idParse)},e._inherits(g,c)}.call(this),function(){y=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t);return},r.prototype.removeEventListener=function(e,t){if(!(this._listeners&&e in this._listeners))return;var r=this._listeners[e],i=n.arrIndexOf(r,t);if(i!==-1){r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e];return}return},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);this["on"+t]&&this["on"+t].apply(this,n);if(this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var i=function(e,t){this.type=e;if(typeof t!="undefined")for(var n in t){if(!t.hasOwnProperty(n))continue;this[n]=t[n]}};i.prototype.toString=function(){var e=[];for(var t in this){if(!this.hasOwnProperty(t))continue;var n=this[t];typeof n=="function"&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var s=function(e){var t=this;t._events=e||[],t._listeners={}};s.prototype.emit=function(e){var t=this;t._verifyType(e);if(t._nuked)return;var n=Array.prototype.slice.call(arguments,1);t["on"+e]&&t["on"+e].apply(t,n);if(e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)},s.prototype.on=function(e,t){var n=this;n._verifyType(e);if(n._nuked)return;e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t)},s.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},s.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var o="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||o.length;var n,r=[];for(n=0;n<e;n++)r.push(o.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return e===1e3||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return e>100?t=3*e:t=e+200,t},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t,r){var i;if(r===undefined)i=e.location;else{var s=/^([a-z0-9.+-]+:)/i.exec(r);if(s){var o=s[0].toLowerCase(),u=r.substring(o.length),a=/[a-z0-9\.-]+(:[0-9]+)?/.exec(u);if(a)var f=a[0]}if(!o||!f)throw new Error("relativeTo must be an absolute url");i={protocol:o,host:f}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");t.indexOf("//")===0&&(t=i.protocol+t),t.indexOf("/")===0&&(t=i.protocol+"//"+i.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");if(l[0]==="http:"&&/:80$/.test(l[2])||l[0]==="https:"&&/:443$/.test(l[2]))l[2]=l[2].replace(/:(80|443)$/,"");return t=l.join("/"),t},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return typeof e=="function"&&(t=e,e=0),setTimeout(t,e)};var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,c,h=JSON&&JSON.stringify||function(e){return a.lastIndex=0,a.test(e)&&(e=e.replace(a,function(e){return f[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return l.lastIndex=0,l.test(t)?(c||(c=p(l)),t.replace(l,function(e){return c[e]})):t};var d=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){var e={};for(var t=0;t<d.length;t++){var n=d[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=d);for(var s=0;s<t.length;s++){var o=t[s];r[o]=e[o]}var u=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&u(e)};return n.websocket!==!1&&u(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):r["xdr-streaming"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-streaming"):u(["iframe-eventsource","iframe-htmlfile"]),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):r["xdr-polling"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-polling"):u(["iframe-xhr-polling","jsonp-polling"]),i};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,y=function(){for(var e in m)m[e](),delete m[e]},b=function(){if(g)return;g=!0,y()};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(y),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var i=e.createElement("iframe"),s,o,u=function(){clearTimeout(s);try{i.onload=null}catch(e){}i.onerror=null},a=function(){i&&(u(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(o))},f=function(e){i&&(a(),r(e))},l=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){f("onerror")},i.onload=function(){clearTimeout(s),s=setTimeout(function(){f("onload timeout")},2e3)},e.body.appendChild(i),s=setTimeout(function(){f("timeout")},15e3),o=n.unload_add(a),{post:l,cleanup:a,loaded:u}},n.createHtmlfile=function(e,r){var i=new ActiveXObject("htmlfile"),s,o,a,f=function(){clearTimeout(s)},l=function(){i&&(f(),n.unload_del(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(e){i&&(l(),r(e))},h=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};i.open(),i.write('<html><script>document.domain="'+document.domain+'";'+"</s"+"cript></html>"),i.close(),i.parentWindow[u]=t[u];var p=i.createElement("div");return i.body.appendChild(p),a=i.createElement("iframe"),p.appendChild(a),a.src=e,s=setTimeout(function(){c("timeout")},15e3),o=n.unload_add(l),{post:h,cleanup:l,loaded:f}};var w=function(){};w.prototype=new s(["chunk","finish"]),w.prototype._start=function(e,r,i,s){var o=this;try{o.xhr=new XMLHttpRequest}catch(u){}if(!o.xhr)try{o.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}if(t.ActiveXObject||t.XDomainRequest)r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xhr.open(e,r,!0)}catch(a){o.emit("finish",0,""),o._cleanup();return}if(!s||!s.no_credentials)o.xhr.withCredentials="true";if(s&&s.headers)for(var f in s.headers)o.xhr.setRequestHeader(f,s.headers[f]);o.xhr.onreadystatechange=function(){if(o.xhr){var e=o.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}t===1223&&(t=204),n&&n.length>0&&o.emit("chunk",t,n);break;case 4:var t=e.status;t===1223&&(t=204),o.emit("finish",t,e.responseText),o._cleanup(!1)}}},o.xhr.send(i)},w.prototype._cleanup=function(e){var t=this;if(!t.xhr)return;n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){};if(e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var E=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};E.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var x=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};x.prototype=new s(["chunk","finish"]),x.prototype._start=function(e,t,r){var i=this,s=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);var o=s.ontimeout=s.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};s.onprogress=function(){i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},i.xdr=s,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(u){o()}},x.prototype._cleanup=function(e){var t=this;if(!t.xdr)return;n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null;if(e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null},x.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var i=this,s;i._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},r&&n.objectExtend(i._options,r),i._base_url=n.amendUrl(e),i._server=i._options.server||n.random_number_string(1e3),i._options.protocols_whitelist&&i._options.protocols_whitelist.length?s=i._options.protocols_whitelist:(typeof t=="string"&&t.length>0?s=[t]:n.isArray(t)?s=t:s=null,s&&i._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),i._protocols=[],i.protocol=null,i.readyState=T.CONNECTING,i._ir=W(i._base_url),i._ir.onfinish=function(e,t){i._ir=null,e?(i._options.info&&(e=n.objectExtend(e,i._options.info)),i._options.rtt&&(t=i._options.rtt),i._applyInfo(e,t,s),i._didClose()):i._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new i("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var s=this;if(s.readyState!==T.CONNECTING&&s.readyState!==T.OPEN&&s.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");s._ir&&(s._ir.nuke(),s._ir=null),s._transport&&(s._transport.doCleanup(),s._transport=null);var o=new i("close",{code:e,reason:t,wasClean:n.userSetCode
(e)});if(!n.userSetCode(e)&&s.readyState===T.CONNECTING&&!r){if(s._try_next_protocol(o))return;o=new i("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:o})}s.readyState=T.CLOSED,n.delay(function(){s.dispatchEvent(o)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":var r=JSON.parse(e.slice(1)||"[]");for(var i=0;i<r.length;i++)t._dispatchMessage(r[i]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);for(;;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(T[i]&&T[i].need_body===!0&&(!e.body||typeof e.readyState!="undefined"&&e.readyState!=="complete"))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(!!T[i]&&!!T[i].enabled(r._options)){var s=T[i].roundTrips||1,o=(r._options.rto||0)*s||5e3;r._transport_tref=n.delay(o,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var u=n.random_string(8),a=r._base_url+"/"+r._server+"/"+u;return r._debug("Opening transport:",i," url:"+a," RTO:"+r._options.rto),r._transport=new T[i](r,a,r._base_url),!0}r._debug("Skipping transport:",i)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,i){var s=this;s._options.info=t,s._options.rtt=r,s._options.rto=n.countRTO(r),s._options.info.null_origin=!e.domain,t.base_url&&(s._base_url=n.amendUrl(t.base_url,s._base_url));var o=n.probeProtocols();s._protocols=n.detectProtocols(o,i,t),!n.isSameOriginScheme(s._base_url)&&2===n.isXHRCorsCapable()&&(s._protocols=["jsonp-polling"])};var N=T.websocket=function(e,r){var i=this,s=r+"/websocket";s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),i.ri=e,i.url=s;var o=t.WebSocket||t.MozWebSocket;i.ws=new o(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};N.prototype.doSend=function(e){this.ws.send("["+e+"]")},N.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},N.enabled=function(){return!!t.WebSocket||!!t.MozWebSocket},N.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var k=function(t,r,i){var s=this;if(!("_send_form"in s)){var o=s._send_form=e.createElement("form"),u=s._send_area=e.createElement("textarea");u.name="d",o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",o.appendChild(u),e.body.appendChild(o)}var o=s._send_form,u=s._send_area,a="a"+n.random_string(8);o.target=a,o.action=t+"/jsonp_send?i="+a;var f;try{f=e.createElement('<iframe name="'+a+'">')}catch(l){f=e.createElement("iframe"),f.name=a}f.id=a,o.appendChild(f),f.style.display="none";try{u.value=r}catch(c){n.log("Your browser is seriously broken. Go home! "+c.message)}o.submit();var h=function(e){if(!f.onerror)return;f.onreadystatechange=f.onerror=f.onload=null,n.delay(500,function(){f.parentNode.removeChild(f),f=null}),u.value="",i(!0)};return f.onerror=f.onload=h,f.onreadystatechange=function(e){f.readyState=="complete"&&h()},h},L=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e,t){r(e===200||e===204,"http status "+e)},function(e){r(!1,e)}}},A=function(t,r){var i,s=e.createElement("script"),o,u=function(e){o&&(o.parentNode.removeChild(o),o=null),s&&(clearTimeout(i),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,r(e),r=null)},a=!1,f=null;s.id="a"+n.random_string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(e){f||(f=setTimeout(function(){a||u(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(e){u(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(e){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){a=!0;try{s.onclick()}catch(t){}}s&&u(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if(typeof s.async=="undefined"&&e.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{s.htmlFor=s.id,s.event="onclick"}catch(l){}s.async=!0}else o=e.createElement("script"),o.text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=o.async=!1;typeof s.async!="undefined"&&(s.async=!0),i=setTimeout(function(){u(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var c=e.getElementsByTagName("head")[0];return c.insertBefore(s,c.firstChild),o&&c.insertBefore(o,c.firstChild),u},O=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(k),r._schedule_recv()};O.prototype=new C,O.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=M(e.trans_url+"/jsonp",A,t)},O.enabled=function(){return!0},O.need_body=!0,O.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var M=function(e,r,i){var s="a"+n.random_string(6),o=e+"?c="+escape(u+"."+s),a=0,f=function(e){switch(a){case 0:delete t[u][s],i(e);break;case 1:i(e),a=2;break;case 2:delete t[u][s]}},l=r(o,f);t[u][s]=l;var c=function(){t[u][s]&&(a=1,t[u][s](n.closeFrame(1e3,"JSONP user aborted read")))};return c},_=function(){};_.prototype=new C,_.prototype.run=function(e,t,n,r,i){var s=this;s.ri=e,s.trans_url=t,s.send_constructor(L(i)),s.poll=new Y(e,r,t+n,i)},_.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var D=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XHRCorsObject)};D.prototype=new _,D.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},D.roundTrips=2,D.need_body=!0;var P=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XDRObject)};P.prototype=new _,P.enabled=function(){return!!t.XDomainRequest},P.roundTrips=2;var H=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRCorsObject)};H.prototype=new _,H.enabled=D.enabled,H.roundTrips=2;var B=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XDRObject)};B.prototype=new _,B.enabled=P.enabled,B.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var s=r+"/iframe.html";i.ri._options.devel&&(s+="?t="+ +(new Date)),i.window_id=n.random_string(8),s+="#"+i.window_id,i.iframeObj=n.createIframe(s,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin!==t.origin)return;var n=e.data.slice(0,8),r=e.data.slice(8,9),i=e.data.slice(9);if(n!==t.window_id)return;switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return(typeof t.postMessage=="function"||typeof t.postMessage=="object")&&!e};var F,I=function(e,r){parent!==t?parent.postMessage(F+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},q=function(){};q.prototype._didClose=function(e,t){I("t",n.closeFrame(e,t))},q.prototype._didMessage=function(e){I("t",e)},q.prototype._doSend=function(e){this._transport.doSend(e)},q.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=undefined,T.bootstrap_iframe=function(){var r;F=e.location.hash.slice(1);var i=function(e){if(e.source!==parent)return;typeof n.parent_origin=="undefined"&&(n.parent_origin=e.origin);if(e.origin!==n.parent_origin)return;var i=e.data.slice(0,8),s=e.data.slice(8,9),o=e.data.slice(9);if(i!==F)return;switch(s){case"s":var u=JSON.parse(o),a=u[0],f=u[1],l=u[2],c=u[3];a!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+a+'", the iframe:'+' "'+T.version+'".');if(!n.flatUrl(l)||!n.flatUrl(c)){n.log("Only basic urls are supported in SockJS");return}if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(c)){n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,l,c])+")");return}r=new q,r._transport=new q[f](r,l,c);break;case"m":r._doSend(o);break;case"c":r&&r._doCleanup(),r=null}};n.attachMessage(i),I("s")};var R=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};R.prototype=new s(["finish"]),R.prototype.doXhr=function(e,t){var r=this,i=(new Date).getTime(),s=new t("GET",e+"/info?cb="+n.random_string(10)),o=n.delay(8e3,function(){s.ontimeout()});s.onfinish=function(e,t){clearTimeout(o),o=null;if(e===200){var n=(new Date).getTime()-i,s=JSON.parse(t);typeof s!="object"&&(s={}),r.emit("finish",s,n)}else r.emit("finish")},s.ontimeout=function(){s.close(),r.emit("finish")}};var U=function(t){var r=this,i=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if(typeof t=="string"&&t.substr(0,1)==="m"){var n=JSON.parse(t.substr(1)),i=n[0],s=n[1];r.emit("finish",i,s)}else r.emit("finish");e.doCleanup(),e=null},i={_options:{},_didClose:n,_didMessage:n};e.i_constructor(i,t,t)};e.body?i():n.attachEvent("load",i)};U.prototype=new s(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new s(["finish"]);var W=function(e){if(n.isSameOriginUrl(e))return new R(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new R(e,n.XDRObject):new z;case 3:return new U(e);default:return new z}},X=q["w-iframe-info-receiver"]=function(e,t,r){var i=new R(r,n.XHRLocalObject);i.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};X.prototype.doCleanup=function(){};var V=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};V.prototype=new j,V.enabled=function(){return"EventSource"in t&&j.enabled()},V.need_body=!0,V.roundTrips=3;var $=q["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};$.prototype=new _;var J=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3;var K=q["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRLocalObject)};K.prototype=new _;var Q=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new j,Q.enabled=function(){return j.enabled()},Q.need_body=!0,Q.roundTrips=3;var G=q["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",nt,n.XHRLocalObject)};G.prototype=new _;var Y=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};Y.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||(n.reason==="permanent"?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Y.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new i("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,s){var o=s?"user":r.readyState!==2?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new i("close",{reason:o}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var et,tt=function(){if(et===undefined)if("ActiveXObject"in t)try{et=!!(new ActiveXObject("htmlfile"))}catch(e){}else et=!1;return et},nt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(u+"."+r.id);var s=tt()?n.createHtmlfile:n.createIframe,o;t[u][r.id]={start:function(){o.loaded()},message:function(e){r.dispatchEvent(new i("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){o.cleanup(),r.iframe_close=o=null,delete t[u][r.id],r.dispatchEvent(new i("close",{reason:n}))},o=s(e,function(e){r.iframe_close({},"permanent")})};nt.prototype=new r,nt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var rt=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(e!==200)return;for(;;){var s=t.slice(r),o=s.indexOf("\n");if(o===-1)break;r+=o+1;var u=s.slice(0,o);n.dispatchEvent(new i("message",{data:u}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=e===200?"network":"permanent";n.dispatchEvent(new i("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new i("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return j},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),typeof define=="function"&&define.amd&&define("sockjs",[],function(){return y})}.call(this),function(){m.ClientStream=function(e,t){var n=this;n.options=u.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,typeof window!="undefined"&&window.addEventListener&&window.addEventListener("online",u.bind(n._online,n),!1),n._launchConnection()},u.extend(m.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null);if(e.currentStatus.connected)return;e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),u.each(e.eventCallbacks.reset,function(e){e()})},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),u.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new v.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;if(e._forcedToDisconnect)return;e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(u.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT)},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=u.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new y(b(t.rawUrl),undefined,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&u.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",u.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new v.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(r,i,o){i||(i="http");var u=r.match(/^ddp(i?)\+sockjs:\/\//),a=r.match(/^http(s?):\/\//),f;if(u){var l=r.substr(u[0].length);f=u[1]==="i"?i:i+"s";var c=l.indexOf("/"),h=c===-1?l:l.substr(0,c),p=c===-1?"":l.substr(c);return h=h.replace(/\*/g,function(){return Math.floor(s.fraction()*10)}),f+"://"+h+p}if(a){f=a[1]?i+"s":i;var d=r.substr(a[0].length);r=f+"://"+d}return r.indexOf("://")===-1&&!t(r,"/")&&(r=i+"://"+r),r=e._relativeToSiteRootUrl(r),n(r,"/")?r+o:r+"/"+o};b=function(e){return r(e,"http","sockjs")},w=function(e){var t=r(e,"ws","websocket");return t},m.toSockjsUrl=b,u.extend(m.ClientStream.prototype,{on:function(e,t){var n=this;if(e!=="message"&&e!=="reset"&&e!=="disconnect")throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners=typeof a!="undefined"&&new a.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions);if(t.currentStatus.connected){(e._force||e.url)&&t._lostConnection(new v.ForcedReconnectError);return}t.currentStatus.status==="connecting"&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,t._retryNow()},disconnect:function(e){var t=this;e=e||{};if(t._forcedToDisconnect)return;e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged()},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){this.currentStatus.status!="offline"&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&e.errorType==="DDP.ForcedReconnectError"?(n=t._retry.retryLater(t.currentStatus.retryCount,u.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;if(e._forcedToDisconnect)return;e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection()},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),v.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),v.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){m.SUPPORTED_DDP_VERSIONS=h.SUPPORTED_DDP_VERSIONS,v._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){v.randomStream=function(e){var t=v._CurrentInvocation.get();return h.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),r=Npm.require(t.join("fibers","future"));var i=function(t,n){var r=this;n=u.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:{},reloadWithOutstanding:!1,supportedDDPVersions:h.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,typeof t=="object"?r._stream=t:r._stream=new m.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r.__flushBufferedWrites=e.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites={},r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions={},r._userId=null,r._userIdDeps=new a.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(!r._readyToMigrate()){if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1}return[!0]});var i=function(t){try{var i=h.parseDDP(t)}catch(s){e._debug("Exception while parsing DDP",s);return}r._heartbeat&&r._heartbeat.messageReceived();if(i===null||!i.msg){(!i||!i.server_id)&&e._debug("discarding invalid livedata message",i);return}if(i.msg==="connected")r._version=r._versionSuggestion,r._livedata_connected(i),n.onConnected();else if(i.msg==="failed")if(u.contains(r._supportedDDPVersions,i.version))r._versionSuggestion=i.version,r._stream.reconnect({_force:!0});else{var o="DDP version negotiation failed; server requested version "+i.version;r._stream.disconnect({_permanent:!0,_error:o}),n.onDDPVersionNegotiationFailure(o)}else i.msg==="ping"&&n.respondToPings?r._send({msg:"pong",id:i.id}):i.msg!=="pong"&&(u.include(["added","changed","removed","ready","updated"],i.msg)?r._livedata_data(i):i.msg==="nosub"?r._livedata_nosub(i):i.msg==="result"?r._livedata_result(i):i.msg==="error"?r._livedata_error(i):e._debug("discarding unknown livedata message type",i))},s=function(){var t={msg:"connect"};r._lastSessionId&&(t.session=r._lastSessionId),t.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=t.version,t.support=r._supportedDDPVersions,r._send(t),r._outstandingMethodBlocks.length>0&&u.each(r._outstandingMethodBlocks[0].methods,function(t){if(t.sentMessage&&t.noRetry){var n=r._outstandingMethodBlocks[0].methods,i;for(var s=0;s<n.length;s++){i=n[s];if(i.methodId===t.methodId)break}n.splice(s,1),t.receiveResult(new e.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply."))}}),!u.isEmpty(r._outstandingMethodBlocks)&&u.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),u.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),u.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},o=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(i,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(s,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(o,"handling DDP disconnect"))):(r._stream.on("message",i),r._stream.on("reset",s),r._stream.on("disconnect",o))},f=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t.noRetry=e.noRetry,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};u.extend(f.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),u.extend(i.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};u.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):undefined}}),n._stores[e]=r;var i=n._updatesForUnknownStores[e];return i&&(r.beginUpdate(i.length,!1),u.each(i,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var i=n[n.length-1];u.isFunction(i)?r.onReady=n.pop():i&&u.any([i.onReady,i.onError,i.onStop],u.isFunction)&&(r=n.pop())}var f=u.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;f?(l=f.id,f.inactive=!1,r.onReady&&(f.ready||(f.readyCallback=r.onReady)),r.onError&&(f.errorCallback=r.onError),r.onStop&&(f.stopCallback=r.onStop)):(l=s.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new a.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:l,name:e,params:n}));var c={stop:function(){if(!u.has(t._subscriptions,l))return;t._subscriptions[l].stop()},ready:function(){if(!u.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready},subscriptionId:l};return a.active&&a.onInvalidate(function(e){u.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),a.afterFlush(function(){u.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&c.stop()})}),c},_subscribeAndWait:function(e,t,n){var i=this,s=new r,o=!1,u;return t=t||[],t.push({onReady:function(){o=!0,s["return"]()},onError:function(e){o?n&&n.onLateError&&n.onLateError(e):s["throw"](e)}}),u=i.subscribe.apply(i,[e].concat(t)),s.wait(),u},methods:function(e){var t=this;u.each(e,function(e,n){if(typeof e!="function")throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&typeof t[t.length-1]=="function")var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,i,s){var a=this;!s&&typeof i=="function"&&(s=i,i={}),i=i||{},s&&(s=e.bindEnvironment(s,"delivering result of invoking '"+t+"'")),n=o.clone(n);var l=function(){var e;return function(){return e===undefined&&(e=""+a._nextMethodId++),e}}(),c=v._CurrentInvocation.get(),p=c&&c.isSimulation,d=null,m=function(){return d===null&&(d=h.makeRpcSeed(c,t)),d},g=a._methodHandlers[t];if(g){var y=function(e){a.setUserId(e)},b=new h.MethodInvocation({isSimulation:!0,userId:a.userId(),setUserId:y,randomSeed:function(){return m()}});p||a._saveOriginals();try{var w=v._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return g.apply(b,o.clone(n))}):g.apply(b,o.clone(n))})}catch(E){var S=E}p||a._retrieveAndStoreOriginals(l())}if(p){if(s)return s(S,w),undefined;if(S)throw S;return w}if(S){if(i.throwStubExceptions)throw S;S.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",S,S.stack)}if(!s)if(e.isClient)s=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var x=new r;s=x.resolver()}var T={msg:"method",method:t,params:n,id:l()};d!==null&&(T.randomSeed=d);var N=new f({methodId:l(),callback:s,connection:a,onResultReceived:i.onResultReceived,wait:!!i.wait,message:T,noRetry:!!i.noRetry});return i.wait?a._outstandingMethodBlocks.push({wait:!0,methods:[N]}):((u.isEmpty(a._outstandingMethodBlocks)||u.last(a._outstandingMethodBlocks).wait)&&a._outstandingMethodBlocks.push({wait:!1,methods:[]}),u.last(a._outstandingMethodBlocks).methods.push(N)),a._outstandingMethodBlocks.length===1&&N.sendMessage(),x?x.wait():i.returnStubValue?w:undefined},_saveOriginals:function(){var e=this;u.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];u.each(t._stores,function(r,i){var s=r.retrieveOriginals();if(!s)return;s.forEach(function(r,s){n.push({collection:i,id:s}),u.has(t._serverDocuments,i)||(t._serverDocuments[i]=new g);var o=t._serverDocuments[i].setDefault(s,{});o.writtenByStubs?o.writtenByStubs[e]=!0:(o.document=r,o.flushCallbacks=[],o.writtenByStubs={},o.writtenByStubs[e]=!0)})}),u.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;u.each(u.clone(e._subscriptions),function(t,n){t.name!=="meteor_autoupdate_clientVersions"&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(h.stringifyDDP(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;if(t._userId===e)return;t._userId=e,t._userIdDeps&&t._userIdDeps.changed()},_waitingForQuiescence:function(){var e=this;return!u.isEmpty(e._subsBeingRevived)||!u.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return u.any(u.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;t._version!=="pre1"&&t._heartbeatInterval!==0&&(t._heartbeat=new h.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new v.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0);if(typeof e.session=="string"){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}if(n)return;t._updatesForUnknownStores={},t._resetStores&&
(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},u.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&u.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(u.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(u.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks())},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this;if(t._waitingForQuiescence()){t._messagesBufferedUntilQuiescence.push(e),e.msg==="nosub"&&delete t._subsBeingRevived[e.id],u.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),u.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]});if(t._waitingForQuiescence())return;u.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var n=u.include(["added","changed","removed"],e.msg);if(t._bufferedWritesInterval===0||!n){t._flushBufferedWrites();return}if(t._bufferedWritesFlushAt===null)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf()){t._flushBufferedWrites();return}t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)},_flushBufferedWrites:function(){var e=this;e._bufferedWritesFlushHandle&&(clearTimeout(e._bufferedWritesFlushHandle),e._bufferedWritesFlushHandle=null),e._bufferedWritesFlushAt=null;var t=e._bufferedWrites;e._bufferedWrites={},e._performWrites(t)},_performWrites:function(e){var t=this;if(t._resetStores||!u.isEmpty(e))u.each(t._stores,function(n,r){n.beginUpdate(u.has(e,r)?e[r].length:0,t._resetStores)}),t._resetStores=!1,u.each(e,function(e,n){var r=t._stores[n];r?u.each(e,function(e){r.update(e)}):(u.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),u.each(t._stores,function(e){e.endUpdate()});t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],u.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;u.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!u.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d.idParse(e.id),i=n._getServerDoc(e.collection,r);if(i){var s=i.document!==undefined;i.document=e.fields||{},i.document._id=r;if(n._resetStores){var o=n._stores[e.collection].getDoc(e.id);o!==undefined&&(e.fields=o),n._pushUpdate(t,e.collection,e)}else if(s)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d.idParse(e.id));if(r){if(r.document===undefined)throw new Error("Server sent changed for nonexisting id: "+e.id);p.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d.idParse(e.id));if(r){if(r.document===undefined)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=undefined}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;u.each(e.methods,function(e){u.each(n._documentsWrittenByStub[e],function(r){var i=n._getServerDoc(r.collection,r.id);if(!i)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!i.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete i.writtenByStubs[e],u.isEmpty(i.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d.idStringify(r.id),replace:i.document}),u.each(i.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(u.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;u.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];if(!t)return;if(t.ready)return;t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,i=function(){--r,r===0&&n()};u.each(t._serverDocuments,function(e){e.forEach(function(e){var n=u.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(i))})}),r===0&&n()},_livedata_nosub:function(t){var n=this;n._livedata_data(t);if(!u.has(n._subscriptions,t.id))return;var r=n._subscriptions[t.id].errorCallback,i=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var s=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(s(t)),i&&i(s(t))},_process_nosub:function(){},_livedata_result:function(t){var n=this;u.isEmpty(n._bufferedWrites)||n._flushBufferedWrites();if(u.isEmpty(n._outstandingMethodBlocks)){e._debug("Received method result but no methods outstanding");return}var r=n._outstandingMethodBlocks[0].methods,i;for(var s=0;s<r.length;s++){i=r[s];if(i.methodId===t.id)break}if(!i){e._debug("Can't match method response to original method call",t);return}r.splice(s,1),u.has(t,"error")?i.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):i.receiveResult(undefined,t.result)},_outstandingMethodFinished:function(){var e=this;if(e._anyMethodsAreOutstanding())return;if(!u.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!u.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));u.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()},_sendOutstandingMethods:function(){var e=this;if(u.isEmpty(e._outstandingMethodBlocks))return;u.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;e._outstandingMethodBlocks=[],e.onReconnect();if(u.isEmpty(t))return;if(u.isEmpty(e._outstandingMethodBlocks)){e._outstandingMethodBlocks=t,e._sendOutstandingMethods();return}!u.last(e._outstandingMethodBlocks).wait&&!t[0].wait&&(u.each(t[0].methods,function(t){u.last(e._outstandingMethodBlocks).methods.push(t),e._outstandingMethodBlocks.length===1&&t.sendMessage()}),t.shift()),u.each(t,function(t){e._outstandingMethodBlocks.push(t)})},_readyToMigrate:function(){var e=this;return u.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),m.Connection=i,v.connect=function(e,t){var n=new i(e,t);return E.push(n),n},E=[],v._allSubscriptionsReady=function(){return u.all(E,function(e){return u.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){e.refresh=function(e){};if(e.isClient){var t="/";typeof __meteor_runtime_config__!="undefined"&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){e._debug(t);if(Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},i=r.DDPVersionNegotiationFailures||0;++i,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:i}]}),n.retryLater(i,function(){Package.reload.Reload._reload()})}};e.connection=v.connect(t,{onDDPVersionNegotiationFailure:r}),u.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=u.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=v.connect}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-client"]={},{DDP:v,LivedataTest:m})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["ddp-client"].DDP;typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.ddp={},{DDP:r})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.minimongo.LocalCollection,s=Package.minimongo.Minimongo,o=Package.check.check,u=Package.check.Match,a=Package.ejson.EJSON,f=Package["ddp-client"].DDP,l=Package.modules.meteorInstall,c=Package.modules.Buffer,h=Package.modules.process,p=Package["ecmascript-runtime"].Symbol,d=Package["ecmascript-runtime"].Map,v=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,g=Package.promise.Promise,y,b=l({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){function s(e,t){return e.transform?e.transform(t):t}function l(e,t,n){var r=t;return e.transform&&(r=a.clone(t),n!==null&&(r._id=n),r=e.transform(r)),r}function c(e,t,n){var s=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(e){if(!r.contains(s,e))throw new Error(t+": Invalid key: "+e)}),e._restricted=!0,r.each(["insert","update","remove"],function(r){if(n.hasOwnProperty(r)){if(!(n[r]instanceof Function))throw new Error(t+": Value for `"+r+"` must be a function");n.transform===undefined?n[r].transform=e._transform:n[r].transform=i.wrapTransform(n.transform),e._validators[r][t].push(n[r])}});if(n.update||n.remove||n.fetch){if(!(!n.fetch||n.fetch instanceof Array))throw new Error(t+": Value for `fetch` must be an array");e._updateFetch(n.fetch)}}function h(t,n){if(!i._selectorIsIdPerhapsAsObject(t))throw new e.Error(403,"Not permitted. Untrusted code may only "+n+" documents by ID.")}function p(){var e=f._CurrentInvocation.get();return e&&e.isSimulation}y={CollectionPrototype:{}};var t=y.CollectionPrototype;t.allow=function(e){c(this,"allow",e)},t.deny=function(e){c(this,"deny",e)},t._defineMutationMethods=function(t){var n=this;t=t||{},n._restricted=!1,n._insecure=undefined,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1};if(!n._name)return;n._prefix="/"+n._name+"/",n._connection&&(n._connection===e.server||e.isClient)&&function(){var i={};r.each(["insert","update","remove"],function(s){var a=n._prefix+s;if(t.useExisting){var f=e.isClient?"_methodHandlers":"method_handlers";if(n._connection[f]&&typeof n._connection[f][a]=="function")return}i[a]=function(){o(arguments,[u.Any]);var t=r.toArray(arguments);try{var i=null;s==="insert"&&!r.has(t[0],"_id")&&(i=n._makeNewID());if(this.isSimulation)return i!==null&&(t[0]._id=i),n._collection[s].apply(n._collection,t);s!=="insert"&&h(t[0],s);if(n._restricted){if(n._validators[s].allow.length===0)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+s+"'.");var a="_validated"+s.charAt(0).toUpperCase()+s.slice(1);return t.unshift(this.userId),s==="insert"&&t.push(i),n[a].apply(n,t)}if(n._isInsecure())return i!==null&&(t[0]._id=i),n._collection[s].apply(n._collection,t);throw new e.Error(403,"Access denied")}catch(f){throw f.name==="MongoError"||f.name==="MinimongoError"?new e.Error(409,f.toString()):f}}}),n._connection.methods(i)}()},t._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=r.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},t._isInsecure=function(){var e=this;return e._insecure===undefined?!!Package.insecure:e._insecure},t._validatedInsert=function(t,n,i){var s=this;if(r.any(s._validators.insert.deny,function(e){return e(t,l(e,n,i))}))throw new e.Error(403,"Access denied");if(r.all(s._validators.insert.allow,function(e){return!e(t,l(e,n,i))}))throw new e.Error(403,"Access denied");i!==null&&(n._id=i),s._collection.insert.call(s._collection,n)},t._validatedUpdate=function(t,u,a,f){var l=this;o(a,Object),f=r.clone(f)||{};if(!i._selectorIsIdPerhapsAsObject(u))throw new Error("validated update should be of a single ID");if(f.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var c="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",h=[];if(r.isEmpty(a))throw new e.Error(403,c);r.each(a,function(t,i){if(i.charAt(0)!=="$")throw new e.Error(403,c);if(!r.has(n,i))throw new e.Error(403,"Access denied. Operator "+i+" not allowed in a restricted collection.");r.each(r.keys(t),function(e){e.indexOf(".")!==-1&&(e=e.substring(0,e.indexOf("."))),r.contains(h,e)||h.push(e)})});var p={transform:null};l._validators.fetchAllFields||(p.fields={},r.each(l._validators.fetch,function(e){p.fields[e]=1}));var d=l._collection.findOne(u,p);if(!d)return 0;if(r.any(l._validators.update.deny,function(e){var n=s(e,d);return e(t,n,h,a)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){var n=s(e,d);return!e(t,n,h,a)}))throw new e.Error(403,"Access denied");return f._forbidReplace=!0,l._collection.update.call(l._collection,u,a,f)};var n={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};t._validatedRemove=function(t,n){var i=this,o={transform:null};i._validators.fetchAllFields||(o.fields={},r.each(i._validators.fetch,function(e){o.fields[e]=1}));var u=i._collection.findOne(n,o);if(!u)return 0;if(r.any(i._validators.remove.deny,function(e){return e(t,s(e,u))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.remove.allow,function(e){return!e(t,s(e,u))}))throw new e.Error(403,"Access denied");return i._collection.remove.call(i._collection,n)},t._callMutatorMethod=function(){function t(t,n,r){e.isClient&&!r&&!p()&&(r=function(){function n(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}return n}());var i=t==="update"||t==="remove";i&&!p()&&h(n[0],t);var s=this._prefix+t;return this._connection.apply(s,n,{returnStubValue:!0},r)}return t}()}}}}},{extensions:[".js",".json"]});b("./node_modules/meteor/allow-deny/allow-deny.js"),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["allow-deny"]={},{AllowDeny:y})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["allow-deny"].AllowDeny,i=Package.random.Random,s=Package.ejson.EJSON,o=Package.underscore._,u=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,f=Package["ddp-client"].DDP,l=Package.tracker.Tracker,c=Package.tracker.Deps,h=Package["diff-sequence"].DiffSequence,p=Package["mongo-id"].MongoID,d=Package.check.check,v=Package.check.Match,m=Package.modules.meteorInstall,g=Package.modules.Buffer,y=Package.modules.process,b=Package["ecmascript-runtime"].Symbol,w=Package["ecmascript-runtime"].Map,E=Package["ecmascript-runtime"].Set,S=Package["babel-runtime"].meteorBabelHelpers,x=Package.promise.Promise,T,N,C=m({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(){T=function(){var t=this;t.noConnCollections={}};var e=function(t,n){return t in n||(n[t]=new u(t)),n[t]};o.extend(T.prototype,{open:function(){function t(t,n){var r=this;return t?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(t,n._mongo_livedata_collections)):e(t,r.noConnCollections):new u}return t}()}),T=new T},"collection.js":function(t,n,s){function a(e){d(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t}function l(e,t){if(!e)return;return t=t||o.identity,function(n,r){e(n,!n&&t(r))}}function c(e){if(e.length&&(e[e.length-1]===undefined||e[e.length-1]instanceof Function))return e.pop()}N={},N.Collection=function(t,n){var r=this;if(!(r instanceof N.Collection))throw new Error('use "new" to construct a Mongo.Collection');!t&&t!==null&&(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),t=null);if(t!==null&&typeof t!="string")throw new Error("First argument to new Mongo.Collection must be a string or null");n&&n.methods&&(n={connection:n}),n&&n.manager&&!n.connection&&(n.connection=n.manager),n=o.extend({connection:undefined,idGeneration:"STRING",transform:null,_driver:undefined,_preventAutopublish:!1},n);switch(n.idGeneration){case"MONGO":r._makeNewID=function(){var e=t?f.randomStream("/collection/"+t):i.insecure;return new N.ObjectID(e.hexString(24))};break;case"STRING":default:r._makeNewID=function(){var e=t?f.randomStream("/collection/"+t):i.insecure;return e.id()}}r._transform=u.wrapTransform(n.transform),!t||n.connection===null?r._connection=null:n.connection?r._connection=n.connection:e.isClient?r._connection=e.connection:r._connection=e.server,n._driver||(t&&r._connection===e.server&&typeof MongoInternals!="undefined"&&MongoInternals.defaultRemoteCollectionDriver?n._driver=MongoInternals.defaultRemoteCollectionDriver():n._driver=T),r._collection=n._driver.open(t,r._connection),r._name=t,r._driver=n._driver;if(r._connection&&r._connection.registerStore){var s=r._connection.registerStore(t,{beginUpdate:function(){function e(e,t){(e>1||t)&&r._collection.pauseObservers(),t&&r._collection.remove({})}return e}(),update:function(){function e(e){var t=p.idParse(e.id),n=r._collection.findOne(t);if(e.msg==="replace"){var i=e.replace;i?n?r._collection.update(t,i):r._collection.insert(i):n&&r._collection.remove(t);return}if(e.msg==="added"){if(n)throw new Error("Expected not to find a document already present for an add");r._collection.insert(o.extend({_id:t},e.fields))}else if(e.msg==="removed"){if(!n)throw new Error("Expected to find a document already present for removed");r._collection.remove(t)}else{if(e.msg!=="changed")throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!o.isEmpty(e.fields)){var s={};o.each(e.fields,function(e,t){e===undefined?(s.$unset||(s.$unset={}),s.$unset[t]=1):(s.$set||(s.$set={}),s.$set[t]=e)}),r._collection.update(t,s)}}}return e}(),endUpdate:function(){function e(){r._collection.resumeObservers()}return e}(),saveOriginals:function(){function e(){r._collection.saveOriginals()}return e}(),retrieveOriginals:function(){function e(){return r._collection.retrieveOriginals()}return e}(),getDoc:function(){function e(e){return r.findOne(e)}return e}(),_getCollection:function(){function e(){return r}return e}()});if(!s){var a='There is already a collection named "'+t+'"';if(n._suppressSameNameError!==!0)throw new Error(a);console.warn?console.warn(a):console.log(a)}}if(n.defineMutationMethods!==!1)try{r._defineMutationMethods({useExisting:n._suppressSameNameError===!0})}catch(l){throw l.message==="A method named '/"+t+"/insert' is already defined"?new Error('There is already a collection named "'+t+'"'):l}Package.autopublish&&!n._preventAutopublish&&r._connection&&r._connection.publish&&r._connection.publish(null,function(){return r.find()},{is_auto:!0})},o.extend(N.Collection.prototype,{_getFindSelector:function(){function e(e){return e.length==0?{}:e[0]}return e}(),_getFindOptions:function(){function e(e){var t=this;return e.length<2?{transform:t._transform}:(d(e[1],v.Optional(v.ObjectIncluding({fields:v.Optional(v.OneOf(Object,undefined)),sort:v.Optional(v.OneOf(Object,Array,Function,undefined)),limit:v.Optional(v.OneOf(Number,undefined)),skip:v.Optional(v.OneOf(Number,undefined))}))),o.extend({transform:t._transform},e[1]))}return e}(),find:function(){function e(){var e=this,t=o.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))}return e}(),findOne:function(){function e(){var e=this,t=o.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}return e}()}),N.Collection._publishCursor=function(e,t,n){var r=e.observeChanges({added:function(){function e(e,r){t.added(n,e,r)}return e}(),changed:function(){function e(e,r){t.changed(n,e,r)}return e}(),removed:function(){function e(e){t.removed(n,e)}return e}()});return t.onStop(function(){r.stop()}),r},N.Collection._rewriteSelector=function(e){u._selectorIsId(e)&&(e={_id:e});if(o.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:i.id()};var t={};return o.each(e,function(e,n){e instanceof RegExp?t[n]=a(e):e&&e.$regex instanceof RegExp?(t[n]=a(e.$regex),e.$options!==undefined&&(t[n].$options=e.$options)):o.contains(["$or","$and","$nor"],n)?t[n]=o.map(e,function(e){return N.Collection._rewriteSelector(e)}):t[n]=e}),t},N.Collection.prototype.insert=function(){function e(e,t){if(!e)throw new Error("insert requires an argument");e=o.extend({},e);if("_id"in e){if(!e._id||!(typeof e._id=="string"||e._id instanceof N.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var n=!0;if(this._isRemoteCollection()){var r=f._CurrentInvocation.get();r||(n=!1)}n&&(e._id=this._makeNewID())}var i=function(){function t(t){return e._id?e._id:(e._id=t,t)}return t}(),s=l(t,i);if(this._isRemoteCollection()){var u=this._callMutatorMethod("insert",[e],s);return i(u)}try{var a=this._collection.insert(e,s);return i(a)}catch(c){if(t)return t(c),null;throw c}}return e}(),N.Collection.prototype.update=function(){function e(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=c(r);e=N.Collection._rewriteSelector(e);var u=o.clone(r[0])||{};if(u&&u.upsert)if(u.insertedId){if(!(typeof u.insertedId=="string"||u.insertedId instanceof N.ObjectID))throw new Error("insertedId must be string or ObjectID")}else e._id||(u.insertedId=this._makeNewID());var a=l(s);if(this._isRemoteCollection()){var f=[e,t,u];return this._callMutatorMethod("update",f,a)}try{return this._collection.update(e,t,u,a)}catch(h){if(s)return s(h),null;throw h}}return e}(),N.Collection.prototype.remove=function(){function e(e,t){e=N.Collection._rewriteSelector(e);var n=l(t);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],n);try{return this._collection.remove(e,n)}catch(r){if(t)return t(r),null;throw r}}return e}(),N.Collection.prototype._isRemoteCollection=function(){function t(){return this._connection&&this._connection!==e.server}return t}(),N.Collection.prototype.upsert=function(){function e(e,t,n,r){!r&&typeof n=="function"&&(r=n,n={});var i=o.extend({},n,{_returnObject:!0,upsert:!0});return this.update(e,t,i,r)}return e}(),N.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},N.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},N.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},N.Collection.prototype._createCappedCollection=function(e,t){var n=this;if(!n._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");n._collection._createCappedCollection(e,t)},N.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},N.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},N.ObjectID=p.ObjectID,N.Cursor=u.Cursor,N.Collection.Cursor=N.Cursor,N.Collection.ObjectID=N.ObjectID,e.Collection=N.Collection,o.extend(e.Collection.prototype,r.CollectionPrototype)}}}}},{extensions:[".js",".json"]});C("./node_modules/meteor/mongo/local_collection_driver.js"),C("./node_modules/meteor/mongo/collection.js"),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.mongo={},{Mongo:N})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.random.Random;(function(){var t="_localstorage_test_"+r.id(),n;try{window.localStorage&&(window.localStorage.setItem(t,t),n=window.localStorage.getItem(t),window.localStorage.removeItem(t))}catch(i){}t===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return t===undefined?null:t}})}).call(this),typeof Package=="undefined"&&(Package={}),Package.localstorage={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i;(function(){i=function(e){var t=this;e=e||{},t.nextCallbackId=0,t.callbacks={},t.bindEnvironment=!0,e.bindEnvironment===!1&&(t.bindEnvironment=!1);if(e.exceptionHandler)t.exceptionHandler=e.exceptionHandler;else if(e.debugPrintExceptions){if(!r.isString(e.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");t.exceptionHandler=e.debugPrintExceptions}},r.extend(i.prototype,{register:function(n){var r=this,i=r.exceptionHandler||function(e){throw e};r.bindEnvironment?n=e.bindEnvironment(n,i):n=t(n,i);var s=r.nextCallbackId++;return r.callbacks[s]=n,{stop:function(){delete r.callbacks[s]}}},each:function(t){var n=this;e._nodeCodeMustBeInFiber();var i=r.keys(n.callbacks);for(var s=0;s<i.length;++s){var o=i[s];if(r.has(n.callbacks,o)){var u=n.callbacks[o];if(!t(u))break}}}});var t=function(t,n,i){if(!n||typeof n=="string"){var s=n||"callback of async function";n=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=r.toArray(arguments),s=function(){try{var r=t.apply(i,e)}catch(s){n(s)}return r};return s()}}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["callback-hook"]={},{Hook:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.tracker.Tracker,s=Package.tracker.Deps,o=Package.random.Random,u=Package["callback-hook"].Hook,a=Package["ddp-client"].DDP,f=Package.mongo.Mongo,l=Package.modules.meteorInstall,c=Package.modules.Buffer,h=Package.modules.process,p=Package["ecmascript-runtime"].Symbol,d=Package["ecmascript-runtime"].Map,v=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,g=Package.promise.Promise,y,b,w,E=l({node_modules:{meteor:{"accounts-base":{"client_main.js":["./accounts_client.js","./url_client.js","./localstorage_token.js",function(t,n,r){r.export({AccountsClient:function(){return i},AccountsTest:function(){return s}});var i;r.import("./accounts_client.js",{AccountsClient:function(e){i=e}});var s;r.import("./url_client.js",{AccountsTest:function(e){s=e}}),r.import("./localstorage_token.js"),y=new i,e.users=y.users}],"accounts_client.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","./accounts_common.js",function(t,n,s){s.export({AccountsClient:function(){return l}});var o;s.import("babel-runtime/helpers/classCallCheck",{"default":function(e){o=e}});var u;s.import("babel-runtime/helpers/possibleConstructorReturn",{"default":function(e){u=e}});var a;s.import("babel-runtime/helpers/inherits",{"default":function(e){a=e}});var f;s.import("./accounts_common.js",{AccountsCommon:function(e){f=e}});var l=function(e){function t(n){o(this,t);var r=u(this,e.call(this,n));return r._loggingIn=!1,r._loggingInDeps=new i.Dependency,r._loginServicesHandle=r.connection.subscribe("meteor.loginServiceConfiguration"),r._pageLoadLoginCallbacks=[],r._pageLoadLoginAttemptInfo=null,r._initUrlMatching(),r._initLocalStorage(),r}return a(t,e),t.prototype.userId=function(){function e(){return this.connection.userId()}return e}(),t.prototype._setLoggingIn=function(){function e(e){this._loggingIn!==e&&(this._loggingIn=e,this._loggingInDeps.changed())}return e}(),t.prototype.loggingIn=function(){function e(){return this._loggingInDeps.depend(),this._loggingIn}return e}(),t.prototype.logout=function(){function e(e){var t=this;t.connection.apply("logout",[],{wait:!0},function(n,r){n?e&&e(n):(t.makeClientLoggedOut(),e&&e())})}return e}(),t.prototype.logoutOtherClients=function(){function e(e){var t=this;t.connection.apply("getNewToken",[],{wait:!0},function(e,n){e||t._storeLoginToken(t.userId(),n.token,n.tokenExpires)}),t.connection.apply("removeOtherTokens",[],{wait:!0},function(t){e&&e(t)})}return e}(),t}(f),c=l.prototype;e.loggingIn=function(){return y.loggingIn()},c.callLoginMethod=function(e){var t=this;e=r.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},e),r.each(["validateResult","userCallback"],function(t){e[t]||(e[t]=function(){})});var n=r.once(function(n){n?t._onLoginFailureHook.each(function(e){return e(),!0}):t._onLoginHook.each(function(e){return e(),!0}),e.userCallback.apply(this,arguments)}),i=!1,s=function(r,s){r||!s||!s.token||(t.connection.onReconnect=function(){i=!0;var e=t._storedLoginToken();e&&(s={token:e,tokenExpires:t._storedLoginTokenExpires()}),s.tokenExpires||(s.tokenExpires=t._tokenExpiration(new Date)),t._tokenExpiresSoon(s.tokenExpires)?t.makeClientLoggedOut():t.callLoginMethod({methodArguments:[{resume:s.token}],_suppressLoggingIn:!0,userCallback:function(){function e(e){var r=t._storedLoginToken();e&&r&&r===s.token&&t.makeClientLoggedOut(),n(e)}return e}()})})},o=function(s,o){if(i)return;t._setLoggingIn(!1);if(s||!o){s=s||new Error("No result from call to "+e.methodName),n(s);return}try{e.validateResult(o)}catch(u){n(u);return}t.makeClientLoggedIn(o.id,o.token,o.tokenExpires),n()};e._suppressLoggingIn||t._setLoggingIn(!0),t.connection.apply(e.methodName,e.methodArguments,{wait:!0,onResultReceived:s},o)},c.makeClientLoggedOut=function(){this.connection._userId&&this._onLogoutHook.each(function(e){return e(),!0}),this._unstoreLoginToken(),this.connection.setUserId(null),this.connection.onReconnect=null},c.makeClientLoggedIn=function(e,t,n){this._storeLoginToken(e,t,n),this.connection.setUserId(e)},e.logout=function(e){return y.logout(e)},e.logoutOtherClients=function(e){return y.logoutOtherClients(e)},c.loginServicesConfigured=function(){return this._loginServicesHandle.ready()},c.onPageLoadLogin=function(e){this._pageLoadLoginAttemptInfo?e(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(e)},c._pageLoadLogin=function(t){if(this._pageLoadLoginAttemptInfo){e._debug("Ignoring unexpected duplicate page load login attempt info");return}r.each(this._pageLoadLoginCallbacks,function(e){e(t)}),this._pageLoadLoginCallbacks=[],this._pageLoadLoginAttemptInfo=t},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return e.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return e.loggingIn()}))}],"accounts_common.js":["babel-runtime/helpers/classCallCheck",function(t,n,i){i.export({AccountsCommon:function(){return o}});var s;i.import("babel-runtime/helpers/classCallCheck",{"default":function(e){s=e}});var o=function(){function t(e){s(this,t),this._options={},this.connection=undefined,this._initConnection(e||{}),this.users=new f.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new u({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new u({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new u({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"})}return t.prototype.userId=function(){function e(){throw new Error("userId method not implemented")}return e}(),t.prototype.user=function(){function e
(){var e=this.userId();return e?this.users.findOne(e):null}return e}(),t.prototype.config=function(){function t(t){var n=this;e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect.");if(r.has(t,"oauthSecretKey")){if(e.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),t=r.omit(t,"oauthSecretKey")}var i=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays"];r.each(r.keys(t),function(e){if(!r.contains(i,e))throw new Error("Accounts.config: Invalid key: "+e)}),r.each(i,function(e){if(e in t){if(e in n._options)throw new Error("Can't set `"+e+"` more than once");n._options[e]=t[e]}})}return t}(),t.prototype.onLogin=function(){function e(e){return this._onLoginHook.register(e)}return e}(),t.prototype.onLoginFailure=function(){function e(e){return this._onLoginFailureHook.register(e)}return e}(),t.prototype.onLogout=function(){function e(e){return this._onLogoutHook.register(e)}return e}(),t.prototype._initConnection=function(){function t(t){if(!e.isClient)return;t.connection?this.connection=t.connection:t.ddpUrl?this.connection=a.connect(t.ddpUrl):typeof __meteor_runtime_config__!="undefined"&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=a.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=e.connection}return t}(),t.prototype._getTokenLifetimeMs=function(){function e(){return(this._options.loginExpirationInDays||c)*24*60*60*1e3}return e}(),t.prototype._getPasswordResetTokenLifetimeMs=function(){function e(){return(this._options.passwordResetTokenExpirationInDays||h)*24*60*60*1e3}return e}(),t.prototype._tokenExpiration=function(){function e(e){return new Date((new Date(e)).getTime()+this._getTokenLifetimeMs())}return e}(),t.prototype._tokenExpiresSoon=function(){function e(e){var t=.1*this._getTokenLifetimeMs(),n=p*1e3;return t>n&&(t=n),new Date>new Date(e)-t}return e}(),t}(),l=o.prototype;e.userId=function(){return y.userId()},e.user=function(){return y.user()};var c=90,h=3,p=3600;b=6e5,w=1e4,e.startup(function(){var e=Package["service-configuration"].ServiceConfiguration;l.loginServiceConfiguration=e.configurations,l.ConfigError=e.ConfigError});var d="Accounts.LoginCancelledError";l.LoginCancelledError=e.makeErrorType(d,function(e){this.message=e}),l.LoginCancelledError.prototype.name=d,l.LoginCancelledError.numericError=145546287}],"localstorage_token.js":["./accounts_client.js",function(t,n,r){var i;r.import("./accounts_client.js",{AccountsClient:function(e){i=e}});var s=i.prototype;e.loginWithToken=function(e,t){return y.loginWithToken(e,t)},s.loginWithToken=function(e,t){this.callLoginMethod({methodArguments:[{resume:e}],userCallback:t})},s._enableAutoLogin=function(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()},s._isolateLoginTokenForTest=function(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+o.id(),this.USER_ID_KEY=this.USER_ID_KEY+o.id()},s._storeLoginToken=function(t,n,r){e._localStorage.setItem(this.USER_ID_KEY,t),e._localStorage.setItem(this.LOGIN_TOKEN_KEY,n),r||(r=this._tokenExpiration(new Date)),e._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,r),this._lastLoginTokenWhenPolled=n},s._unstoreLoginToken=function(){e._localStorage.removeItem(this.USER_ID_KEY),e._localStorage.removeItem(this.LOGIN_TOKEN_KEY),e._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null},s._storedLoginToken=function(){return e._localStorage.getItem(this.LOGIN_TOKEN_KEY)},s._storedLoginTokenExpires=function(){return e._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)},s._storedUserId=function(){return e._localStorage.getItem(this.USER_ID_KEY)},s._unstoreLoginTokenIfExpiresSoon=function(){var e=this._storedLoginTokenExpires();e&&this._tokenExpiresSoon(new Date(e))&&this._unstoreLoginToken()},s._initLocalStorage=function(){var t=this;t.LOGIN_TOKEN_KEY="Meteor.loginToken",t.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",t.USER_ID_KEY="Meteor.userId";var n=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(n||this.connection!==e.connection){var r=":"+this.connection._stream.rawUrl;n&&(r+=":"+n),t.LOGIN_TOKEN_KEY+=r,t.LOGIN_TOKEN_EXPIRES_KEY+=r,t.USER_ID_KEY+=r}if(t._autoLoginEnabled){t._unstoreLoginTokenIfExpiresSoon();var i=t._storedLoginToken();if(i){var s=t._storedUserId();s&&t.connection.setUserId(s),t.loginWithToken(i,function(n){n&&(e._debug("Error logging in with token: "+n),t.makeClientLoggedOut()),t._pageLoadLogin({type:"resume",allowed:!n,error:n,methodName:"login",methodArguments:[{resume:i}]})})}}t._lastLoginTokenWhenPolled=i,t._pollIntervalTimer&&clearInterval(t._pollIntervalTimer),t._pollIntervalTimer=setInterval(function(){t._pollStoredLoginToken()},3e3)},s._pollStoredLoginToken=function(){var e=this;if(!e._autoLoginEnabled)return;var t=e._storedLoginToken();e._lastLoginTokenWhenPolled!=t&&(t?e.loginWithToken(t,function(t){t&&e.makeClientLoggedOut()}):e.logout()),e._lastLoginTokenWhenPolled=t}}],"url_client.js":["./accounts_client.js",function(t,n,i){function f(e,t,n){r.each(u,function(r){var i,s=new RegExp("^\\#\\/"+r+"\\/(.*)$"),o=t.match(s);if(!o)return;i=o[1],r==="reset-password"?e._resetPasswordToken=i:r==="verify-email"?e._verifyEmailToken=i:r==="enroll-account"&&(e._enrollAccountToken=i),window.location.hash="",n.call(e,i,r)})}function l(t,n){var r=this;r._autoLoginEnabled=!1,e.startup(function(){r._accountsCallbacks[n]&&r._accountsCallbacks[n](t,function(){r._enableAutoLogin()})})}i.export({AccountsTest:function(){return c}});var s;i.import("./accounts_client.js",{AccountsClient:function(e){s=e}});var o=s.prototype,u=["reset-password","verify-email","enroll-account"],a=window.location.hash;o._initUrlMatching=function(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()},o._attemptToMatchHash=function(){f(this,a,l)};var c={attemptToMatchHash:function(){function e(e,t){return f(y,e,t)}return e}()};o.onResetPasswordLink=function(t){this._accountsCallbacks["reset-password"]&&e._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=t},o.onEmailVerificationLink=function(t){this._accountsCallbacks["verify-email"]&&e._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=t},o.onEnrollmentLink=function(t){this._accountsCallbacks["enroll-account"]&&e._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=t}}]}}}},{extensions:[".js",".json"]}),S=E("./node_modules/meteor/accounts-base/client_main.js");typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["accounts-base"]=S,{Accounts:y})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["accounts-base"].Accounts,i=Package.srp.SRP,s=Package.sha.SHA256,o=Package.ejson.EJSON,u=Package["ddp-client"].DDP,a=Package.check.check,f=Package.check.Match,l=Package.underscore._,c=Package.modules.meteorInstall,h=Package.modules.Buffer,p=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,v=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,g=Package["babel-runtime"].meteorBabelHelpers,y=Package.promise.Promise,b=c({node_modules:{meteor:{"accounts-password":{"password_client.js":function(){e.loginWithPassword=function(e,n,i){typeof e=="string"&&(e.indexOf("@")===-1?e={username:e}:e={email:e}),r.callLoginMethod({methodArguments:[{user:e,password:r._hashPassword(n)}],userCallback:function(){function r(r,s){r&&r.error===400&&r.reason==="old password format"?t({upgradeError:r,userSelector:e,plaintextPassword:n},i):r?i&&i(r):i&&i()}return r}()})},r._hashPassword=function(e){return{digest:s(e),algorithm:"sha-256"}};var t=function(n,i){var u;try{u=o.parse(n.upgradeError.details)}catch(a){}!u||u.format!=="srp"?i&&i(new e.Error(400,"Password is old. Please reset your password.")):r.callLoginMethod({methodArguments:[{user:n.userSelector,srp:s(u.identity+":"+n.plaintextPassword),password:r._hashPassword(n.plaintextPassword)}],userCallback:i})};r.createUser=function(t,n){t=l.clone(t);if(typeof t.password!="string")throw new Error("options.password must be a string");if(!t.password){n(new e.Error(400,"Password may not be empty"));return}t.password=r._hashPassword(t.password),r.callLoginMethod({methodName:"createUser",methodArguments:[t],userCallback:n})},r.changePassword=function(n,i,s){if(!e.user()){s&&s(new Error("Must be logged in to change password."));return}a(i,String);if(!i){s(new e.Error(400,"Password may not be empty"));return}r.connection.apply("changePassword",[n?r._hashPassword(n):null,r._hashPassword(i)],function(o,u){o||!u?o&&o.error===400&&o.reason==="old password format"?t({upgradeError:o,userSelector:{id:e.userId()},plaintextPassword:n},function(e){e?s&&s(e):r.changePassword(n,i,s)}):s&&s(o||new Error("No result from changePassword.")):s&&s()})},r.forgotPassword=function(e,t){if(!e.email)throw new Error("Must pass options.email");r.connection.call("forgotPassword",e,t)},r.resetPassword=function(t,n,i){a(t,String),a(n,String);if(!n){i(new e.Error(400,"Password may not be empty"));return}r.callLoginMethod({methodName:"resetPassword",methodArguments:[t,r._hashPassword(n)],userCallback:i})},r.verifyEmail=function(e,t){if(!e)throw new Error("Need to pass token");r.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:t})}}}}}},{extensions:[".js",".json"]});b("./node_modules/meteor/accounts-password/password_client.js"),typeof Package=="undefined"&&(Package={}),Package["accounts-password"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,s=Package.underscore._,o=Package.ejson.EJSON,u,a;(function(){(function(){u={},u.Store={GridFS:function(){throw new Error('To use FS.Store.GridFS, you must add the "cfs-gridfs" package.')},FileSystem:function(){throw new Error('To use FS.Store.FileSystem, you must add the "cfs-filesystem" package.')},S3:function(){throw new Error('To use FS.Store.S3, you must add the "cfs-s3" package.')}},u.AccessPoint={},u.Utility={},u.config={},u._collections={},a={},a.defaultZero=function(e){return+(e||0)},u.Utility.cloneFileRecord=function(e,t){t=t||{};var n={},r=t.full?[]:["collectionName","collection","data","createdByTransform"];for(var i in e)e.hasOwnProperty(i)&&!s.contains(r,i)&&(n[i]=e[i]);return n},u.Utility.defaultCallback=function(n){if(n){if(!(n instanceof e.Error))throw n;console.error(n.message)}},u.Utility.handleError=function(e,t,n){var r=typeof e=="function"?e:u.Utility.defaultCallback,i=t===""+t?new Error(t):t;return r(i,n)},u.Utility.noop=function(){},u.Utility.validateAction=function(n,r,i){var o=n.deny,u=n.allow;if(typeof Package=="object"&&Package.insecure&&o.length+u.length===0)return;r.isMounted()&&r.getFileRecord();if(s.any(o,function(e){return e(i,r)}))throw new e.Error(403,"Access denied");if(s.all(u,function(e){return!e(i,r)}))throw new e.Error(403,"Access denied")},u.Utility.getFileName=function(t){t=t.split("?")[0];var n=t.lastIndexOf("/");return n!==-1&&(t=t.slice(n+1)),t},u.Utility.getFileExtension=function(t){t=u.Utility.getFileName(t);var n=t.lastIndexOf(".");return n>0?t.slice(n+1).toLowerCase():""},u.Utility.setFileExtension=function(t,n){if(!t||!t.length)return t;var r=u.Utility.getFileExtension(t);return r.length?t=t.slice(0,r.length*-1)+n:t=t+"."+n,t},u.Utility.encodeParams=function(t){var n=[];return s.each(t,function(e,t){n.length&&n.push("&"),n.push(u.Utility.encodeString(t),"=",u.Utility.encodeString(e))}),n.join("").replace(/%20/g,"+")},u.Utility.encodeString=function(t){return encodeURIComponent(t).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},u.Utility._btoa=function(t){var n;return t instanceof Buffer?n=t:n=new Buffer(t.toString(),"binary"),n.toString("base64")},u.Utility.btoa=function(t){if(typeof btoa=="function")return btoa(t);if(typeof Buffer!="undefined")return u.Utility._btoa(t);throw new Error("FS.Utility.btoa: Cannot base64 encode on your system")},u.Utility._atob=function(t){return(new Buffer(t,"base64")).toString("binary")},u.Utility.atob=function(t){if(typeof atob=="function")return atob(t);if(typeof Buffer!="undefined")return u.Utility._atob(t);throw new Error("FS.Utility.atob: Cannot base64 encode on your system")},u.Utility.extend=s.extend,u.Utility.each=s.each,u.Utility.isEmpty=s.isEmpty,u.Utility.indexOf=s.indexOf,u.Utility.isArray=s.isArray,u.Utility.map=s.map,u.Utility.once=s.once,u.Utility.include=s.include,u.Utility.size=s.size}).call(this),function(){u.Utility.connectionLogin=function(t){typeof Accounts!="undefined"&&e.startup(function(){r.autorun(function(){var n=e.userId();n?t.onReconnect=function(){var e=Accounts._storedLoginToken();t.apply("login",[{resume:e}],function(e,n){!e&&n&&t.setUserId(n.id)})}:(t.onReconnect=null,t.setUserId(null))})})},u.Utility.eachFile=function(e,t){var n=e.originalEvent||e,r=n.target.files;if(!r||r.length===0)r=n.dataTransfer?n.dataTransfer.files:[];for(var i=0;i<r.length;i++)t(r[i],i)}}.call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:base-package"]={},{FS:u,_Utility:a})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i;(function(){(function(){i=function(e){var t=this;if(!(t instanceof i))throw new Error('use "new" to construct an EventEmitter');e=e||{},t._eventEmitter={onListeners:{},onceListeners:{},maxListeners:e.maxListeners||10}};var e=function(e,t){var n=this;if(n._eventEmitter.maxListeners&&t>n._eventEmitter.maxListeners)return"warning: possible EventEmitter memory leak detected. "+t+' listeners added on event "'+e+'". Use emitter.setMaxListeners() to increase limit. ('+n._eventEmitter.maxListeners+")"};i.prototype.setMaxListeners=function(e){this._eventEmitter.maxListeners=e};var t=function(t,n,r){return typeof t[n]=="undefined"&&(t[n]=[]),e.apply(this,[n,t[n].push(r)])};i.prototype.on=function(e,n){var r=t.apply(this,[this._eventEmitter.onListeners,e,n]);return r&&console.warn((new Error(r)).stack),this},i.prototype.once=function(e,n){var r=t.apply(this,[this._eventEmitter.onceListeners,e,n]);return r&&console.warn((new Error(r)).stack),this};var n=function(e,t){var n=this,i=0;return typeof e!="undefined"&&r.each(e,function(e){i++,e.apply(n,t)}),i};i.prototype.emit=function(e){var t=this,i=r.rest(arguments),s=0,o=t._eventEmitter.onceListeners[e];return t._eventEmitter.onceListeners[e]=[],s+=n.call(t,t._eventEmitter.onListeners[e],i),s+=n.call(t,o,i),s>0};var s=function(e,t){var n=!1,r=[];for(var i=0;i<e.length;i++)!n&&e[i]===t?n=!0:r.push(e[i]);return r};i.prototype.off=function(e,t){var n=this;e?typeof t=="function"?(typeof n._eventEmitter.onListeners[e]!="undefined"&&(n._eventEmitter.onListeners[e]=s(n._eventEmitter.onListeners[e],t)),typeof n._eventEmitter.onceListeners[e]!="undefined"&&(n._eventEmitter.onceListeners[e]=s(n._eventEmitter.onceListeners[e],t))):(n._eventEmitter.onListeners[e]=[],n._eventEmitter.onceListeners[e]=[]):(n._eventEmitter.onListeners={},n._eventEmitter.onceListeners={})},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=i.prototype.off,i.prototype.one=i.prototype.once,i.prototype.trigger=i.prototype.emit}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["raix:eventemitter"]={},{EventEmitter:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package.tracker.Tracker,s=Package.tracker.Deps,o=Package.check.check,u=Package.check.Match,a=Package["ddp-client"].DDP,f=Package.ejson.EJSON,l=Package["raix:eventemitter"].EventEmitter,c=Package.mongo.Mongo,h;(function(){(function(){h={},r.StorageAdapter=function(e,t,n){var i=this;if(typeof n=="undefined")throw new Error("FS.StorageAdapter please define an api");if(typeof h[e]!="undefined")throw new Error('Storage name already exists: "'+e+'"');h[e]=i,r.Utility.extend(this,t||{},{name:e})},r.StorageAdapter.prototype=new l}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:storage-adapter"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv;(function(){}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:standard-packages"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS;(function(){(function(){r.Store.GridFS=function(e,t){var n=this;if(n instanceof r.Store.GridFS)return new r.StorageAdapter(e,t,{typeName:"storage.gridfs"});throw new Error('FS.Store.GridFS missing keyword "new"')}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:gridfs"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i,s;(function(){i={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};i._encodeParams=function(t){var n=[];return r.each(t,function(t,r){n.length&&n.push("&"),n.push(e(r),"=",e(t))}),n.join("").replace(/%20/g,"+")},s=function(e,t,n,r){var s=e,o=t?t.slice(1):null;typeof n=="string"&&(o=String(n));if(r){o=o||"";var u=i._encodeParams(r);o&&u&&(o+="&"),o+=u}var a=s;return o!==null&&(a+="?"+o),a}}).call(this),function(){i._constructUrl=function(e,t,n){var r=/^(.*?)(\?.*)?$/.exec(e);return s(r[1],r[2],t,n)}}.call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.url={},{URL:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.url.URL,s=Package.modules.meteorInstall,o=Package.modules.Buffer,u=Package.modules.process,a=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,h=Package.promise.Promise,p,d,v,m=s({node_modules:{meteor:{http:{"httpcall_common.js":function(){function t(e,t){return e.length>t?e.slice(0,t)+"...":e}var e=500;p=function(r,i){var s="failed ["+r+"]";if(i){var o=typeof i=="string"?i:i.toString();s+=" "+t(o.replace(/\n/g," "),e)}return new Error(s)},d=function(t){var n=(t.headers["content-type"]||";").split(";")[0];if(r.include(["application/json","text/javascript","application/javascript","application/x-javascript"],n))try{t.data=JSON.parse(t.content)}catch(i){t.data=null}else t.data=null},v={},v.get=function(){return v.call.apply(this,["GET"].concat(r.toArray(arguments)))},v.post=function(){return v.call.apply(this,["POST"].concat(r.toArray(arguments)))},v.put=function(){return v.call.apply(this,["PUT"].concat(r.toArray(arguments)))},v.del=function(){return v.call.apply(this,["DELETE"].concat(r.toArray(arguments)))},v.patch=function(){return v.call.apply(this,["PATCH"].concat(r.toArray(arguments)))}},"httpcall_client.js":function(t,n,s){v.call=function(t,n,s,o){!o&&typeof s=="function"&&(o=s,s=null),s=s||{};if(typeof o!="function")throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var u={},a=s.content;s.data&&(a=JSON.stringify(s.data),u["Content-Type"]="application/json");var f,l;a||t==="GET"||t==="HEAD"?f=s.params:l=s.params,n=i._constructUrl(n,s.query,f);if(s.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(r.has(s,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var h,v;if(s.auth){var m=s.auth.indexOf(":");if(m<0)throw new Error('auth option should be of the form "username:password"');h=s.auth.substring(0,m),v=s.auth.substring(m+1)}l&&(a=i._encodeParams(l)),r.extend(u,s.headers||{}),o=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(o),o=r.once(o);try{var g;if(typeof XMLHttpRequest!="undefined")g=new XMLHttpRequest;else{if(typeof ActiveXObject=="undefined")throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(t,n,!0,h,v);for(var y in c.sanitizeForInObject(u))g.setRequestHeader(y,u[y]);var b=!1,w;s.timeout&&(w=e.setTimeout(function(){b=!0,g.abort()},s.timeout)),g.onreadystatechange=function(t){if(g.readyState===4){w&&e.clearTimeout(w);if(b)o(new Error("timeout"));else if(!g.status)o(new Error("network"));else{var n={};n.statusCode=g.status,n.content=g.responseText,n.headers={};var i=g.getAllResponseHeaders();""===i&&g.getResponseHeader("content-type")&&(i="content-type: "+g.getResponseHeader("content-type"));var s=i.split(/\r?\n/);r.each(s,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&t.length===3&&(n.headers[t[1].toLowerCase()]=t[2])}),d(n);var u=null;n.statusCode>=400&&(u=p(n.statusCode,n.content)),o(u,n)}}};if(s.beforeSend){var E=r.once(s.beforeSend);if(!1===E.call(null,g,s))return g.abort()}g.send(a)}catch(S){o(S)}}},"deprecated.js":function(){e.http=v}}}}},{extensions:[".js",".json"]});m("./node_modules/meteor/http/httpcall_common.js"),m("./node_modules/meteor/http/httpcall_client.js"),m("./node_modules/meteor/http/deprecated.js"),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.http={},{HTTP:v})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,i;(function(){(function(){if(typeof e!="function"&&typeof e!="object"||typeof URL=="undefined")if(typeof e!="function"&&typeof e!="object"||typeof webkitURL=="undefined")var e=function(e){"use strict";var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,n,r){this.data=t,this.size=t.length,this.type=n,this.encoding=r},i=n.prototype,s=r.prototype,o=e.FileReaderSync,u=function(e){this.code=this[this.name=e]},a="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),f=a.length,l=e.URL||e.webkitURL||e,c=l.createObjectURL,h=l.revokeObjectURL,p=l,d=e.btoa,v=e.atob,m=e.ArrayBuffer,g=e.Uint8Array;r.fake=s.fake=!0;while(f--)u.prototype[a[f]]=f+1;return l.createObjectURL||(p=e.URL={}),p.createObjectURL=function(e){var t=e.type,n;t===null&&(t="application/octet-stream");if(e instanceof r)return n="data:"+t,e.encoding==="base64"?n+";base64,"+e.data:e.encoding==="URI"?n+","+decodeURIComponent(e.data):d?n+";base64,"+d(e.data):n+","+encodeURIComponent(e.data);if(c)return c.call(l,e)},p.revokeObjectURL=function(e){e.substring(0,5)!=="data:"&&h&&h.call(l,e)},i.append=function(e){var n=this.data;if(g&&(e instanceof m||e instanceof g)){var i="",s=new g(e),a=0,f=s.length;for(;a<f;a++)i+=String.fromCharCode(s[a]);n.push(i)}else if(t(e)==="Blob"||t(e)==="File"){if(!o)throw new u("NOT_READABLE_ERR");var l=new o;n.push(l.readAsBinaryString(e))}else e instanceof r?e.encoding==="base64"&&v?n.push(v(e.data)):e.encoding==="URI"?n.push(decodeURIComponent(e.data)):e.encoding==="raw"&&n.push(e.data):(typeof e!="string"&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},s.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},s.toString=function(){return"[object Blob]"},n}(e);return function(n,r){var i=r?r.type||"":"",s=new t;if(n)for(var o=0,u=n.length;o<u;o++)s.append(n[o]);return s.getBlob(i)}}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||this.content||this);else self.URL=webkitURL}).call(this),function(){function t(e,t){var n=atob(e.split(",")[1]),r=[];for(var i=0;i<n.length;i++)r.push(n.charCodeAt(i));return new Blob([new Uint8Array(r)],{type:t})}function n(t){if(t){if(!(t instanceof e.Error))throw t;console.error(t.message)}}i=function(n,i){var s=this;if(!n)throw new Error("DataMan constructor requires a data argument");if(typeof File!="undefined"&&n instanceof File)s.blob=n,s._type=n.type;else if(typeof Blob!="undefined"&&n instanceof Blob)s.blob=n,s._type=n.type;else if(typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer||r.isBinary(n)){if(typeof Blob=="undefined")throw new Error("Browser must support Blobs to handle an ArrayBuffer or Uint8Array");if(!i)throw new Error("DataMan constructor requires a type argument when passed an ArrayBuffer or Uint8Array");s.blob=new Blob([n],{type:i}),s._type=i}else{if(typeof n!="string")throw new Error("DataMan constructor received data that it doesn't support");if(n.slice(0,5)==="data:")s._type=n.slice(5,n.indexOf(";")),s.blob=t(n,s._type);else{if(n.slice(0,5)!=="http:"&&n.slice(0,6)!=="https:")throw new Error("DataMan constructor received unrecognized data string");if(!i)throw new Error("DataMan constructor requires a type argument when passed a URL");s.url=n,s._type=i}}},i.prototype.getBlob=function(t){var n=this;if(!t){if(n.url)throw new Error("DataMan.getBlob requires a callback when managing a URL");return n.blob}if(n.blob)t(null,n.blob);else if(n.url){var r=new XMLHttpRequest;r.open("GET",n.url,!0),r.responseType="blob",r.onload=function(e){n.blob=r.response,t(null,n.blob)},r.onerror=function(e){t(e)},r.send()}},i.prototype.getBinary=function(t,r,i){function o(e){if(typeof FileReader=="undefined"){i(new Error("Browser does not support FileReader"));return}var t=new FileReader;t.onload=function(e){i(null,new Uint8Array(e.target.result))},t.onerror=function(e){i(e)},t.readAsArrayBuffer(e)}var s=this;typeof t=="function"&&(i=t),i=i||n,s.getBlob(function(e,n){if(e)i(e);else if(typeof t=="number"&&typeof r=="number"){var u=n.size;if(t>=u){i(new Error("DataMan.getBinary: start position beyond end of data ("+u+")"));return}r=Math.min(u,r);var a=n.slice||n.webkitSlice||n.mozSlice;if(typeof a=="undefined"){i(new Error("Browser does not support File.slice"));return}o(a.call(n,t,r,s._type))}else o(n)})},i.prototype.saveAs=function(t){var n=this;if(typeof window=="undefined")throw new Error("window must be defined to use saveLocal");if(!window.saveAs){console.warn("DataMan.saveAs: window.saveAs not supported by this browser - add cfs-filesaver package");return}n.getBlob(function(e,n){if(e)throw e;window.saveAs(n,t)})},i.prototype.getDataUri=function(t){var n=this;if(typeof t!="function")throw new Error("getDataUri requires callback function");if(typeof FileReader=="undefined"){t(new Error("Browser does not support FileReader"));return}var r=new FileReader;r.onload=function(e){var n=e.target.result;t(null,n)},r.onerror=function(e){t(e)},n.getBlob(function(e,n){e?t(e):r.readAsDataURL(n)})},i.prototype.size=function(t){var n=this;if(!t){if(n.url)throw new Error("On the client, DataMan.size requires a callback when getting size for a URL on the client");if(typeof n._size=="number")return n._size;var r=n.getBlob();return n._size=r.size,n._size}typeof n._size=="number"?t(null,n._size):n.getBlob(function(e,r){e?t(e):(n._size=r.size,t(null,n._size))})},i.prototype.type=function(){return this._type}}.call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:data-man"]={},{DataMan:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package.tracker.Tracker,s=Package.tracker.Deps,o=Package.check.check,u=Package.check.Match,a=Package["ddp-client"].DDP,f=Package.mongo.Mongo,l=Package.http.HTTP,c=Package["cfs:data-man"].DataMan,h=Package["raix:eventemitter"].EventEmitter;(function(){(function(){function t(e,t,n){var r;return t&&e.hasStored(t)?r=e.type({store:t}):r=e.type(),typeof r=="string"?r.indexOf(n)===0:!1}function n(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}r.File=function(e,t){var i=this;i.createdByTransform=!!t,e instanceof r.File||n(e)?r.Utility.extend(i,r.Utility.cloneFileRecord(e,{full:!0})):e&&i.attachData(e)},r.File.prototype=new h,r.File.prototype.attachData=function(n,i,s){function f(e){o.data=new c(n,e,u),o.type(o.data.type()),o.size()?l():s?o.data.size(function(e,t){e?s&&s(e):(o.size(t),l())}):(o.size(o.data.size()),l())}function l(){!o.name()&&typeof n=="string"&&(n.slice(0,5)==="http:"||n.slice(0,6)==="https:"?r.Utility.getFileExtension(n).length&&o.name(r.Utility.getFileName(n)):n.slice(0,5)!=="data:"&&o.name(r.Utility.getFileName(n))),s&&s()}var o=this;!s&&typeof i=="function"&&(s=i,i={}),i=i||{};if(!n)throw new Error("FS.File.attachData requires a data argument with some data");var u;if(typeof File!="undefined"&&n instanceof File)o.name(n.name),o.updatedAt(n.lastModifiedDate),o.size(n.size),f(n.type);else if(typeof Blob!="undefined"&&n instanceof Blob)o.updatedAt(new Date),o.size(n.size),f(n.type);else if(typeof n!="string"||n.slice(0,5)!=="http:"&&n.slice(0,6)!=="https:")f(i.type);else{u=r.Utility.extend({},i),u.type&&delete u.type;if(!s){if(e.isClient)throw new Error("FS.File.attachData requires a callback when attaching a URL on the client");var a=e.call("_cfs_getUrlInfo",n,u);r.Utility.extend(o,{original:a}),f(a.type)}else e.call("_cfs_getUrlInfo",n,u,function(e,t){r.debug&&console.log("URL HEAD RESULT:",t),e?s(e):(r.Utility.extend(o,{original:t}),f(t.type))})}return o},r.File.prototype.uploadProgress=function(){var e=this;return e.getFileRecord(),e.uploadedAt?100:Math.round((e.chunkCount||0)/(e.chunkSum||1)*100)},r.File.prototype.controlledByDeps=function(){var e=this;return e.createdByTransform&&s.active},r.File.prototype.getCollection=function(){var e=this;if(e.collection)return e.collection;if(!e.collectionName)return;return e.collection=r._collections[e.collectionName],e.collection},r.File.prototype.isMounted=r.File.prototype.getCollection,r.File.prototype.getFileRecord=function(){var e=this;if(e.controlledByDeps())return e;if(e.isMounted()){r.debug&&console.log("GET FILERECORD: "+e._id);var t=e.collection.files.findOne({_id:e._id})||{};return r.Utility.extend(e,t),t}return{}},r.File.prototype.update=function(t,n,i){var s=this;r.debug&&console.log("UPDATE: "+JSON.stringify(t)),!i&&typeof n=="function"&&(i=n,n={}),i=i||r.Utility.defaultCallback;if(!s.isMounted()){i(new Error("Cannot update a file that is not associated with a collection"));return}return s.collection.files.update({_id:s._id},t,n,function(t,n){n>0&&e.isClient&&s.getFileRecord(),i(t,n)})},r.File.prototype._saveChanges=function(e){var t=this;if(!t.isMounted())return;r.debug&&console.log("FS.File._saveChanges:",e||"all");var n={$set:{}};if(e==="_original")n.$set.original=t.original;else if(typeof e=="string"){var i=t.copies[e];i&&(n.$set["copies."+e]=i)}else n.$set.original=t.original,n.$set.copies=t.copies;t.update(n)},r.File.prototype.remove=function(e){var t=this;r.debug&&console.log("REMOVE: "+t._id),e=e||r.Utility.defaultCallback;if(!t.isMounted()){e(new Error("Cannot remove a file that is not associated with a collection"));return}return t.collection.files.remove({_id:t._id},function(n,r){n||(delete t._id,delete t.collection,delete t.collectionName),e(n,r)})},r.File.prototype.getExtension=function(e){var t=this;return t.extension(e)},r.File.prototype.isImage=function(e){return t(this,(e||{}).store,"image/")},r.File.prototype.isVideo=function(e){return t(this,(e||{}).store,"video/")},r.File.prototype.isAudio=function(e){return t(this,(e||{}).store,"audio/")},r.File.prototype.formattedSize=function(t){var n=this;if(typeof numeral!="function")throw new Error("You must add the numeral package if you call FS.File.formattedSize");t=t||{},t=t.hash||t;var r=n.size(t)||0;return numeral(r).format(t.formatString||"0.00 b")},r.File.prototype.isUploaded=function(){var e=this;return e.getFileRecord(),!!e.uploadedAt},r.File.prototype.hasStored=function(e,t){var n=this;return n.getFileRecord(),r.Utility.isEmpty(n.copies)?!!t:typeof e=="string"?!!(n.copies&&n.copies[e]&&n.copies[e].key):!1},r.File.prototype.hasCopy=r.File.prototype.hasStored,r.File.prototype.getCopyInfo=function(e){var t=this
;return t.getFileRecord(),t.copies&&t.copies[e]||null},r.File.prototype._getInfo=function(e,t){var n=this;return t=t||{},t.updateFileRecordFirst&&n.getFileRecord(),e?n.copies&&n.copies[e]||{}:n.original||{}},r.File.prototype._setInfo=function(e,t,n,r){var i=this;typeof e=="string"?(i.copies=i.copies||{},i.copies[e]=i.copies[e]||{},i.copies[e][t]=n,r&&i._saveChanges(e)):(i.original=i.original||{},i.original[t]=n,r&&i._saveChanges("_original"))},r.File.prototype.name=function(e,t){var n=this;return!t&&(typeof e=="object"&&e!==null||typeof e=="undefined")?(t=e||{},t=t.hash||t,n._getInfo(t.store,t).name):(t=t||{},n._setInfo(t.store,"name",e,typeof t.save=="boolean"?t.save:!0))},r.File.prototype.extension=function(e,t){var n=this;if(!t&&(typeof e=="object"&&e!==null||typeof e=="undefined"))return t=e||{},r.Utility.getFileExtension(n.name(t)||"");t=t||{};var i=r.Utility.setFileExtension(n.name(t)||"",e);return n._setInfo(t.store,"name",i,typeof t.save=="boolean"?t.save:!0)},r.File.prototype.size=function(e,t){var n=this;return!t&&(typeof e=="object"&&e!==null||typeof e=="undefined")?(t=e||{},t=t.hash||t,n._getInfo(t.store,t).size):(t=t||{},n._setInfo(t.store,"size",e,typeof t.save=="boolean"?t.save:!0))},r.File.prototype.type=function(e,t){var n=this;return!t&&(typeof e=="object"&&e!==null||typeof e=="undefined")?(t=e||{},t=t.hash||t,n._getInfo(t.store,t).type):(t=t||{},n._setInfo(t.store,"type",e,typeof t.save=="boolean"?t.save:!0))},r.File.prototype.updatedAt=function(e,t){var n=this;return!!t||(typeof e!="object"||e===null||e instanceof Date)&&typeof e!="undefined"?(t=t||{},n._setInfo(t.store,"updatedAt",e,typeof t.save=="boolean"?t.save:!0)):(t=e||{},t=t.hash||t,n._getInfo(t.store,t).updatedAt)},typeof Object.getPrototypeOf!="function"&&(typeof "".__proto__=="object"?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype})}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:file"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package.mongo.Mongo;(function(){}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:tempstore"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r,i;(function(){r=Package.http&&Package.http.HTTP||{},r.methods=function(){throw new Error("HTTP.methods not implemented on client-side")}}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:http-methods"]={},{HTTP:r,_methodHTTP:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:http-methods"].HTTP,i;(function(){(function(){r.publish=function(){throw new Error("HTTP.publish not implemented on client-side")},r.publishFormats=function(){throw new Error("HTTP.publishFormats not implemented on client-side")},r.unpublish=function(){throw new Error("HTTP.unpublish not implemented on client-side")}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:http-publish"]={},{_publishHTTP:i})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package.check.check,s=Package.check.Match,o=Package.ejson.EJSON,u=Package["cfs:http-methods"].HTTP,a,f;(function(){(function(){a=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"",a.length>0&&(a.slice(0,1)!=="/"&&(a="/"+a),a.slice(-1)==="/"&&(a=a.slice(0,-1))),e.isCordova&&(a=e.absoluteUrl(a.replace(/^\/+/,"")).replace(/\/+$/,"")),f="/cfs",r.HTTP=r.HTTP||{},r.HTTP.uploadUrl=a+f+"/files",r.HTTP.setBaseUrl=function(n){n.slice(0,1)!=="/"&&(n="/"+n),n.slice(-1)==="/"&&(n=n.slice(0,-1)),f=n,r.HTTP.uploadUrl=a+f+"/files",e.isServer&&!r.Utility.isEmpty(_existingMountPoints)&&mountUrls()},r.File.prototype.url=function(t){var n=this;t=t||{},t=r.Utility.extend({store:null,auth:null,download:!1,metadata:!1,brokenIsFine:!1,uploading:null,storing:null,filename:null},t.hash||t);if(t.uploading&&!n.isUploaded())return t.uploading;if(n.isMounted()){var i=t.store||n.collection.primaryStore.name;if(!n.hasStored(i)){if(t.storing)return t.storing;if(!t.brokenIsFine)return null}var s=t.filename||n.name({store:i});typeof s=="string"&&s.length?s="/"+s:s="";var o="";if(e.isClient&&typeof Accounts!="undefined"&&typeof Accounts._storedLoginToken=="function"){if(t.auth!==!1){e.userId();var u={authToken:Accounts._storedLoginToken()||""};t.auth===+t.auth&&(u.expiration=r.HTTP.now()+t.auth*1e3);var l=JSON.stringify(u);o=r.Utility.btoa(l)}}else typeof t.auth=="string"&&(o=t.auth);var c={};o!==""&&(c.token=o),t.download&&(c.download=!0),t.store&&(c.store=t.store);var h=r.Utility.encodeParams(c);h.length&&(h="?"+h);var p;return t.metadata?p="/record":p="/files",a+f+p+"/"+n.collection.name+"/"+n._id+s+h}}}).call(this),function(){r.HTTP.setHeadersForGet=function(){},r.HTTP.now=function(){return new Date(new Date+r.HTTP._serverTimeDiff)},r.HTTP._storage=function(){var e,t,n;try{n="test",(e=window.localStorage).setItem(n,n),t=e.getItem(n)!==n,e.removeItem(n),t&&(e=!1)}catch(r){console.log("Error initializing storage for FS.HTTP"),console.log(r)}return e},r.HTTP.storage=r.HTTP._storage(),r.HTTP._prefix="fsHTTP.",r.HTTP._serverTimeDiff=0,r.HTTP.storage&&(r.HTTP._serverTimeDiff=1*r.HTTP.storage.getItem(r.HTTP._prefix+"timeDiff")||0,e.startup(function(){u.get(a+"/cfs/servertime",function(e,t){if(!e){var n=new Date(+t.content);r.HTTP._serverTimeDiff=n-new Date,r.HTTP.storage.setItem(r.HTTP._prefix+"timeDiff",r.HTTP._serverTimeDiff)}else console.log(e.message)})}))}.call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:access-point"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,s,o,u;(function(){(function(){s=function(){},o={changed:s,depend:s},u=function(e,t){var n=this,r=t===!1?o:new i.Dependency;n.value=e,n.onChange=function(){},n.changed=function(){r.changed(),n.onChange(n.value)},n.get=function(){return r.depend(),n.value},n.set=function(e){n.value!==e&&(n.value=e,n.changed())},n.dec=function(e){n.value-=e||1,n.changed()},n.inc=function(e){n.value+=e||1,n.changed()},n.getset=function(e){if(typeof e=="undefined")return n.get();n.set(e)},n.toString=function(){var e=n.get();return e?e.toString():""},n.toText=n.toString}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:reactive-property"]={},{ReactiveProperty:u})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,s;(function(){(function(){var e=function(){},t={changed:e,depend:e};s=function(e){var n=this;n.lookup={},n._length=0,n.first,n.last,n.sort=e&&e.sort||function(e,t){return e.key<t.key},n.isReactive=e?e.reactive!==!1:!0;if(e===!0||e&&e.sort===!0)n.sort=function(e,t){return e.key>t.key};n._listDeps=n.isReactive?new i.Dependency:t,n._lengthDeps=n.isReactive?new i.Dependency:t},s.prototype.length=function(){var e=this;return e._lengthDeps.depend(),e._length},s.prototype.reset=function(){var e=this;e.first=undefined,e.last=undefined,e.lookup={},e._length=0,e._lengthDeps.changed(),e._listDeps.changed()},s.prototype.update=function(e,t){var n=this;if(typeof n.lookup[e]=="undefined")throw new Error('Reactive list cannot update, key "'+e+'" not found');n.lookup[e].value=t,n._listDeps.changed()},s.prototype.insert=function(e,t){var n=this;if(typeof n.lookup[e]!="undefined")throw new Error('Reactive list could not insert: key "'+e+'" allready found');var r={key:e,value:t},i=n.first,s=!1;while(typeof i!="undefined"&&!s)n.sort(r,i)&&(typeof i.prev=="undefined"&&(n.first=r),r.prev=i.prev,r.next=i,i.prev&&(i.prev.next=r),i.prev=r,s=!0),i=i.next;s||(r.prev=n.last,n.last&&(n.last.next=r),n.last=r,n._length===0&&(n.first=r)),n.lookup[e]=r,n._length++,n._lengthDeps.changed(),n._listDeps.changed()},s.prototype.remove=function(e){var t=this,n=t.lookup[e];if(typeof n=="undefined")return;var r=n.prev,i=n.next;typeof r!="undefined"?r.next=i:t.first=i,typeof i!="undefined"?i.prev=r:t.last=r,t.lookup[e].last=null,t.lookup[e].prev=null,t.lookup[e]=null,r=null,delete t.lookup[e],t._length--,t._lengthDeps.changed(),t._listDeps.changed()},s.prototype.getLastItem=function(e){var t=this,n=e?t.first:t.last;if(typeof n=="undefined")return;return t.remove(n.key),n.value},s.prototype.getFirstItem=function(){return this.getLastItem(!0)},s.prototype.forEach=function(e,t,n){var r=this;if(typeof e!="function")throw new Error("ReactiveList forEach requires a function");t||r._listDeps.depend();var i=n?r.last:r.first;while(i)e(i.value,i.key),i=n?i.prev:i.next},s.prototype.forEachReverse=function(e,t){this.forEach(e,t,!0)},s.prototype.fetch=function(e){var t=this,n=[];return t.forEach(function(t){n.push(t)},e),n}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:reactive-list"]={},{ReactiveList:s})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,i=Package.tracker.Deps,s=Package["cfs:reactive-property"].ReactiveProperty,o,u,a;(function(){(function(){typeof o=="undefined"&&Package["micro-queue"]&&(o=Package["micro-queue"].MicroQueue),typeof u=="undefined"&&Package["reactive-list"]&&(u=Package["reactive-list"].ReactiveList),typeof o=="undefined"&&Package["cfs:micro-queue"]&&(o=Package["cfs:micro-queue"].MicroQueue),typeof u=="undefined"&&Package["cfs:reactive-list"]&&(u=Package["cfs:reactive-list"].ReactiveList),a=function(e){var t=this,n=5;t.reactive=e&&e.reactive===!1?!1:!0;var r=typeof o!="undefined"&&o||undefined;r=typeof u!="undefined"&&u||r,e&&typeof e.spinalQueue!="undefined"&&(r=e.spinalQueue);if(typeof r=="undefined")throw console.log("Error: You need to add a spinal queue to the project"),console.log('Please add "micro-queue", "reactive-list" to the project'),new Error('Please add "micro-queue", "reactive-list" or other spinalQueue compatible packages');t.invocations=new r({sort:e&&(e.filo||e.lifo),reactive:t.reactive}),t._processList=new r({reactive:t.reactive}),t._maxProcessing=new s(e&&e.maxProcessing||1,t.reactive),t._isProcessing=new s(0,t.reactive),t._paused=new s(e&&e.isPaused||!1,t.reactive),t._running=new s(!1,t.reactive),t._errors=new s(0,t.reactive),t._failures=new s(0,t.reactive),t._jumpOnFailure=e&&e.jumpOnFailure===!1?!1:!0,t._maxLength=new s(0,t.reactive),t._autostart=new s(e&&e.autostart===!1?!1:!0,t.reactive),t._maxFailures=new s(e&&e.maxFailures||5,t.reactive),t.title=e&&e.name||"Queue",t.debug=!!e&&!!e.debug,t.total=t._maxLength.get,t.isPaused=t._paused.get,t.processing=t._isProcessing.get,t.errors=t._errors.get,t.failures=t._failures.get,t.isRunning=t._running.get,t.maxProcessing=t._maxProcessing.getset,t._maxProcessing.onChange=function(){t.updateThrottleUp(),t.updateThrottleDown()},t.autostart=t._autostart.getset,t.maxFailures=t._maxFailures.getset,t.onPaused=e&&e.onPaused||function(){t.debug&&console.log(t.title+" ENDED")},t.onEnded=e&&e.onEnded||function(){t.debug&&console.log(t.title+" ENDED")},t.onRelease=e&&e.onRelease||function(){t.debug&&console.log(t.title+" RELEASED")},t.onAutostart=e&&e.onAutostart||function(){t.debug&&console.log(t.title+" Autostart")}},a.prototype.processingList=function(){var e=this;return e._processList.fetch()},a.prototype.isHalted=function(){var e=this;return!e._running.get()||e._paused.get()},a.prototype.length=function(){var e=this;return e.invocations.length()},a.prototype.progress=function(){var e=this,t=e._maxLength.get()-e.invocations.length()-e._isProcessing.get();return e._maxLength.value>0?Math.round(t/e._maxLength.value*100):0},a.prototype.usage=function(){var e=this;return Math.round(e._isProcessing.get()/e._maxProcessing.get()*100)},a.prototype.reset=function(){var e=this;e.debug&&console.log(e.title+" RESET"),e._running.set(!1),e._paused.set(!1),e.invocations.reset(),e._processList.reset(),e._maxLength.set(0),e._failures.set(0),e._errors.set(0)},a.prototype._autoStartTasks=function(){var e=this;e._paused.value||(!e._running.value&&e._autostart.value&&(e.onAutostart(),e._running.set(!0)),e._running.value&&e.next(null))},a.prototype.add=function(e,t,n){var r=this,i=r._jumpOnFailure||typeof n=="undefined",s=i?r._maxLength.value+1:n;r.invocations.insert(s,{_id:s,data:e,failures:t||0}),i&&r._maxLength.inc(),r._autoStartTasks()},a.prototype.updateThrottleUp=function(){var e=this,t=e._maxProcessing.value-e._isProcessing.value;!e._paused.value&&e._running.value&&t>0&&e.invocations._length>0&&(e._isProcessing.inc(),e.runTask(e.invocations.getFirstItem()),e.updateThrottleUp())},a.prototype.updateThrottleDown=function(){var e=this,t=e._isProcessing.value-e._maxProcessing.value;t>0&&e._processList.forEachReverse(function(e){t>0&&e.queue instanceof a&&(t--,e.queue.pause())},!0)},a.prototype.next=function(e){var t=this;t.updateThrottleUp(),t._running.value&&t._isProcessing.value===0&&e!==null&&(t.onRelease(t.invocations._length),t.invocations._length||(t._running.set(!1),t.onEnded()))},a.prototype.runTaskDone=function(t,n){var r=this;if(t instanceof e.Error)r._maxFailures.value>0&&n.failures++,r._failures.inc(),console.error('Error: "'+r.title+'" '+t.message+", "+t.stack),n.failures<r._maxFailures.value?r.add(n.data,n.failures,n._id):(r._errors.inc(),r.errorHandler(n.data,r.add,n.failures));else if(t instanceof Error)throw t;t&&t===null&&r.invocations.insert(n._id,{data:n.data,failures:n.failures,_id:n._id});if(t===""+t){var i={pause:function(){r.pause()},stop:function(){r.stop()},reset:function(){r.reset()},cancel:function(){r.cancel()}};if(typeof i[t]!="function")throw new Error('Unknown queue command "'+t+'"');i[t]()}r._isProcessing.value>0&&r._isProcessing.dec(),r._processList.remove(n._id),n.data=null,n.failures=null,n._id=null,n=null,delete n,e.setTimeout(function(){r.next()},0)},a.prototype.runTask=function(e){var t=this;try{e.data instanceof a?(t._processList.insert(e._id,{id:e._id,queue:e.data}),t.queueTaskHandler(e.data,function(r){t.runTaskDone(r,e)},e.failures)):(t._processList.insert(e._id,e.data),t.taskHandler(e.data,function(r){t.runTaskDone(r,e)},e.failures))}catch(n){throw new Error("Error while running taskHandler for queue, Error: "+n.message)}},a.prototype.queueTaskHandler=function(e,t,n){var r=this;e.onRelease=function(e){e>0?t(null):t()},e.run()},a.prototype.taskHandler=function(e,t,n){var r=this;if(typeof e!="function")throw new Error("Default task handler expects a function");try{e(t,n)}catch(i){t(i)}},a.prototype.errorHandler=function(e,t,n){var r=this;r.debug&&console.log("Terminate at "+n+" failures")},a.prototype.pause=function(){var e=this;e._paused.value||(e._paused.set(!0),e._processList.forEach(function(e){e.queue instanceof a&&e.queue.pause()},!0),e.onPaused())},a.prototype.resume=function(){var e=this;e.run()},a.prototype.run=function(){var e=this;if(!e._paused.value&&e._running.value||!e.invocations._length)return;e._paused.set(!1),e._running.set(!0),e.next(null)},a.prototype.stop=function(){var e=this;e._running.set(!1)},a.prototype.cancel=function(){var e=this;e.reset()}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:power-queue"]={},{PowerQueue:a})}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package.tracker.Tracker,s=Package.tracker.Deps,o=Package.check.check,u=Package.check.Match,a=Package["ddp-client"].DDP,f=Package["raix:eventemitter"].EventEmitter,l=Package.mongo.Mongo;(function(){(function(){r.Collection=function(t,n){var i=this;i.storesLookup={},i.primaryStore={},i.options={filter:null,stores:[],chunkSize:null},r.HTTP&&r.HTTP.uploadQueue?i.options.uploader=r.HTTP.uploadQueue.uploadFile:r.DDP&&r.DDP.uploadQueue&&(i.options.uploader=r.DDP.uploadQueue.uploadFile),r.Utility.extend(i.options,n||{}),i.name=t;if(r.Utility.isEmpty(i.options.stores))throw new Error("You must specify at least one store. Please consult the documentation.");r.Utility.each(i.options.stores,function(n,s){s===0&&(i.primaryStore=n);if(typeof i.storesLookup[n.name]!="undefined")throw new Error("FS.Collection store names must be uniq, duplicate found: "+n.name);i.storesLookup[n.name]=n,e.isServer&&(n.on("stored",function(e,s){if(e!==n.name)return;if(s.collectionName===t){var o=i.emit("stored",s,n.name);r.debug&&!o&&console.log(s.name({store:n.name})+" was successfully saved to the "+n.name+' store. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "stored" event on the '+t+" collection.")}s.emit("stored",n.name)}),n.on("error",function(e,s,o){if(e!==n.name)return;if(o.collectionName===t){s=new Error("Error storing file to the "+n.name+" store: "+s.message);var u=i.emit("error",s,o,n.name);r.debug&&!u&&console.log(s.message)}o.emit("error",n.name)}))});var s={transform:function(e){var n=new r.File(e,!0);return n.collectionName=t,n}},o="cfs."+t+".filerecord";i.files=new l.Collection(o,s),i._validators={download:{allow:[],deny:[]}},i.filters&&i.filters(i.options.filter),r._collections[t]=this,e.isServer&&r.FileWorker&&r.FileWorker.observe(this),i.files.find().observe({removed:function(e){i.emit("removed",e)}});if(r.TempStore)r.TempStore.on("stored",function(e,n){if(e.collectionName===t){var s=i.emit("uploaded",e);r.debug&&!s&&console.log(e.name()+' was successfully uploaded. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "uploaded" event on the '+t+" collection.")}}),r.TempStore.on("error",function(e,n){n.collectionName===t&&i.emit("error",new Error("Error storing uploaded file to TempStore: "+e.message),n)});else if(e.isServer)throw new Error("FS.Collection constructor: FS.TempStore must be defined before constructing any FS.Collections.")},r.Collection.prototype=new f}).call(this),function(){r.Collection.prototype.insert=function(t,n){function s(t){e.isClient?i.options.uploader&&i.options.uploader(t):e.isServer&&t.createReadStream().pipe(r.TempStore.createWriteStream(t))}function o(e){return i.allowsFile(e)?(e.collectionName=i.name,n?e._id=i.files.insert(r.Utility.cloneFileRecord(e),function(t,r){t?e._id&&delete e._id:(e._id=r,s(e)),n(t,t?void 0:e)}):(e._id=i.files.insert(r.Utility.cloneFileRecord(e)),s(e)),e):r.Utility.handleError(n,"FS.Collection insert: file does not pass collection filters")}var i=this;e.isClient&&!n&&(n=r.Utility.defaultCallback);if(t instanceof r.File)return o(t);var u=new r.File(t);return n?u.attachData(t,function(t){t?n(t):o(u)}):(u.attachData(t),o(u)),u},r.Collection.prototype.update=function(e,t,n,i){var s=this;if(e instanceof r.File){if(e.collectionName===s.files._name)return e.update(t,n,i);throw new Error('FS.Collection cannot update file belongs to: "'+e.collectionName+'" not: "'+s.files._name+'"')}return s.files.update(e,t,n,i)},r.Collection.prototype.remove=function(e,t){var n=this;if(e instanceof r.File){if(e.collectionName===n.files._name)return e.remove(t);throw new Error('FS.Collection cannot remove file belongs to: "'+e.collectionName+'" not: "'+n.files._name+'"')}return t=t||r.Utility.defaultCallback,n.files.remove(e,t)},r.Collection.prototype.findOne=function(e){var t=this;return t.files.findOne.apply(t.files,arguments)},r.Collection.prototype.find=function(e){var t=this;return t.files.find.apply(t.files,arguments)},r.Collection.prototype.allow=function(e){var t=this;if(e.download){if(!(e.download instanceof Function))throw new Error("allow: Value for `download` must be a function");t._validators.download.allow.push(e.download),delete e.download}return t.files.allow.call(t.files,e)},r.Collection.prototype.deny=function(e){var t=this;if(e.download){if(!(e.download instanceof Function))throw new Error("deny: Value for `download` must be a function");t._validators.download.deny.push(e.download),delete e.download}return t.files.deny.call(t.files,e)},r.Collection.prototype.allowsFile=function(t){return!0}}.call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:collection"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package["cfs:power-queue"].PowerQueue,s=Package["cfs:reactive-list"].ReactiveList,o,u,a,f,l,c,h;(function(){(function(){o=function(t,n,i,s){!s&&typeof i=="function"&&(s=i,i=null),i=i||{};if(typeof s!="function")throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var o={},f=i.content;i.data&&(f=JSON.stringify(i.data),o["Content-Type"]="application/json");var h,p;f||t==="GET"||t==="HEAD"?h=i.params:p=i.params;var d=/^(.*?)(\?.*)?$/.exec(n);n=u(d[1],d[2],i.query,h);if(i.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var v,m;if(i.auth){var g=i.auth.indexOf(":");if(g<0)throw new Error('auth option should be of the form "username:password"');v=i.auth.substring(0,g),m=i.auth.substring(g+1)}p&&(f=a(p)),r.Utility.extend(o,i.headers||{}),s=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(s),s=r.Utility.once(s);try{var y;if(typeof XMLHttpRequest!="undefined")y=new XMLHttpRequest;else{if(typeof ActiveXObject=="undefined")throw new Error("Can't create XMLHttpRequest");y=new ActiveXObject("Microsoft.XMLHttp")}y.open(t,n,!0,v,m);var b;i.responseType==="ejson-binary"?(y.responseType="arraybuffer",b=!0):y.responseType=i.responseType;for(var w in o)y.setRequestHeader(w,o[w]);var E=!1,S;i.timeout&&(S=e.setTimeout(function(){E=!0,y.abort()},i.timeout)),y.onreadystatechange=function(t){if(y.readyState===4){S&&e.clearTimeout(S);if(E)s(new Error("timeout"));else if(!y.status)s(new Error("network"));else{var n={};n.statusCode=y.status;var o=y.response||y.responseText;if(i.responseType==="json"&&typeof o=="string")try{o=JSON.parse(o)}catch(u){o=null}if(b&&typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&o instanceof ArrayBuffer){var a=new Uint8Array(o),f=o.byteLength,h=EJSON.newBinary(f);for(var p=0;p<f;p++)h[p]=a[p];o=h}n.content=o,n.headers={};var d=y.getAllResponseHeaders();""===d&&y.getResponseHeader("content-type")&&(d="content-type: "+y.getResponseHeader("content-type"));var v=d.split(/\r?\n/);r.Utility.each(v,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&t.length===3&&(n.headers[t[1].toLowerCase()]=t[2])}),c(n);var m=null;n.statusCode>=400&&(m=l(n.statusCode,n.content)),s(m,n)}}},y.send(f)}catch(x){s(x)}},u=function(e,t,n,r){var i=e,s=t?t.slice(1):null;typeof n=="string"&&(s=String(n));if(r){s=s||"";var o=a(r);s&&o&&(s+="&"),s+=o}var u=i;return s!==null&&(u+="?"+s),u},a=function(e){var t=[];return r.Utility.each(e,function(e,n){t.length&&t.push("&"),t.push(f(n),"=",f(e))}),t.join("").replace(/%20/g,"+")},f=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},l=function(e,t){var n=160,r=function(e,t){return e.length>t?e.slice(0,t)+"...":e},i="failed ["+e+"]";return t&&(i+=" "+r(t.replace(/\n/g," "),n)),new Error(i)},c=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(r.Utility.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null}}).call(this),function(){r.HTTP=r.HTTP||{}}.call(this),function(){var t=2097152,n=function(t,n){r.debug&&console.log("uploading chunk "+t.chunk+", bytes "+t.start+" to "+Math.min(t.end,t.fileObj.size())+" of "+t.fileObj.size()),t.fileObj.data.getBinary(t.start,t.end,function(s,u){s?n(new e.Error(s.error,s.message)):(r.debug&&console.log("PUT to URL",t.url,t.urlParams),o("PUT",t.url,{params:r.Utility.extend({chunk:t.chunk},t.urlParams),content:u,headers:{"Content-Type":t.fileObj.type()}},function(r,i){t=null,r?n(new e.Error(r.error,r.message)):n()}))})},u=function(e,t,n){};h=function(e){e=e||{};var o=new i({name:"HTTPUploadTransferQueue",maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!0,isPaused:!1,filo:!1,debug:r.debug});return o.files={},o.cancel=o.reset,o.isUploadingFile=function(e){return!!(e&&e._id&&e.collectionName&&(o.files[e.collectionName]||{})[e._id])},o.resumeUploadingFile=function(e){if(!(e instanceof r.File))throw new Error("Transfer queue expects a FS.File");e.isMounted()&&(o.files[e.collectionName]=o.files[e.collectionName]||{},o.files[e.collectionName][e._id]=!1,o.uploadFile(e))},o.uploadFile=function(e){r.debug&&console.log("HTTP uploadFile");if(!(e instanceof r.File))throw new Error("Transfer queue expects a FS.File");if(typeof e.size()!="number")throw new Error("TransferQueue upload failed: fileObj size not set");if(o.isUploadingFile(e)||e.isUploaded())return;if(e.isMounted()){var a=e.collectionName,f=e._id;e.chunkSize=e.collection.options.chunkSize||r.config.uploadChunkSize||t,e.chunkCount=0,e.chunkSum=Math.ceil(e.size()/e.chunkSize);if(e.chunkSum===0)return;e.update({$set:{chunkSize:e.chunkSize,chunkCount:e.chunkCount,chunkSum:e.chunkSum}});var l=new i({onEnded:function(){o.files[a][f]=!1,e.emit("uploaded")},spinalQueue:s,maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!1,isPaused:!1,filo:!1});l.taskHandler=n,l.errorHandler=u,o.files[a]=o.files[a]||{},o.files[a][f]=!0;var c=r.HTTP.uploadUrl+"/"+a;f&&(c+="/"+f);var h="";if(typeof Accounts!="undefined"){var p={authToken:Accounts._storedLoginToken()||""},d=JSON.stringify(p);h=r.Utility.btoa(d)}var v={filename:e.name()};h!==""&&(v.token=h);for(var m=0,g;m<e.chunkSum;m++)g=m*e.chunkSize,l.add({chunk:m,name:e.name(),url:c,urlParams:v,fileObj:e,start:g,end:(m+1)*e.chunkSize});o.add(l)}},o},r.HTTP.uploadQueue=new h,r.File.prototype.resume=function(e){var t=this;r.uploadQueue.resumeUploadingFile(t)}}.call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:upload-http"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS;(function(){(function(){function e(e,t){var n,r=!1;for(var i=0,s=e.length;i<s;i++){n=e[i];if(n===t){r=!0;break}if(n==="image/*"&&t.indexOf("image/")===0){r=!0;break}if(n==="audio/*"&&t.indexOf("audio/")===0){r=!0;break}if(n==="video/*"&&t.indexOf("video/")===0){r=!0;break}}return r}r.Collection.prototype.filters=function(t){var n=this;if(t){r.Utility.each(["allow","deny"],function(e){if(!t[e])t[e]={};else if(typeof t[e]!="object")throw new Error(e+" filter must be an object")});if(typeof t.maxSize=="undefined")t.maxSize=null;else if(t.maxSize&&typeof t.maxSize!="number")throw new Error("maxSize filter must be an number");r.Utility.each(["allow","deny"],function(e){if(!t[e].extensions)t[e].extensions=[];else{if(!r.Utility.isArray(t[e].extensions))throw new Error(e+".extensions filter must be an array of extensions");for(var n=0,i=t[e].extensions.length;n<i;n++)t[e].extensions[n]=t[e].extensions[n].toLowerCase()}}),r.Utility.each(["allow","deny"],function(e){if(!t[e].contentTypes)t[e].contentTypes=[];else if(!r.Utility.isArray(t[e].contentTypes))throw new Error(e+".contentTypes filter must be an array of content types")}),n.options.filter=t}n.files.deny({insert:function(e,t){return!n.allowsFile(t)},update:function(e,t,r,i){return!n.allowsFile(t)},fetch:[]}),Package&&Package.insecure&&n.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},download:function(){return!0},fetch:[],transform:null})},r.Collection.prototype.allowsFile=function(n){var i=this,s=i.options.filter;if(!s)return!0;var o=s.allow.extensions.length===0,u=s.allow.contentTypes.length===0,a=n.name(),f=n.type();if(!u&&!f)return s.onInvalid&&s.onInvalid(a+" has an unknown content type"),!1;var l=n.size();if(!l||isNaN(l))return s.onInvalid&&s.onInvalid(a+" has an unknown file size"),!1;if(a){var c=n.getExtension();if(!o&&r.Utility.indexOf(s.allow.extensions,c)===-1||r.Utility.indexOf(s.deny.extensions,c)!==-1)return s.onInvalid&&s.onInvalid(a+' has the extension "'+c+'", which is not allowed'),!1}return!u&&!e(s.allow.contentTypes,f)||!!e(s.deny.contentTypes,f)?(s.onInvalid&&s.onInvalid(a+' is of the type "'+f+'", which is not allowed'),!1):typeof s.maxSize=="number"&&l>s.maxSize?(s.onInvalid&&s.onInvalid(a+" is too big"),!1):!0}}).call(this)}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:collection-filters"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,i=Package["ddp-client"].DDP,s=Package["cfs:power-queue"].PowerQueue,o=Package.mongo.Mongo;(function(){}).call(this),typeof Package=="undefined"&&(Package={}),Package["cfs:worker"]={}}(),Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,_=Package.underscore._,DDP=Package["ddp-client"].DDP,Mongo=Package.mongo.Mongo,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,Accounts=Package["accounts-base"].Accounts,FS=Package["cfs:base-package"].FS,function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["accounts-base"].Accounts,i=Package.mongo.Mongo,s;(function(){typeof s=="undefined"&&(s={}),s.configurations=new i.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:e.isClient?r.connection:e.connection}),s.ConfigError=function(t){e.isClient&&!r.loginServicesConfigured()?this.message="Login service configuration not yet loaded":t?this.message="Service "+t+" not configured":this.message="Service not configured"},s.ConfigError.prototype=new Error,s.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),typeof Package=="undefined"&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["service-configuration"]={},{ServiceConfiguration:s})}();